(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Ld={exports:{}},_l={};var F_;function $A(){if(F_)return _l;F_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return _l.Fragment=t,_l.jsx=n,_l.jsxs=n,_l}var G_;function JA(){return G_||(G_=1,Ld.exports=$A()),Ld.exports}var q=JA(),Ud={exports:{}},St={};var Q_;function ZA(){if(Q_)return St;Q_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function L(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,B={};function et(M,Z,at){this.props=M,this.context=Z,this.refs=B,this.updater=at||Q}et.prototype.isReactComponent={},et.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},et.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function X(){}X.prototype=et.prototype;function nt(M,Z,at){this.props=M,this.context=Z,this.refs=B,this.updater=at||Q}var pt=nt.prototype=new X;pt.constructor=nt,tt(pt,et.prototype),pt.isPureReactComponent=!0;var _t=Array.isArray;function wt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function w(M,Z,at){var lt=at.ref;return{$$typeof:r,type:M,key:Z,ref:lt!==void 0?lt:null,props:at}}function V(M,Z){return w(M.type,Z,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(at){return Z[at]})}var C=/\/+/g;function ie(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):Z.toString(36)}function Ie(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(wt,wt):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Y(M,Z,at,lt,Et){var Ct=typeof M;(Ct==="undefined"||Ct==="boolean")&&(M=null);var Pt=!1;if(M===null)Pt=!0;else switch(Ct){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(M.$$typeof){case r:case t:Pt=!0;break;case E:return Pt=M._init,Y(Pt(M._payload),Z,at,lt,Et)}}if(Pt)return Et=Et(M),Pt=lt===""?"."+ie(M,0):lt,_t(Et)?(at="",Pt!=null&&(at=Pt.replace(C,"$&/")+"/"),Y(Et,Z,at,"",function(ns){return ns})):Et!=null&&(O(Et)&&(Et=V(Et,at+(Et.key==null||M&&M.key===Et.key?"":(""+Et.key).replace(C,"$&/")+"/")+Pt)),Z.push(Et)),1;Pt=0;var De=lt===""?".":lt+":";if(_t(M))for(var re=0;re<M.length;re++)lt=M[re],Ct=De+ie(lt,re),Pt+=Y(lt,Z,at,Ct,Et);else if(re=L(M),typeof re=="function")for(M=re.call(M),re=0;!(lt=M.next()).done;)lt=lt.value,Ct=De+ie(lt,re++),Pt+=Y(lt,Z,at,Ct,Et);else if(Ct==="object"){if(typeof M.then=="function")return Y(Ie(M),Z,at,lt,Et);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function st(M,Z,at){if(M==null)return M;var lt=[],Et=0;return Y(M,lt,"","",function(Ct){return Z.call(at,Ct,Et++)}),lt}function dt(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(at){(M._status===0||M._status===-1)&&(M._status=1,M._result=at)},function(at){(M._status===0||M._status===-1)&&(M._status=2,M._result=at)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var zt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Gt={map:st,forEach:function(M,Z,at){st(M,function(){Z.apply(this,arguments)},at)},count:function(M){var Z=0;return st(M,function(){Z++}),Z},toArray:function(M){return st(M,function(Z){return Z})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return St.Activity=S,St.Children=Gt,St.Component=et,St.Fragment=n,St.Profiler=o,St.PureComponent=nt,St.StrictMode=s,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,St.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},St.cache=function(M){return function(){return M.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(M,Z,at){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var lt=tt({},M.props),Et=M.key;if(Z!=null)for(Ct in Z.key!==void 0&&(Et=""+Z.key),Z)!b.call(Z,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&Z.ref===void 0||(lt[Ct]=Z[Ct]);var Ct=arguments.length-2;if(Ct===1)lt.children=at;else if(1<Ct){for(var Pt=Array(Ct),De=0;De<Ct;De++)Pt[De]=arguments[De+2];lt.children=Pt}return w(M.type,Et,lt)},St.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},St.createElement=function(M,Z,at){var lt,Et={},Ct=null;if(Z!=null)for(lt in Z.key!==void 0&&(Ct=""+Z.key),Z)b.call(Z,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(Et[lt]=Z[lt]);var Pt=arguments.length-2;if(Pt===1)Et.children=at;else if(1<Pt){for(var De=Array(Pt),re=0;re<Pt;re++)De[re]=arguments[re+2];Et.children=De}if(M&&M.defaultProps)for(lt in Pt=M.defaultProps,Pt)Et[lt]===void 0&&(Et[lt]=Pt[lt]);return w(M,Ct,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(M){return{$$typeof:m,render:M}},St.isValidElement=O,St.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:dt}},St.memo=function(M,Z){return{$$typeof:y,type:M,compare:Z===void 0?null:Z}},St.startTransition=function(M){var Z=D.T,at={};D.T=at;try{var lt=M(),Et=D.S;Et!==null&&Et(at,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(wt,zt)}catch(Ct){zt(Ct)}finally{Z!==null&&at.types!==null&&(Z.types=at.types),D.T=Z}},St.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},St.use=function(M){return D.H.use(M)},St.useActionState=function(M,Z,at){return D.H.useActionState(M,Z,at)},St.useCallback=function(M,Z){return D.H.useCallback(M,Z)},St.useContext=function(M){return D.H.useContext(M)},St.useDebugValue=function(){},St.useDeferredValue=function(M,Z){return D.H.useDeferredValue(M,Z)},St.useEffect=function(M,Z){return D.H.useEffect(M,Z)},St.useEffectEvent=function(M){return D.H.useEffectEvent(M)},St.useId=function(){return D.H.useId()},St.useImperativeHandle=function(M,Z,at){return D.H.useImperativeHandle(M,Z,at)},St.useInsertionEffect=function(M,Z){return D.H.useInsertionEffect(M,Z)},St.useLayoutEffect=function(M,Z){return D.H.useLayoutEffect(M,Z)},St.useMemo=function(M,Z){return D.H.useMemo(M,Z)},St.useOptimistic=function(M,Z){return D.H.useOptimistic(M,Z)},St.useReducer=function(M,Z,at){return D.H.useReducer(M,Z,at)},St.useRef=function(M){return D.H.useRef(M)},St.useState=function(M){return D.H.useState(M)},St.useSyncExternalStore=function(M,Z,at){return D.H.useSyncExternalStore(M,Z,at)},St.useTransition=function(){return D.H.useTransition()},St.version="19.2.3",St}var K_;function Nm(){return K_||(K_=1,Ud.exports=ZA()),Ud.exports}var G=Nm(),Pd={exports:{}},vl={},kd={exports:{}},zd={};var Y_;function WA(){return Y_||(Y_=1,(function(r){function t(Y,st){var dt=Y.length;Y.push(st);t:for(;0<dt;){var zt=dt-1>>>1,Gt=Y[zt];if(0<o(Gt,st))Y[zt]=st,Y[dt]=Gt,dt=zt;else break t}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var st=Y[0],dt=Y.pop();if(dt!==st){Y[0]=dt;t:for(var zt=0,Gt=Y.length,M=Gt>>>1;zt<M;){var Z=2*(zt+1)-1,at=Y[Z],lt=Z+1,Et=Y[lt];if(0>o(at,dt))lt<Gt&&0>o(Et,at)?(Y[zt]=Et,Y[lt]=dt,zt=lt):(Y[zt]=at,Y[Z]=dt,zt=Z);else if(lt<Gt&&0>o(Et,dt))Y[zt]=Et,Y[lt]=dt,zt=lt;else break t}}return st}function o(Y,st){var dt=Y.sortIndex-st.sortIndex;return dt!==0?dt:Y.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,R=3,L=!1,Q=!1,tt=!1,B=!1,et=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function pt(Y){for(var st=n(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=Y)s(y),st.sortIndex=st.expirationTime,t(g,st);else break;st=n(y)}}function _t(Y){if(tt=!1,pt(Y),!Q)if(n(g)!==null)Q=!0,wt||(wt=!0,U());else{var st=n(y);st!==null&&Ie(_t,st.startTime-Y)}}var wt=!1,D=-1,b=5,w=-1;function V(){return B?!0:!(r.unstable_now()-w<b)}function O(){if(B=!1,wt){var Y=r.unstable_now();w=Y;var st=!0;try{t:{Q=!1,tt&&(tt=!1,X(D),D=-1),L=!0;var dt=R;try{e:{for(pt(Y),S=n(g);S!==null&&!(S.expirationTime>Y&&V());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,R=S.priorityLevel;var Gt=zt(S.expirationTime<=Y);if(Y=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,pt(Y),st=!0;break e}S===n(g)&&s(g),pt(Y)}else s(g);S=n(g)}if(S!==null)st=!0;else{var M=n(y);M!==null&&Ie(_t,M.startTime-Y),st=!1}}break t}finally{S=null,R=dt,L=!1}st=void 0}}finally{st?U():wt=!1}}}var U;if(typeof nt=="function")U=function(){nt(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ie=C.port2;C.port1.onmessage=O,U=function(){ie.postMessage(null)}}else U=function(){et(O,0)};function Ie(Y,st){D=et(function(){Y(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(Y){switch(R){case 1:case 2:case 3:var st=3;break;default:st=R}var dt=R;R=st;try{return Y()}finally{R=dt}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(Y,st){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var dt=R;R=Y;try{return st()}finally{R=dt}},r.unstable_scheduleCallback=function(Y,st,dt){var zt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?zt+dt:zt):dt=zt,Y){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=dt+Gt,Y={id:E++,callback:st,priorityLevel:Y,startTime:dt,expirationTime:Gt,sortIndex:-1},dt>zt?(Y.sortIndex=dt,t(y,Y),n(g)===null&&Y===n(y)&&(tt?(X(D),D=-1):tt=!0,Ie(_t,dt-zt))):(Y.sortIndex=Gt,t(g,Y),Q||L||(Q=!0,wt||(wt=!0,U()))),Y},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Y){var st=R;return function(){var dt=R;R=st;try{return Y.apply(this,arguments)}finally{R=dt}}}})(zd)),zd}var X_;function t1(){return X_||(X_=1,kd.exports=WA()),kd.exports}var jd={exports:{}},Ye={};var $_;function e1(){if($_)return Ye;$_=1;var r=Nm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Ye.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Ye.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Ye.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ye.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:L}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:R,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Ye.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Ye.requestFormReset=function(g){s.d.r(g)},Ye.unstable_batchedUpdates=function(g,y){return g(y)},Ye.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Ye.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var J_;function n1(){if(J_)return jd.exports;J_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),jd.exports=e1(),jd.exports}var Z_;function i1(){if(Z_)return vl;Z_=1;var r=t1(),t=Nm(),n=n1();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case et:return"Profiler";case B:return"StrictMode";case _t:return"Suspense";case wt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Q:return"Portal";case nt:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case pt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:ie(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return ie(e(i))}catch{}}return null}var Ie=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function M(e){return{current:e}}function Z(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function at(e,i){Gt++,zt[Gt]=e.current,e.current=i}var lt=M(null),Et=M(null),Ct=M(null),Pt=M(null);function De(e,i){switch(at(Ct,i),at(Et,e),at(lt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?d_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=d_(i),e=m_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(lt),at(lt,e)}function re(){Z(lt),Z(Et),Z(Ct)}function ns(e){e.memoizedState!==null&&at(Pt,e);var i=lt.current,a=m_(i,e.type);i!==a&&(at(Et,e),at(lt,a))}function $s(e){Et.current===e&&(Z(lt),Z(Et)),Pt.current===e&&(Z(Pt),ml._currentValue=dt)}var Js,Zs;function ti(e){if(Js===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Js=i&&i[1]||"",Zs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Js+e+Zs}var mo=!1;function is(e,i){if(!e||mo)return"";mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var j=F}Reflect.construct(e,[],J)}else{try{J.call()}catch(F){j=F}e.call(J.prototype)}}else{try{throw Error()}catch(F){j=F}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var K=`
`+I[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{mo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ti(a):""}function po(e,i){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==i&&i!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return is(e.type,!1);case 11:return is(e.type.render,!1);case 1:return is(e.type,!0);case 31:return ti("Activity");default:return""}}function go(e){try{var i="",a=null;do i+=po(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,lr=r.unstable_cancelCallback,Uh=r.unstable_shouldYield,tu=r.unstable_requestPaint,We=r.unstable_now,rs=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,_o=r.unstable_UserBlockingPriority,ur=r.unstable_NormalPriority,Ph=r.unstable_LowPriority,eu=r.unstable_IdlePriority,nu=r.log,iu=r.unstable_setDisableYieldValue,kn=null,ze=null;function Tn(e){if(typeof nu=="function"&&iu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(kn,e)}catch{}}var fe=Math.clz32?Math.clz32:su,ru=Math.log,Ws=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(ru(e)/Ws|0)|0}var ei=256,ss=262144,_e=4194304;function ni(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ni(l):(_&=T,_!==0?h=ni(_):a||(a=T&~e,a!==0&&(h=ni(a))))):(T=l&~d,T!==0?h=ni(T):_!==0?h=ni(_):a||(a=l&~e,a!==0&&(h=ni(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function zn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function kh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ri(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function as(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zh(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var K=31-fe(a),J=1<<K;T[K]=0,I[K]=-1;var j=z[K];if(j!==null)for(z[K]=null,K=0;K<j.length;K++){var F=j[K];F!==null&&(F.lane&=-536870913)}a&=~J}l!==0&&os(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function os(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-fe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function vo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-fe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Eo(e,i){var a=i&-i;return a=(a&42)!==0?1:ls(a),(a&(e.suspendedLanes|i))!==0?0:a}function ls(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ou(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:P_(e.type))}function jn(e,i){var a=st.p;try{return st.p=e,i()}finally{st.p=a}}var Bn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Bn,xe="__reactProps$"+Bn,si="__reactContainer$"+Bn,ta="__reactEvents$"+Bn,jh="__reactListeners$"+Bn,lu="__reactHandles$"+Bn,uu="__reactResources$"+Bn,ai="__reactMarker$"+Bn;function ea(e){delete e[ve],delete e[xe],delete e[ta],delete e[jh],delete e[lu]}function oi(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[si]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=T_(e);e!==null;){if(a=e[ve])return a;e=T_(e)}return i}e=a,a=e.parentNode}return null}function Sn(e){if(e=e[ve]||e[si]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function hn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function li(e){var i=e[uu];return i||(i=e[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(e){e[ai]=!0}var To=new Set,So={};function ui(e,i){ci(e,i),ci(e+"Capture",i)}function ci(e,i){for(So[e]=i,e=0;e<i.length;e++)To.add(i[e])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},Ro={};function cu(e){return ye.call(Ro,e)?!0:ye.call(bo,e)?!1:Ao.test(e)?Ro[e]=!0:(bo[e]=!0,!1)}function na(e,i,a){if(cu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function fn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Te(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Qt(e){if(!e._valueTracker){var i=cr(e)?"checked":"value";e._valueTracker=wo(e,i,""+e[i])}}function us(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=cr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cs=/[\n"\\]/g;function nn(e){return e.replace(cs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ia(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Co(e,_,Le(i)):a!=null?Co(e,_,Le(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Le(T):e.removeAttribute("name")}function hu(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qt(e);return}a=a!=null?""+Le(a):"",i=i!=null?""+Le(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Qt(e)}function Co(e,i,a){i==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function fu(e,i,a){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Le(a):""}function fr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Le(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Qt(e)}function rn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||du.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Do(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Io(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Io(e,d,i[d])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var No=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,fi=null;function hs(e){var i=Sn(e);if(i&&(e=i.stateNode)){var a=e[xe]||null;t:switch(e=i.stateNode,i.type){case"input":if(ia(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[xe]||null;if(!h)throw Error(s(90));ia(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&us(l)}break t;case"textarea":fu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&hr(e,!!a.multiple,i,!1)}}}var aa=!1;function pr(e,i,a){if(aa)return e(i,a);aa=!0;try{var l=e(i);return l}finally{if(aa=!1,(mr!==null||fi!==null)&&(oc(),mr&&(i=mr,e=fi,fi=mr=null,hs(i),e)))for(i=0;i<e.length;i++)hs(e[i])}}function Hn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[xe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=!1;if(bn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){fs=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{fs=!1}var di=null,Oo=null,ds=null;function Mo(){if(ds)return ds;var e,i=Oo,a=i.length,l,h="value"in di?di.value:di.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return ds=h.slice(e,1<l?1-l:void 0)}function ms(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Fn(){return!1}function je(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Vi:Fn,this.isPropagationStopped=Fn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),i}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=je(xi),gr=S({},xi,{view:0,detail:0}),Vo=je(gr),yr,oa,pi,la=S({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(yr=e.screenX-pi.screenX,oa=e.screenY-pi.screenY):oa=yr=0,pi=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),xo=je(la),ps=S({},la,{dataTransfer:0}),pu=je(ps),gu=S({},gr,{relatedTarget:0}),gs=je(gu),Lo=S({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=je(Lo),ua=S({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=je(ua),vu=S({},xi,{data:0}),gi=je(vu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Su[e])?!!i[e]:!1}function _r(){return Au}var tn=S({},gr,{key:function(e){if(e.key){var i=Eu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=je(tn),Ru=S({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=je(Ru),c=S({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),p=je(c),v=S({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=je(v),P=S({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=je(P),rt=S({},xi,{newState:0,oldState:0}),bt=je(rt),de=[9,13,27,32],qt=bn&&"CompositionEvent"in window,se=null;bn&&"documentMode"in document&&(se=document.documentMode);var Rn=bn&&"TextEvent"in window&&!se,yi=bn&&(!qt||se&&8<se&&11>=se),Gn=" ",Qn=!1;function ys(e,i){switch(e){case"keyup":return de.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function ES(e,i){switch(e){case"compositionend":return ca(i);case"keypress":return i.which!==32?null:(Qn=!0,Gn);case"textInput":return e=i.data,e===Gn&&Qn?null:e;default:return null}}function TS(e,i){if(ha)return e==="compositionend"||!qt&&ys(e,i)?(e=Mo(),ds=Oo=di=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yi&&i.locale!=="ko"?null:i.data;default:return null}}var SS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!SS[e.type]:i==="textarea"}function Rp(e,i,a,l){mr?fi?fi.push(l):fi=[l]:mr=l,i=mc(i,"onChange"),0<i.length&&(a=new mi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Uo=null,Po=null;function AS(e){o_(e,0)}function wu(e){var i=hn(e);if(us(i))return e}function wp(e,i){if(e==="change")return i}var Cp=!1;if(bn){var Bh;if(bn){var qh="oninput"in document;if(!qh){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),qh=typeof Ip.oninput=="function"}Bh=qh}else Bh=!1;Cp=Bh&&(!document.documentMode||9<document.documentMode)}function Dp(){Uo&&(Uo.detachEvent("onpropertychange",Np),Po=Uo=null)}function Np(e){if(e.propertyName==="value"&&wu(Po)){var i=[];Rp(i,Po,e,An(e)),pr(AS,i)}}function bS(e,i,a){e==="focusin"?(Dp(),Uo=i,Po=a,Uo.attachEvent("onpropertychange",Np)):e==="focusout"&&Dp()}function RS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(Po)}function wS(e,i){if(e==="click")return wu(i)}function CS(e,i){if(e==="input"||e==="change")return wu(i)}function IS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var dn=typeof Object.is=="function"?Object.is:IS;function ko(e,i){if(dn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ye.call(i,h)||!dn(e[h],i[h]))return!1}return!0}function Op(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mp(e,i){var a=Op(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Op(a)}}function Vp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Vp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function xp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=hi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=hi(e.document)}return i}function Hh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var DS=bn&&"documentMode"in document&&11>=document.documentMode,fa=null,Fh=null,zo=null,Gh=!1;function Lp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gh||fa==null||fa!==hi(l)||(l=fa,"selectionStart"in l&&Hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zo&&ko(zo,l)||(zo=l,l=mc(Fh,"onSelect"),0<l.length&&(i=new mi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=fa)))}function _s(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var da={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},Qh={},Up={};bn&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function vs(e){if(Qh[e])return Qh[e];if(!da[e])return e;var i=da[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Up)return Qh[e]=i[a];return e}var Pp=vs("animationend"),kp=vs("animationiteration"),zp=vs("animationstart"),NS=vs("transitionrun"),OS=vs("transitionstart"),MS=vs("transitioncancel"),jp=vs("transitionend"),Bp=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function Kn(e,i){Bp.set(e,i),ui(i,[e])}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],ma=0,Yh=0;function Iu(){for(var e=ma,i=Yh=ma=0;i<e;){var a=wn[i];wn[i++]=null;var l=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&qp(a,h,d)}}function Du(e,i,a,l){wn[ma++]=e,wn[ma++]=i,wn[ma++]=a,wn[ma++]=l,Yh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Xh(e,i,a,l){return Du(e,i,a,l),Nu(e)}function Es(e,i){return Du(e,null,null,i),Nu(e)}function qp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-fe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Nu(e){if(50<ol)throw ol=0,sd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var pa={};function VS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,i,a,l){return new VS(e,i,a,l)}function $h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,i){var a=e.alternate;return a===null?(a=mn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Hp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Ou(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")$h(e)&&(_=1);else if(typeof e=="string")_=kA(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=mn(31,a,i,h),e.elementType=w,e.lanes=d,e;case tt:return Ts(a.children,h,d,i);case B:_=8,h|=24;break;case et:return e=mn(12,a,i,h|2),e.elementType=et,e.lanes=d,e;case _t:return e=mn(13,a,i,h),e.elementType=_t,e.lanes=d,e;case wt:return e=mn(19,a,i,h),e.elementType=wt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nt:_=10;break t;case X:_=9;break t;case pt:_=11;break t;case D:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=mn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ts(e,i,a,l){return e=mn(7,e,l,i),e.lanes=a,e}function Jh(e,i,a){return e=mn(6,e,null,i),e.lanes=a,e}function Fp(e){var i=mn(18,null,null,0);return i.stateNode=e,i}function Zh(e,i,a){return i=mn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Gp=new WeakMap;function Cn(e,i){if(typeof e=="object"&&e!==null){var a=Gp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:go(i)},Gp.set(e,i),i)}return{value:e,source:i,stack:go(i)}}var ga=[],ya=0,Mu=null,jo=0,In=[],Dn=0,vr=null,_i=1,vi="";function Pi(e,i){ga[ya++]=jo,ga[ya++]=Mu,Mu=e,jo=i}function Qp(e,i,a){In[Dn++]=_i,In[Dn++]=vi,In[Dn++]=vr,vr=e;var l=_i;e=vi;var h=32-fe(l)-1;l&=~(1<<h),a+=1;var d=32-fe(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,_i=1<<32-fe(i)+h|a<<h|l,vi=d+e}else _i=1<<d|a<<h|l,vi=e}function Wh(e){e.return!==null&&(Pi(e,1),Qp(e,1,0))}function tf(e){for(;e===Mu;)Mu=ga[--ya],ga[ya]=null,jo=ga[--ya],ga[ya]=null;for(;e===vr;)vr=In[--Dn],In[Dn]=null,vi=In[--Dn],In[Dn]=null,_i=In[--Dn],In[Dn]=null}function Kp(e,i){In[Dn++]=_i,In[Dn++]=vi,In[Dn++]=vr,_i=i.id,vi=i.overflow,vr=e}var Be=null,te=null,Ut=!1,Er=null,Nn=!1,ef=Error(s(519));function Tr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(Cn(i,e)),ef}function Yp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[ve]=e,i[xe]=l,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<ul.length;a++)Nt(ul[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),hu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),fr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||h_(i.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),l.onScroll!=null&&Nt("scroll",i),l.onScrollEnd!=null&&Nt("scrollend",i),l.onClick!=null&&(i.onclick=qn),i=!0):i=!1,i||Tr(e,!0)}function Xp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Be=Be.return}}function _a(e){if(e!==Be)return!1;if(!Ut)return Xp(e),Ut=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ed(e.type,e.memoizedProps)),a=!a),a&&te&&Tr(e),Xp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=E_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=E_(e)}else i===27?(i=te,Lr(e.type)?(e=Rd,Rd=null,te=e):te=i):te=Be?Mn(e.stateNode.nextSibling):null;return!0}function Ss(){te=Be=null,Ut=!1}function nf(){var e=Er;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),Er=null),e}function Bo(e){Er===null?Er=[e]:Er.push(e)}var rf=M(null),As=null,ki=null;function Sr(e,i,a){at(rf,i._currentValue),i._currentValue=a}function zi(e){e._currentValue=rf.current,Z(rf)}function sf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function af(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),sf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),sf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function va(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;dn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Pt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&af(i,e,a,l),i.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bs(e){As=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return $p(As,e)}function xu(e,i){return As===null&&bs(e),$p(e,i)}function $p(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ki===null){if(e===null)throw Error(s(308));ki=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ki=ki.next=i;return a}var xS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},LS=r.unstable_scheduleCallback,US=r.unstable_NormalPriority,Se={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new xS,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&LS(US,function(){e.controller.abort()})}var Ho=null,lf=0,Ea=0,Ta=null;function PS(e,i){if(Ho===null){var a=Ho=[];lf=0,Ea=hd(),Ta={status:"pending",value:void 0,then:function(l){a.push(l)}}}return lf++,i.then(Jp,Jp),i}function Jp(){if(--lf===0&&Ho!==null){Ta!==null&&(Ta.status="fulfilled");var e=Ho;Ho=null,Ea=0,Ta=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function kS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Zp=Y.S;Y.S=function(e,i){Ly=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&PS(e,i),Zp!==null&&Zp(e,i)};var Rs=M(null);function uf(){var e=Rs.current;return e!==null?e:Wt.pooledCache}function Lu(e,i){i===null?at(Rs,Rs.current):at(Rs,i.pool)}function Wp(){var e=uf();return e===null?null:{parent:Se._currentValue,pool:e}}var Sa=Error(s(460)),cf=Error(s(474)),Uu=Error(s(542)),Pu={then:function(){}};function tg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function eg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(qn,qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ig(e),e;default:if(typeof i.status=="string")i.then(qn,qn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ig(e),e}throw Cs=i,Sa}}function ws(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Cs=a,Sa):a}}var Cs=null;function ng(){if(Cs===null)throw Error(s(459));var e=Cs;return Cs=null,e}function ig(e){if(e===Sa||e===Uu)throw Error(s(483))}var Aa=null,Fo=0;function ku(e){var i=Fo;return Fo+=1,Aa===null&&(Aa=[]),eg(Aa,e,i)}function Go(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function zu(e,i){throw i.$$typeof===R?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function rg(e){function i(x,N){if(e){var k=x.deletions;k===null?(x.deletions=[N],x.flags|=16):k.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Ui(x,N),x.index=0,x.sibling=null,x}function d(x,N,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<N?(x.flags|=67108866,N):k):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function _(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,N,k,$){return N===null||N.tag!==6?(N=Jh(k,x.mode,$),N.return=x,N):(N=h(N,k),N.return=x,N)}function I(x,N,k,$){var ft=k.type;return ft===tt?K(x,N,k.props.children,$,k.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&ws(ft)===N.type)?(N=h(N,k.props),Go(N,k),N.return=x,N):(N=Ou(k.type,k.key,k.props,null,x.mode,$),Go(N,k),N.return=x,N)}function z(x,N,k,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=Zh(k,x.mode,$),N.return=x,N):(N=h(N,k.children||[]),N.return=x,N)}function K(x,N,k,$,ft){return N===null||N.tag!==7?(N=Ts(k,x.mode,$,ft),N.return=x,N):(N=h(N,k),N.return=x,N)}function J(x,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Jh(""+N,x.mode,k),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case L:return k=Ou(N.type,N.key,N.props,null,x.mode,k),Go(k,N),k.return=x,k;case Q:return N=Zh(N,x.mode,k),N.return=x,N;case b:return N=ws(N),J(x,N,k)}if(Ie(N)||U(N))return N=Ts(N,x.mode,k,null),N.return=x,N;if(typeof N.then=="function")return J(x,ku(N),k);if(N.$$typeof===nt)return J(x,xu(x,N),k);zu(x,N)}return null}function j(x,N,k,$){var ft=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ft!==null?null:T(x,N,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case L:return k.key===ft?I(x,N,k,$):null;case Q:return k.key===ft?z(x,N,k,$):null;case b:return k=ws(k),j(x,N,k,$)}if(Ie(k)||U(k))return ft!==null?null:K(x,N,k,$,null);if(typeof k.then=="function")return j(x,N,ku(k),$);if(k.$$typeof===nt)return j(x,N,xu(x,k),$);zu(x,k)}return null}function F(x,N,k,$,ft){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return x=x.get(k)||null,T(N,x,""+$,ft);if(typeof $=="object"&&$!==null){switch($.$$typeof){case L:return x=x.get($.key===null?k:$.key)||null,I(N,x,$,ft);case Q:return x=x.get($.key===null?k:$.key)||null,z(N,x,$,ft);case b:return $=ws($),F(x,N,k,$,ft)}if(Ie($)||U($))return x=x.get(k)||null,K(N,x,$,ft,null);if(typeof $.then=="function")return F(x,N,k,ku($),ft);if($.$$typeof===nt)return F(x,N,k,xu(N,$),ft);zu(N,$)}return null}function ut(x,N,k,$){for(var ft=null,jt=null,ct=N,It=N=0,Mt=null;ct!==null&&It<k.length;It++){ct.index>It?(Mt=ct,ct=null):Mt=ct.sibling;var Bt=j(x,ct,k[It],$);if(Bt===null){ct===null&&(ct=Mt);break}e&&ct&&Bt.alternate===null&&i(x,ct),N=d(Bt,N,It),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt,ct=Mt}if(It===k.length)return a(x,ct),Ut&&Pi(x,It),ft;if(ct===null){for(;It<k.length;It++)ct=J(x,k[It],$),ct!==null&&(N=d(ct,N,It),jt===null?ft=ct:jt.sibling=ct,jt=ct);return Ut&&Pi(x,It),ft}for(ct=l(ct);It<k.length;It++)Mt=F(ct,x,It,k[It],$),Mt!==null&&(e&&Mt.alternate!==null&&ct.delete(Mt.key===null?It:Mt.key),N=d(Mt,N,It),jt===null?ft=Mt:jt.sibling=Mt,jt=Mt);return e&&ct.forEach(function(jr){return i(x,jr)}),Ut&&Pi(x,It),ft}function gt(x,N,k,$){if(k==null)throw Error(s(151));for(var ft=null,jt=null,ct=N,It=N=0,Mt=null,Bt=k.next();ct!==null&&!Bt.done;It++,Bt=k.next()){ct.index>It?(Mt=ct,ct=null):Mt=ct.sibling;var jr=j(x,ct,Bt.value,$);if(jr===null){ct===null&&(ct=Mt);break}e&&ct&&jr.alternate===null&&i(x,ct),N=d(jr,N,It),jt===null?ft=jr:jt.sibling=jr,jt=jr,ct=Mt}if(Bt.done)return a(x,ct),Ut&&Pi(x,It),ft;if(ct===null){for(;!Bt.done;It++,Bt=k.next())Bt=J(x,Bt.value,$),Bt!==null&&(N=d(Bt,N,It),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt);return Ut&&Pi(x,It),ft}for(ct=l(ct);!Bt.done;It++,Bt=k.next())Bt=F(ct,x,It,Bt.value,$),Bt!==null&&(e&&Bt.alternate!==null&&ct.delete(Bt.key===null?It:Bt.key),N=d(Bt,N,It),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt);return e&&ct.forEach(function(XA){return i(x,XA)}),Ut&&Pi(x,It),ft}function Zt(x,N,k,$){if(typeof k=="object"&&k!==null&&k.type===tt&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case L:t:{for(var ft=k.key;N!==null;){if(N.key===ft){if(ft=k.type,ft===tt){if(N.tag===7){a(x,N.sibling),$=h(N,k.props.children),$.return=x,x=$;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&ws(ft)===N.type){a(x,N.sibling),$=h(N,k.props),Go($,k),$.return=x,x=$;break t}a(x,N);break}else i(x,N);N=N.sibling}k.type===tt?($=Ts(k.props.children,x.mode,$,k.key),$.return=x,x=$):($=Ou(k.type,k.key,k.props,null,x.mode,$),Go($,k),$.return=x,x=$)}return _(x);case Q:t:{for(ft=k.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){a(x,N.sibling),$=h(N,k.children||[]),$.return=x,x=$;break t}else{a(x,N);break}else i(x,N);N=N.sibling}$=Zh(k,x.mode,$),$.return=x,x=$}return _(x);case b:return k=ws(k),Zt(x,N,k,$)}if(Ie(k))return ut(x,N,k,$);if(U(k)){if(ft=U(k),typeof ft!="function")throw Error(s(150));return k=ft.call(k),gt(x,N,k,$)}if(typeof k.then=="function")return Zt(x,N,ku(k),$);if(k.$$typeof===nt)return Zt(x,N,xu(x,k),$);zu(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(a(x,N.sibling),$=h(N,k),$.return=x,x=$):(a(x,N),$=Jh(k,x.mode,$),$.return=x,x=$),_(x)):a(x,N)}return function(x,N,k,$){try{Fo=0;var ft=Zt(x,N,k,$);return Aa=null,ft}catch(ct){if(ct===Sa||ct===Uu)throw ct;var jt=mn(29,ct,null,x.mode);return jt.lanes=$,jt.return=x,jt}}}var Is=rg(!0),sg=rg(!1),Ar=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Nu(e),qp(e,null,a),i}return Du(e,l,i,a),Nu(e)}function Qo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,vo(e,a)}}function df(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var mf=!1;function Ko(){if(mf){var e=Ta;if(e!==null)throw e}}function Yo(e,i,a,l){mf=!1;var h=e.updateQueue;Ar=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,_===null?d=z:_.next=z,_=I;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=z:T.next=z,K.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;_=0,K=z=I=null,T=d;do{var j=T.lane&-536870913,F=j!==T.lane;if(F?(Ot&j)===j:(l&j)===j){j!==0&&j===Ea&&(mf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ut=e,gt=T;j=i;var Zt=a;switch(gt.tag){case 1:if(ut=gt.payload,typeof ut=="function"){J=ut.call(Zt,J,j);break t}J=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=gt.payload,j=typeof ut=="function"?ut.call(Zt,J,j):ut,j==null)break t;J=S({},J,j);break t;case 2:Ar=!0}}j=T.callback,j!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(z=K=F,I=J):K=K.next=F,_|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(I=J),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Nr|=_,e.lanes=_,e.memoizedState=J}}function ag(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function og(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ag(a[e],i)}var ba=M(null),ju=M(0);function lg(e,i){e=Yi,at(ju,e),at(ba,i),Yi=e|i.baseLanes}function pf(){at(ju,Yi),at(ba,ba.current)}function gf(){Yi=ju.current,Z(ba),Z(ju)}var pn=M(null),On=null;function wr(e){var i=e.alternate;at(me,me.current&1),at(pn,e),On===null&&(i===null||ba.current!==null||i.memoizedState!==null)&&(On=e)}function yf(e){at(me,me.current),at(pn,e),On===null&&(On=e)}function ug(e){e.tag===22?(at(me,me.current),at(pn,e),On===null&&(On=e)):Cr()}function Cr(){at(me,me.current),at(pn,pn.current)}function gn(e){Z(pn),On===e&&(On=null),Z(me)}var me=M(0);function Bu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ad(a)||bd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ji=0,Rt=null,$t=null,Ae=null,qu=!1,Ra=!1,Ds=!1,Hu=0,Xo=0,wa=null,zS=0;function ce(){throw Error(s(321))}function _f(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!dn(e[a],i[a]))return!1;return!0}function vf(e,i,a,l,h,d){return ji=d,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=e===null||e.memoizedState===null?Qg:xf,Ds=!1,d=a(l,h),Ds=!1,Ra&&(d=hg(i,a,l,h)),cg(e),d}function cg(e){Y.H=Zo;var i=$t!==null&&$t.next!==null;if(ji=0,Ae=$t=Rt=null,qu=!1,Xo=0,wa=null,i)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&Vu(e)&&(be=!0))}function hg(e,i,a,l){Rt=e;var h=0;do{if(Ra&&(wa=null),Xo=0,Ra=!1,25<=h)throw Error(s(301));if(h+=1,Ae=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Kg,d=i(a,l)}while(Ra);return d}function jS(){var e=Y.H,i=e.useState()[0];return i=typeof i.then=="function"?$o(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(Rt.flags|=1024),i}function Ef(){var e=Hu!==0;return Hu=0,e}function Tf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Sf(e){if(qu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}qu=!1}ji=0,Ae=$t=Rt=null,Ra=!1,Xo=Hu=0,wa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Rt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pe(){if($t===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=Ae===null?Rt.memoizedState:Ae.next;if(i!==null)Ae=i,$t=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?Rt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var i=Xo;return Xo+=1,wa===null&&(wa=[]),e=eg(wa,e,i),i=Rt,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Qg:xf),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===nt)return qe(e)}throw Error(s(438,String(e)))}function Af(e){var i=null,a=Rt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Fu(),Rt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Bi(e,i){return typeof i=="function"?i(e):i}function Qu(e){var i=pe();return bf(i,$t,e)}function bf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,I=null,z=i,K=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Ot&J)===J:(ji&J)===J){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===Ea&&(K=!0);else if((ji&j)===j){z=z.next,j===Ea&&(K=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=J,_=d):I=I.next=J,Rt.lanes|=j,Nr|=j;J=z.action,Ds&&a(d,J),d=z.hasEagerState?z.eagerState:a(d,J)}else j={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=j,_=d):I=I.next=j,Rt.lanes|=J,Nr|=J;z=z.next}while(z!==null&&z!==i);if(I===null?_=d:I.next=T,!dn(d,e.memoizedState)&&(be=!0,K&&(a=Ta,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Rf(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);dn(d,i.memoizedState)||(be=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function fg(e,i,a){var l=Rt,h=pe(),d=Ut;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!dn(($t||h).memoizedState,a);if(_&&(h.memoizedState=a,be=!0),h=h.queue,If(pg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Ca(9,{destroy:void 0},mg.bind(null,l,h,a,i),null),Wt===null)throw Error(s(349));d||(ji&127)!==0||dg(l,i,a)}return a}function dg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Rt.updateQueue,i===null?(i=Fu(),Rt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function mg(e,i,a,l){i.value=a,i.getSnapshot=l,gg(i)&&yg(e)}function pg(e,i,a){return a(function(){gg(i)&&yg(e)})}function gg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!dn(e,a)}catch{return!0}}function yg(e){var i=Es(e,2);i!==null&&un(i,e,2)}function wf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),Ds){Tn(!0);try{a()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},i}function _g(e,i,a,l){return e.baseState=a,bf(e,$t,typeof l=="function"?l:Bi)}function BS(e,i,a,l,h){if(Xu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,vg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function vg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var T=a(h,l),I=Y.S;I!==null&&I(_,T),Eg(e,i,T)}catch(z){Cf(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(h,l),Eg(e,i,d)}catch(z){Cf(e,i,z)}}function Eg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Tg(e,i,l)},function(l){return Cf(e,i,l)}):Tg(e,i,a)}function Tg(e,i,a){i.status="fulfilled",i.value=a,Sg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,vg(e,a)))}function Cf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Sg(i),i=i.next;while(i!==l)}e.action=null}function Sg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ag(e,i){return i}function bg(e,i){if(Ut){var a=Wt.formState;if(a!==null){t:{var l=Rt;if(Ut){if(te){e:{for(var h=te,d=Nn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){te=Mn(h.nextSibling),l=h.data==="F!";break t}}Tr(l)}l=!1}l&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:i},a.queue=l,a=Hg.bind(null,Rt,l),l.dispatch=a,l=wf(!1),d=Vf.bind(null,Rt,!1,l.queue),l=en(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=BS.bind(null,Rt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Rg(e){var i=pe();return wg(i,$t,e)}function wg(e,i,a){if(i=bf(e,i,Ag)[0],e=Qu(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=$o(i)}catch(_){throw _===Sa?Uu:_}else l=i;i=pe();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Rt.flags|=2048,Ca(9,{destroy:void 0},qS.bind(null,h,a),null)),[l,d,e]}function qS(e,i){e.action=i}function Cg(e){var i=pe(),a=$t;if(a!==null)return wg(i,a,e);pe(),i=i.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ca(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Rt.updateQueue,i===null&&(i=Fu(),Rt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Ig(){return pe().memoizedState}function Ku(e,i,a,l){var h=en();Rt.flags|=e,h.memoizedState=Ca(1|i,{destroy:void 0},a,l===void 0?null:l)}function Yu(e,i,a,l){var h=pe();l=l===void 0?null:l;var d=h.memoizedState.inst;$t!==null&&l!==null&&_f(l,$t.memoizedState.deps)?h.memoizedState=Ca(i,d,a,l):(Rt.flags|=e,h.memoizedState=Ca(1|i,d,a,l))}function Dg(e,i){Ku(8390656,8,e,i)}function If(e,i){Yu(2048,8,e,i)}function HS(e){Rt.flags|=4;var i=Rt.updateQueue;if(i===null)i=Fu(),Rt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Ng(e){var i=pe().memoizedState;return HS({ref:i,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Og(e,i){return Yu(4,2,e,i)}function Mg(e,i){return Yu(4,4,e,i)}function Vg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function xg(e,i,a){a=a!=null?a.concat([e]):null,Yu(4,4,Vg.bind(null,i,e),a)}function Df(){}function Lg(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&_f(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Ug(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&_f(i,l[1]))return l[0];if(l=e(),Ds){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[l,i],l}function Nf(e,i,a){return a===void 0||(ji&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Py(),Rt.lanes|=e,Nr|=e,a)}function Pg(e,i,a,l){return dn(a,i)?a:ba.current!==null?(e=Nf(e,a,l),dn(e,i)||(be=!0),e):(ji&42)===0||(ji&1073741824)!==0&&(Ot&261930)===0?(be=!0,e.memoizedState=a):(e=Py(),Rt.lanes|=e,Nr|=e,i)}function kg(e,i,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var _=Y.T,T={};Y.T=T,Vf(e,!1,i,a);try{var I=h(),z=Y.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=kS(I,l);Jo(e,i,K,vn(e))}else Jo(e,i,l,vn(e))}catch(J){Jo(e,i,{then:function(){},status:"rejected",reason:J},vn())}finally{st.p=d,_!==null&&T.types!==null&&(_.types=T.types),Y.T=_}}function FS(){}function Of(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=zg(e).queue;kg(e,h,i,dt,a===null?FS:function(){return jg(e),a(l)})}function zg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:dt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function jg(e){var i=zg(e);i.next===null&&(i=e.alternate.memoizedState),Jo(e,i.next.queue,{},vn())}function Mf(){return qe(ml)}function Bg(){return pe().memoizedState}function qg(){return pe().memoizedState}function GS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=vn();e=br(a);var l=Rr(i,e,a);l!==null&&(un(l,i,a),Qo(l,i,a)),i={cache:of()},e.payload=i;return}i=i.return}}function QS(e,i,a){var l=vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(e)?Fg(i,a):(a=Xh(e,i,a,l),a!==null&&(un(a,e,l),Gg(a,i,l)))}function Hg(e,i,a){var l=vn();Jo(e,i,a,l)}function Jo(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))Fg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,_))return Du(e,i,h,0),Wt===null&&Iu(),!1}catch{}if(a=Xh(e,i,h,l),a!==null)return un(a,e,l),Gg(a,i,l),!0}return!1}function Vf(e,i,a,l){if(l={lane:2,revertLane:hd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(i)throw Error(s(479))}else i=Xh(e,a,l,2),i!==null&&un(i,e,2)}function Xu(e){var i=e.alternate;return e===Rt||i!==null&&i===Rt}function Fg(e,i){Ra=qu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Gg(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,vo(e,a)}}var Zo={readContext:qe,use:Gu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Zo.useEffectEvent=ce;var Qg={readContext:qe,use:Gu,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:qe,useEffect:Dg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Ku(4194308,4,Vg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Ku(4194308,4,e,i)},useInsertionEffect:function(e,i){Ku(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var l=e();if(Ds){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=en();if(a!==void 0){var h=a(i);if(Ds){Tn(!0);try{a(i)}finally{Tn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=QS.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=wf(e);var i=e.queue,a=Hg.bind(null,Rt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(e,i){var a=en();return Nf(a,e,i)},useTransition:function(){var e=wf(!1);return e=kg.bind(null,Rt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Rt,h=en();if(Ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(Ot&127)!==0||dg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Dg(pg.bind(null,l,d,e),[e]),l.flags|=2048,Ca(9,{destroy:void 0},mg.bind(null,l,d,a,i),null),a},useId:function(){var e=en(),i=Wt.identifierPrefix;if(Ut){var a=vi,l=_i;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Hu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=zS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Mf,useFormState:bg,useActionState:bg,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Vf.bind(null,Rt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Af,useCacheRefresh:function(){return en().memoizedState=GS.bind(null,Rt)},useEffectEvent:function(e){var i=en(),a={impl:e};return i.memoizedState=a,function(){if((Ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},xf={readContext:qe,use:Gu,useCallback:Lg,useContext:qe,useEffect:If,useImperativeHandle:xg,useInsertionEffect:Og,useLayoutEffect:Mg,useMemo:Ug,useReducer:Qu,useRef:Ig,useState:function(){return Qu(Bi)},useDebugValue:Df,useDeferredValue:function(e,i){var a=pe();return Pg(a,$t.memoizedState,e,i)},useTransition:function(){var e=Qu(Bi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:$o(e),i]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:Mf,useFormState:Rg,useActionState:Rg,useOptimistic:function(e,i){var a=pe();return _g(a,$t,e,i)},useMemoCache:Af,useCacheRefresh:qg};xf.useEffectEvent=Ng;var Kg={readContext:qe,use:Gu,useCallback:Lg,useContext:qe,useEffect:If,useImperativeHandle:xg,useInsertionEffect:Og,useLayoutEffect:Mg,useMemo:Ug,useReducer:Rf,useRef:Ig,useState:function(){return Rf(Bi)},useDebugValue:Df,useDeferredValue:function(e,i){var a=pe();return $t===null?Nf(a,e,i):Pg(a,$t.memoizedState,e,i)},useTransition:function(){var e=Rf(Bi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:$o(e),i]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:Mf,useFormState:Cg,useActionState:Cg,useOptimistic:function(e,i){var a=pe();return $t!==null?_g(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Af,useCacheRefresh:qg};Kg.useEffectEvent=Ng;function Lf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Uf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=vn(),h=br(l);h.payload=i,a!=null&&(h.callback=a),i=Rr(e,h,l),i!==null&&(un(i,e,l),Qo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=vn(),h=br(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Rr(e,h,l),i!==null&&(un(i,e,l),Qo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=vn(),l=br(a);l.tag=2,i!=null&&(l.callback=i),i=Rr(e,l,a),i!==null&&(un(i,e,a),Qo(i,e,a))}};function Yg(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!ko(a,l)||!ko(h,d):!0}function Xg(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Uf.enqueueReplaceState(i,i.state,null)}function Ns(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function $g(e){Cu(e)}function Jg(e){console.error(e)}function Zg(e){Cu(e)}function $u(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Wg(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(e,i,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){$u(e,i)},a}function ty(e){return e=br(e),e.tag=3,e}function ey(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Wg(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Wg(i,a,l),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function KS(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&va(i,a,h,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?lc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Pu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),ld(e,l,h)),!1;case 22:return a.flags|=65536,l===Pu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),ld(e,l,h)),!1}throw Error(s(435,a.tag))}return ld(e,l,h),lc(),!1}if(Ut)return i=pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==ef&&(e=Error(s(422),{cause:l}),Bo(Cn(e,a)))):(l!==ef&&(i=Error(s(423),{cause:l}),Bo(Cn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Cn(l,a),h=Pf(e.stateNode,l,h),df(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),al===null?al=[d]:al.push(d),he!==4&&(he=2),i===null)return!0;l=Cn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Pf(a.stateNode,l,e),df(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ty(h),ey(h,e,a,l),df(a,h),!1}a=a.return}while(a!==null);return!1}var kf=Error(s(461)),be=!1;function He(e,i,a,l){i.child=e===null?sg(i,null,a,l):Is(i,e.child,a,l)}function ny(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return bs(i),l=vf(e,i,a,_,d,h),T=Ef(),e!==null&&!be?(Tf(e,i,h),qi(e,i,h)):(Ut&&T&&Wh(i),i.flags|=1,He(e,i,l,h),i.child)}function iy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!$h(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ry(e,i,d,l,h)):(e=Ou(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Qf(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ko,a(_,l)&&e.ref===i.ref)return qi(e,i,h)}return i.flags|=1,e=Ui(d,l),e.ref=i.ref,e.return=i,i.child=e}function ry(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(ko(d,l)&&e.ref===i.ref)if(be=!1,i.pendingProps=l=d,Qf(e,h))(e.flags&131072)!==0&&(be=!0);else return i.lanes=e.lanes,qi(e,i,h)}return zf(e,i,a,l,h)}function sy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return ay(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lu(i,d!==null?d.cachePool:null),d!==null?lg(i,d):pf(),ug(i);else return l=i.lanes=536870912,ay(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Lu(i,d.cachePool),lg(i,d),Cr(),i.memoizedState=null):(e!==null&&Lu(i,null),pf(),Cr());return He(e,i,h,a),i.child}function Wo(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ay(e,i,a,l,h){var d=uf();return d=d===null?null:{parent:Se._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Lu(i,null),pf(),ug(i),e!==null&&va(e,i,l,!0),i.childLanes=h,null}function Ju(e,i){return i=Wu({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function oy(e,i,a){return Is(i,e.child,null,a),e=Ju(i,i.pendingProps),e.flags|=2,gn(i),i.memoizedState=null,e}function YS(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ut){if(l.mode==="hidden")return e=Ju(i,l),i.lanes=536870912,Wo(null,e);if(yf(i),(e=te)?(e=v_(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Fp(e),a.return=i,i.child=a,Be=i,te=null)):e=null,e===null)throw Tr(i);return i.lanes=536870912,null}return Ju(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(yf(i),h)if(i.flags&256)i.flags&=-257,i=oy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(be||va(e,i,a,!1),h=(a&e.childLanes)!==0,be||h){if(l=Wt,l!==null&&(_=Eo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Es(e,_),un(l,e,_),kf;lc(),i=oy(e,i,a)}else e=d.treeContext,te=Mn(_.nextSibling),Be=i,Ut=!0,Er=null,Nn=!1,e!==null&&Kp(i,e),i=Ju(i,l),i.flags|=4096;return i}return e=Ui(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Zu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function zf(e,i,a,l,h){return bs(i),a=vf(e,i,a,l,void 0,h),l=Ef(),e!==null&&!be?(Tf(e,i,h),qi(e,i,h)):(Ut&&l&&Wh(i),i.flags|=1,He(e,i,a,h),i.child)}function ly(e,i,a,l,h,d){return bs(i),i.updateQueue=null,a=hg(i,l,a,h),cg(e),l=Ef(),e!==null&&!be?(Tf(e,i,d),qi(e,i,d)):(Ut&&l&&Wh(i),i.flags|=1,He(e,i,a,d),i.child)}function uy(e,i,a,l,h){if(bs(i),i.stateNode===null){var d=pa,_=a.contextType;typeof _=="object"&&_!==null&&(d=qe(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Uf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},hf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?qe(_):pa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Lf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Uf.enqueueReplaceState(d,d.state,null),Yo(i,l,d,h),Ko(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=Ns(a,T);d.props=I;var z=d.context,K=a.contextType;_=pa,typeof K=="object"&&K!==null&&(_=qe(K));var J=a.getDerivedStateFromProps;K=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&Xg(i,d,l,_),Ar=!1;var j=i.memoizedState;d.state=j,Yo(i,l,d,h),Ko(),z=i.memoizedState,T||j!==z||Ar?(typeof J=="function"&&(Lf(i,a,J,l),z=i.memoizedState),(I=Ar||Yg(i,a,I,l,j,z,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ff(e,i),_=i.memoizedProps,K=Ns(a,_),d.props=K,J=i.pendingProps,j=d.context,z=a.contextType,I=pa,typeof z=="object"&&z!==null&&(I=qe(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||j!==I)&&Xg(i,d,l,I),Ar=!1,j=i.memoizedState,d.state=j,Yo(i,l,d,h),Ko();var F=i.memoizedState;_!==J||j!==F||Ar||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof T=="function"&&(Lf(i,a,T,l),F=i.memoizedState),(K=Ar||Yg(i,a,K,l,j,F,I)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=I,l=K):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Zu(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Is(i,e.child,null,h),i.child=Is(i,null,a,h)):He(e,i,a,h),i.memoizedState=d.state,e=i.child):e=qi(e,i,h),e}function cy(e,i,a,l){return Ss(),i.flags|=256,He(e,i,a,l),i.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(e){return{baseLanes:e,cachePool:Wp()}}function qf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=_n),e}function hy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ut){if(h?wr(i):Cr(),(e=te)?(e=v_(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Fp(e),a.return=i,i.child=a,Be=i,te=null)):e=null,e===null)throw Tr(i);return bd(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Cr(),h=i.mode,T=Wu({mode:"hidden",children:T},h),l=Ts(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Bf(a),l.childLanes=qf(e,_,a),i.memoizedState=jf,Wo(null,l)):(wr(i),Hf(i,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(wr(i),i.flags&=-257,i=Ff(e,i,a)):i.memoizedState!==null?(Cr(),i.child=e.child,i.flags|=128,i=null):(Cr(),T=l.fallback,h=i.mode,l=Wu({mode:"visible",children:l.children},h),T=Ts(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Is(i,e.child,null,a),l=i.child,l.memoizedState=Bf(a),l.childLanes=qf(e,_,a),i.memoizedState=jf,i=Wo(null,l));else if(wr(i),bd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,Bo({value:l,source:null,stack:null}),i=Ff(e,i,a)}else if(be||va(e,i,a,!1),_=(a&e.childLanes)!==0,be||_){if(_=Wt,_!==null&&(l=Eo(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Es(e,l),un(_,e,l),kf;Ad(T)||lc(),i=Ff(e,i,a)}else Ad(T)?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,te=Mn(T.nextSibling),Be=i,Ut=!0,Er=null,Nn=!1,e!==null&&Kp(i,e),i=Hf(i,l.children),i.flags|=4096);return i}return h?(Cr(),T=l.fallback,h=i.mode,I=e.child,z=I.sibling,l=Ui(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?T=Ui(z,T):(T=Ts(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Wo(null,l),l=i.child,T=e.child.memoizedState,T===null?T=Bf(a):(h=T.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Wp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=qf(e,_,a),i.memoizedState=jf,Wo(e.child,l)):(wr(i),a=e.child,e=a.sibling,a=Ui(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Hf(e,i){return i=Wu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Wu(e,i){return e=mn(22,e,null,i),e.lanes=0,e}function Ff(e,i,a){return Is(i,e.child,null,a),e=Hf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function fy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),sf(e.return,i,a)}function Gf(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function dy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=me.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,at(me,_),He(e,i,l,a),l=Ut?jo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fy(e,a,i);else if(e.tag===19)fy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Bu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Gf(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Gf(i,!0,a,null,d,l);break;case"together":Gf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function qi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Nr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(va(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ui(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ui(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Qf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function XS(e,i,a){switch(i.tag){case 3:De(i,i.stateNode.containerInfo),Sr(i,Se,e.memoizedState.cache),Ss();break;case 27:case 5:ns(i);break;case 4:De(i,i.stateNode.containerInfo);break;case 10:Sr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,yf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(wr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?hy(e,i,a):(wr(i),e=qi(e,i,a),e!==null?e.sibling:null);wr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(va(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return dy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(me,me.current),l)break;return null;case 22:return i.lanes=0,sy(e,i,a,i.pendingProps);case 24:Sr(i,Se,e.memoizedState.cache)}return qi(e,i,a)}function my(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)be=!0;else{if(!Qf(e,a)&&(i.flags&128)===0)return be=!1,XS(e,i,a);be=(e.flags&131072)!==0}else be=!1,Ut&&(i.flags&1048576)!==0&&Qp(i,jo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=ws(i.elementType),i.type=e,typeof e=="function")$h(e)?(l=Ns(e,l),i.tag=1,i=uy(null,i,e,l,a)):(i.tag=0,i=zf(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===pt){i.tag=11,i=ny(null,i,e,l,a);break t}else if(h===D){i.tag=14,i=iy(null,i,e,l,a);break t}}throw i=ie(e)||e,Error(s(306,i,""))}}return i;case 0:return zf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ns(l,i.pendingProps),uy(e,i,l,h,a);case 3:t:{if(De(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,ff(e,i),Yo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Sr(i,Se,l),l!==d.cache&&af(i,[Se],a,!0),Ko(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=cy(e,i,l,a);break t}else if(l!==h){h=Cn(Error(s(424)),i),Bo(h),i=cy(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=Mn(e.firstChild),Be=i,Ut=!0,Er=null,Nn=!0,a=sg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ss(),l===h){i=qi(e,i,a);break t}He(e,i,l,a)}i=i.child}return i;case 26:return Zu(e,i),e===null?(a=R_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ut||(a=i.type,e=i.pendingProps,l=pc(Ct.current).createElement(a),l[ve]=i,l[xe]=e,Fe(l,a,e),Ee(l),i.stateNode=l):i.memoizedState=R_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ns(i),e===null&&Ut&&(l=i.stateNode=S_(i.type,i.pendingProps,Ct.current),Be=i,Nn=!0,h=te,Lr(i.type)?(Rd=h,te=Mn(l.firstChild)):te=h),He(e,i,i.pendingProps.children,a),Zu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ut&&((h=l=te)&&(l=RA(l,i.type,i.pendingProps,Nn),l!==null?(i.stateNode=l,Be=i,te=Mn(l.firstChild),Nn=!1,h=!0):h=!1),h||Tr(i)),ns(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Ed(h,d)?l=null:_!==null&&Ed(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=vf(e,i,jS,null,null,a),ml._currentValue=h),Zu(e,i),He(e,i,l,a),i.child;case 6:return e===null&&Ut&&((e=a=te)&&(a=wA(a,i.pendingProps,Nn),a!==null?(i.stateNode=a,Be=i,te=null,e=!0):e=!1),e||Tr(i)),null;case 13:return hy(e,i,a);case 4:return De(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Is(i,null,l,a):He(e,i,l,a),i.child;case 11:return ny(e,i,i.type,i.pendingProps,a);case 7:return He(e,i,i.pendingProps,a),i.child;case 8:return He(e,i,i.pendingProps.children,a),i.child;case 12:return He(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Sr(i,i.type,l.value),He(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,bs(i),h=qe(h),l=l(h),i.flags|=1,He(e,i,l,a),i.child;case 14:return iy(e,i,i.type,i.pendingProps,a);case 15:return ry(e,i,i.type,i.pendingProps,a);case 19:return dy(e,i,a);case 31:return YS(e,i,a);case 22:return sy(e,i,a,i.pendingProps);case 24:return bs(i),l=qe(Se),e===null?(h=uf(),h===null&&(h=Wt,d=of(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},hf(i),Sr(i,Se,h)):((e.lanes&a)!==0&&(ff(e,i),Yo(i,null,null,a),Ko()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Sr(i,Se,l)):(l=d.cache,Sr(i,Se,l),l!==h.cache&&af(i,[Se],a,!0))),He(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Hi(e){e.flags|=4}function Kf(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(By())e.flags|=8192;else throw Cs=Pu,cf}else e.flags&=-16777217}function py(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!N_(i))if(By())e.flags|=8192;else throw Cs=Pu,cf}function tc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?au():536870912,e.lanes|=i,Oa|=i)}function tl(e,i){if(!Ut)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ee(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function $S(e,i,a){var l=i.pendingProps;switch(tf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(i),null;case 1:return ee(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),zi(Se),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_a(i)?Hi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,nf())),ee(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Hi(i),d!==null?(ee(i),py(i,d)):(ee(i),Kf(i,h,null,l,a))):d?d!==e.memoizedState?(Hi(i),ee(i),py(i,d)):(ee(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Hi(i),ee(i),Kf(i,h,e,l,a)),null;case 27:if($s(i),a=Ct.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ee(i),null}e=lt.current,_a(i)?Yp(i):(e=S_(h,l,a),i.stateNode=e,Hi(i))}return ee(i),null;case 5:if($s(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ee(i),null}if(d=lt.current,_a(i))Yp(i);else{var _=pc(Ct.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[ve]=i,d[xe]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Fe(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Hi(i)}}return ee(i),Kf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Ct.current,_a(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||h_(e.nodeValue,a)),e||Tr(i,!0)}else e=pc(e).createTextNode(l),e[ve]=i,i.stateNode=e}return ee(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=_a(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=i}else Ss(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ee(i),e=!1}else a=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(gn(i),i):(gn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ee(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=i}else Ss(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ee(i),h=!1}else h=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(gn(i),i):(gn(i),null)}return gn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),tc(i,i.updateQueue),ee(i),null);case 4:return re(),e===null&&pd(i.stateNode.containerInfo),ee(i),null;case 10:return zi(i.type),ee(i),null;case 19:if(Z(me),l=i.memoizedState,l===null)return ee(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)tl(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Bu(e),d!==null){for(i.flags|=128,tl(l,!1),e=d.updateQueue,i.updateQueue=e,tc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Hp(a,e),a=a.sibling;return at(me,me.current&1|2),Ut&&Pi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&We()>sc&&(i.flags|=128,h=!0,tl(l,!1),i.lanes=4194304)}else{if(!h)if(e=Bu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,tc(i,e),tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ut)return ee(i),null}else 2*We()-l.renderingStartTime>sc&&a!==536870912&&(i.flags|=128,h=!0,tl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=We(),e.sibling=null,a=me.current,at(me,h?a&1|2:a&1),Ut&&Pi(i,l.treeForkCount),e):(ee(i),null);case 22:case 23:return gn(i),gf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ee(i),i.subtreeFlags&6&&(i.flags|=8192)):ee(i),a=i.updateQueue,a!==null&&tc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&Z(Rs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),zi(Se),ee(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function JS(e,i){switch(tf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zi(Se),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return $s(i),null;case 31:if(i.memoizedState!==null){if(gn(i),i.alternate===null)throw Error(s(340));Ss()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(gn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ss()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Z(me),null;case 4:return re(),null;case 10:return zi(i.type),null;case 22:case 23:return gn(i),gf(),e!==null&&Z(Rs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return zi(Se),null;case 25:return null;default:return null}}function gy(e,i){switch(tf(i),i.tag){case 3:zi(Se),re();break;case 26:case 27:case 5:$s(i);break;case 4:re();break;case 31:i.memoizedState!==null&&gn(i);break;case 13:gn(i);break;case 19:Z(me);break;case 10:zi(i.type);break;case 22:case 23:gn(i),gf(),e!==null&&Z(Rs);break;case 24:zi(Se)}}function el(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(i,i.return,T)}}function Ir(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a,z=T;try{z()}catch(K){Yt(h,I,K)}}}l=l.next}while(l!==d)}}catch(K){Yt(i,i.return,K)}}function yy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{og(i,a)}catch(l){Yt(e,e.return,l)}}}function _y(e,i,a){a.props=Ns(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,i,l)}}function nl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Yt(e,i,h)}}function Ei(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function vy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Yf(e,i,a){try{var l=e.stateNode;vA(l,e.type,a,i),l[xe]=i}catch(h){Yt(e,e.return,h)}}function Ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Lr(e.type)||e.tag===4}function Xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $f(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=qn));else if(l!==4&&(l===27&&Lr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for($f(e,i,a),e=e.sibling;e!==null;)$f(e,i,a),e=e.sibling}function ec(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Lr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ec(e,i,a),e=e.sibling;e!==null;)ec(e,i,a),e=e.sibling}function Ty(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Fe(i,l,a),i[ve]=e,i[xe]=a}catch(d){Yt(e,e.return,d)}}var Fi=!1,Re=!1,Jf=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function ZS(e,i){if(e=e.containerInfo,_d=Sc,e=xp(e),Hh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,I=-1,z=0,K=0,J=e,j=null;e:for(;;){for(var F;J!==a||h!==0&&J.nodeType!==3||(T=_+h),J!==d||l!==0&&J.nodeType!==3||(I=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(F=J.firstChild)!==null;)j=J,J=F;for(;;){if(J===e)break e;if(j===a&&++z===h&&(T=_),j===d&&++K===l&&(I=_),(F=J.nextSibling)!==null)break;J=j,j=J.parentNode}J=F}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(vd={focusedElem:e,selectionRange:a},Sc=!1,Ue=i;Ue!==null;)if(i=Ue,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ue=e;else for(;Ue!==null;){switch(i=Ue,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ut=Ns(a.type,h);e=l.getSnapshotBeforeUpdate(ut,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Yt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Sd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ue=e;break}Ue=i.return}}function Ay(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(e,a),l&4&&el(5,a);break;case 1:if(Qi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=Ns(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}l&64&&yy(a),l&512&&nl(a,a.return);break;case 3:if(Qi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{og(e,i)}catch(_){Yt(a,a.return,_)}}break;case 27:i===null&&l&4&&Ty(a);case 26:case 5:Qi(e,a),i===null&&l&4&&vy(a),l&512&&nl(a,a.return);break;case 12:Qi(e,a);break;case 31:Qi(e,a),l&4&&wy(e,a);break;case 13:Qi(e,a),l&4&&Cy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=oA.bind(null,a),CA(e,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){i=i!==null&&i.memoizedState!==null||Re,h=Fi;var d=Re;Fi=l,(Re=i)&&!d?Ki(e,a,(a.subtreeFlags&8772)!==0):Qi(e,a),Fi=h,Re=d}break;case 30:break;default:Qi(e,a)}}function by(e){var i=e.alternate;i!==null&&(e.alternate=null,by(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ea(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,sn=!1;function Gi(e,i,a){for(a=a.child;a!==null;)Ry(e,i,a),a=a.sibling}function Ry(e,i,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(kn,a)}catch{}switch(a.tag){case 26:Re||Ei(a,i),Gi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||Ei(a,i);var l=ae,h=sn;Lr(a.type)&&(ae=a.stateNode,sn=!1),Gi(e,i,a),hl(a.stateNode),ae=l,sn=h;break;case 5:Re||Ei(a,i);case 6:if(l=ae,h=sn,ae=null,Gi(e,i,a),ae=l,sn=h,ae!==null)if(sn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(d){Yt(a,i,d)}else try{ae.removeChild(a.stateNode)}catch(d){Yt(a,i,d)}break;case 18:ae!==null&&(sn?(e=ae,y_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),za(e)):y_(ae,a.stateNode));break;case 4:l=ae,h=sn,ae=a.stateNode.containerInfo,sn=!0,Gi(e,i,a),ae=l,sn=h;break;case 0:case 11:case 14:case 15:Ir(2,a,i),Re||Ir(4,a,i),Gi(e,i,a);break;case 1:Re||(Ei(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&_y(a,i,l)),Gi(e,i,a);break;case 21:Gi(e,i,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,Gi(e,i,a),Re=l;break;default:Gi(e,i,a)}}function wy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(a){Yt(i,i.return,a)}}}function Cy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(a){Yt(i,i.return,a)}}function WS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Sy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Sy),i;default:throw Error(s(435,e.tag))}}function nc(e,i){var a=WS(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=lA.bind(null,e,l);l.then(h,h)}})}function an(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Lr(T.type)){ae=T.stateNode,sn=!1;break t}break;case 5:ae=T.stateNode,sn=!1;break t;case 3:case 4:ae=T.stateNode.containerInfo,sn=!0;break t}T=T.return}if(ae===null)throw Error(s(160));Ry(d,_,h),ae=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Iy(i,e),i=i.sibling}var Yn=null;function Iy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(i,e),on(e),l&4&&(Ir(3,e,e.return),el(3,e),Ir(5,e,e.return));break;case 1:an(i,e),on(e),l&512&&(Re||a===null||Ei(a,a.return)),l&64&&Fi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Yn;if(an(i,e),on(e),l&512&&(Re||a===null||Ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ai]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Fe(d,l,a),d[ve]=e,Ee(d),l=d;break t;case"link":var _=I_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;case"meta":if(_=I_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ve]=e,Ee(d),l=d}e.stateNode=l}else D_(h,e.type,e.stateNode);else e.stateNode=C_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?D_(h,e.type,e.stateNode):C_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Yf(e,e.memoizedProps,a.memoizedProps)}break;case 27:an(i,e),on(e),l&512&&(Re||a===null||Ei(a,a.return)),a!==null&&l&4&&Yf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(an(i,e),on(e),l&512&&(Re||a===null||Ei(a,a.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(ut){Yt(e,e.return,ut)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Yf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Jf=!0);break;case 6:if(an(i,e),on(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ut){Yt(e,e.return,ut)}}break;case 3:if(_c=null,h=Yn,Yn=gc(i.containerInfo),an(i,e),Yn=h,on(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{za(i.containerInfo)}catch(ut){Yt(e,e.return,ut)}Jf&&(Jf=!1,Dy(e));break;case 4:l=Yn,Yn=gc(e.stateNode.containerInfo),an(i,e),on(e),Yn=l;break;case 12:an(i,e),on(e);break;case 31:an(i,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,nc(e,l)));break;case 13:an(i,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rc=We()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,nc(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Fi,K=Re;if(Fi=z||h,Re=K||I,an(i,e),Re=K,Fi=z,on(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Fi||Re||Os(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var J=I.memoizedProps.style,j=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ut){Yt(I,I.return,ut)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ut){Yt(I,I.return,ut)}}}else if(i.tag===18){if(a===null){I=i;try{var F=I.stateNode;h?__(F,!0):__(I.stateNode,!1)}catch(ut){Yt(I,I.return,ut)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nc(e,a))));break;case 19:an(i,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,nc(e,l)));break;case 30:break;case 21:break;default:an(i,e),on(e)}}function on(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Ey(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Xf(e);ec(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(rn(_,""),a.flags&=-33);var T=Xf(e);ec(e,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,z=Xf(e);$f(e,z,I);break;default:throw Error(s(161))}}catch(K){Yt(e,e.return,K)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Dy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Dy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Qi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ay(e,i.alternate,i),i=i.sibling}function Os(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ir(4,i,i.return),Os(i);break;case 1:Ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&_y(i,i.return,a),Os(i);break;case 27:hl(i.stateNode);case 26:case 5:Ei(i,i.return),Os(i);break;case 22:i.memoizedState===null&&Os(i);break;case 30:Os(i);break;default:Os(i)}e=e.sibling}}function Ki(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ki(h,d,a),el(4,d);break;case 1:if(Ki(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ag(I[h],T)}catch(z){Yt(l,l.return,z)}}a&&_&64&&yy(d),nl(d,d.return);break;case 27:Ty(d);case 26:case 5:Ki(h,d,a),a&&l===null&&_&4&&vy(d),nl(d,d.return);break;case 12:Ki(h,d,a);break;case 31:Ki(h,d,a),a&&_&4&&wy(h,d);break;case 13:Ki(h,d,a),a&&_&4&&Cy(h,d);break;case 22:d.memoizedState===null&&Ki(h,d,a),nl(d,d.return);break;case 30:break;default:Ki(h,d,a)}i=i.sibling}}function Zf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qo(a))}function Wf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&qo(e))}function Xn(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ny(e,i,a,l),i=i.sibling}function Ny(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(e,i,a,l),h&2048&&el(9,i);break;case 1:Xn(e,i,a,l);break;case 3:Xn(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){Xn(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(i,i.return,I)}}else Xn(e,i,a,l);break;case 31:Xn(e,i,a,l);break;case 13:Xn(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Xn(e,i,a,l):il(e,i):d._visibility&2?Xn(e,i,a,l):(d._visibility|=2,Ia(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(_,i);break;case 24:Xn(e,i,a,l),h&2048&&Wf(i.alternate,i);break;default:Xn(e,i,a,l)}}function Ia(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,I=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ia(d,_,T,I,h),el(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Ia(d,_,T,I,h):il(d,_):(K._visibility|=2,Ia(d,_,T,I,h)),h&&z&2048&&Zf(_.alternate,_);break;case 24:Ia(d,_,T,I,h),h&&z&2048&&Wf(_.alternate,_);break;default:Ia(d,_,T,I,h)}i=i.sibling}}function il(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:il(a,l),h&2048&&Zf(l.alternate,l);break;case 24:il(a,l),h&2048&&Wf(l.alternate,l);break;default:il(a,l)}i=i.sibling}}var rl=8192;function Da(e,i,a){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)Oy(e,i,a),e=e.sibling}function Oy(e,i,a){switch(e.tag){case 26:Da(e,i,a),e.flags&rl&&e.memoizedState!==null&&zA(a,Yn,e.memoizedState,e.memoizedProps);break;case 5:Da(e,i,a);break;case 3:case 4:var l=Yn;Yn=gc(e.stateNode.containerInfo),Da(e,i,a),Yn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=rl,rl=16777216,Da(e,i,a),rl=l):Da(e,i,a));break;default:Da(e,i,a)}}function My(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function sl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,xy(l,e)}My(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vy(e),e=e.sibling}function Vy(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&Ir(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ic(e)):sl(e);break;default:sl(e)}}function ic(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,xy(l,e)}My(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ir(8,i,i.return),ic(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ic(i));break;default:ic(i)}e=e.sibling}}function xy(e,i){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Ir(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=e;Ue!==null;){l=Ue;var h=l.sibling,d=l.return;if(by(l),l===a){Ue=null;break t}if(h!==null){h.return=d,Ue=h;break t}Ue=d}}}var tA={getCacheForType:function(e){var i=qe(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return qe(Se).controller.signal}},eA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,Dt=null,Ot=0,Kt=0,yn=null,Dr=!1,Na=!1,td=!1,Yi=0,he=0,Nr=0,Ms=0,ed=0,_n=0,Oa=0,al=null,ln=null,nd=!1,rc=0,Ly=0,sc=1/0,ac=null,Or=null,Oe=0,Mr=null,Ma=null,Xi=0,id=0,rd=null,Uy=null,ol=0,sd=null;function vn(){return(Ht&2)!==0&&Ot!==0?Ot&-Ot:Y.T!==null?hd():ou()}function Py(){if(_n===0)if((Ot&536870912)===0||Ut){var e=ss;ss<<=1,(ss&3932160)===0&&(ss=262144),_n=e}else _n=536870912;return e=pn.current,e!==null&&(e.flags|=32),_n}function un(e,i,a){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),Vr(e,Ot,_n,!1)),as(e,a),((Ht&2)===0||e!==Wt)&&(e===Wt&&((Ht&2)===0&&(Ms|=a),he===4&&Vr(e,Ot,_n,!1)),Ti(e))}function ky(e,i,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||zn(e,i),h=l?rA(e,i):od(e,i,!0),d=l;do{if(h===0){Na&&!l&&Vr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!nA(a)){h=od(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=al;var I=T.current.memoizedState.isDehydrated;if(I&&(Va(T,_).flags|=256),_=od(T,_,!1),_!==2){if(td&&!I){T.errorRecoveryDisabledLanes|=d,Ms|=d,h=4;break t}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Va(e,0),Vr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Vr(l,i,_n,!Dr);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=rc+300-We(),10<h)){if(Vr(l,i,_n,!Dr),ii(l,0,!0)!==0)break t;Xi=i,l.timeoutHandle=p_(zy.bind(null,l,a,ln,ac,nd,i,_n,Ms,Oa,Dr,d,"Throttled",-0,0),h);break t}zy(l,a,ln,ac,nd,i,_n,Ms,Oa,Dr,d,null,-0,0)}}break}while(!0);Ti(e)}function zy(e,i,a,l,h,d,_,T,I,z,K,J,j,F){if(e.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Oy(i,d,J);var ut=(d&62914560)===d?rc-We():(d&4194048)===d?Ly-We():0;if(ut=jA(J,ut),ut!==null){Xi=d,e.cancelPendingCommit=ut(Ky.bind(null,e,i,d,a,l,h,_,T,I,K,J,null,j,F)),Vr(e,d,_,!z);return}}Ky(e,i,d,a,l,h,_,T,I)}function nA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vr(e,i,a,l){i&=~ed,i&=~Ms,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-fe(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&os(e,a,i)}function oc(){return(Ht&6)===0?(ll(0),!1):!0}function ad(){if(Dt!==null){if(Kt===0)var e=Dt.return;else e=Dt,ki=As=null,Sf(e),Aa=null,Fo=0,e=Dt;for(;e!==null;)gy(e.alternate,e),e=e.return;Dt=null}}function Va(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,SA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xi=0,ad(),Wt=e,Dt=a=Ui(e.current,null),Ot=i,Kt=0,yn=null,Dr=!1,Na=zn(e,i),td=!1,Oa=_n=ed=Ms=Nr=he=0,ln=al=null,nd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-fe(l),d=1<<h;i|=e[h],l&=~d}return Yi=i,Iu(),a}function jy(e,i){Rt=null,Y.H=Zo,i===Sa||i===Uu?(i=ng(),Kt=3):i===cf?(i=ng(),Kt=4):Kt=i===kf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Dt===null&&(he=1,$u(e,Cn(i,e.current)))}function By(){var e=pn.current;return e===null?!0:(Ot&4194048)===Ot?On===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===On:!1}function qy(){var e=Y.H;return Y.H=Zo,e===null?Zo:e}function Hy(){var e=Y.A;return Y.A=tA,e}function lc(){he=4,Dr||(Ot&4194048)!==Ot&&pn.current!==null||(Na=!0),(Nr&134217727)===0&&(Ms&134217727)===0||Wt===null||Vr(Wt,Ot,_n,!1)}function od(e,i,a){var l=Ht;Ht|=2;var h=qy(),d=Hy();(Wt!==e||Ot!==i)&&(ac=null,Va(e,i)),i=!1;var _=he;t:do try{if(Kt!==0&&Dt!==null){var T=Dt,I=yn;switch(Kt){case 8:ad(),_=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(i=!0);var z=Kt;if(Kt=0,yn=null,xa(e,T,I,z),a&&Na){_=0;break t}break;default:z=Kt,Kt=0,yn=null,xa(e,T,I,z)}}iA(),_=he;break}catch(K){jy(e,K)}while(!0);return i&&e.shellSuspendCounter++,ki=As=null,Ht=l,Y.H=h,Y.A=d,Dt===null&&(Wt=null,Ot=0,Iu()),_}function iA(){for(;Dt!==null;)Fy(Dt)}function rA(e,i){var a=Ht;Ht|=2;var l=qy(),h=Hy();Wt!==e||Ot!==i?(ac=null,sc=We()+500,Va(e,i)):Na=zn(e,i);t:do try{if(Kt!==0&&Dt!==null){i=Dt;var d=yn;e:switch(Kt){case 1:Kt=0,yn=null,xa(e,i,d,1);break;case 2:case 9:if(tg(d)){Kt=0,yn=null,Gy(i);break}i=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),Ti(e)},d.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:tg(d)?(Kt=0,yn=null,Gy(i)):(Kt=0,yn=null,xa(e,i,d,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var T=Dt;if(_?N_(_):T.stateNode.complete){Kt=0,yn=null;var I=T.sibling;if(I!==null)Dt=I;else{var z=T.return;z!==null?(Dt=z,uc(z)):Dt=null}break e}}Kt=0,yn=null,xa(e,i,d,5);break;case 6:Kt=0,yn=null,xa(e,i,d,6);break;case 8:ad(),he=6;break t;default:throw Error(s(462))}}sA();break}catch(K){jy(e,K)}while(!0);return ki=As=null,Y.H=l,Y.A=h,Ht=a,Dt!==null?0:(Wt=null,Ot=0,Iu(),he)}function sA(){for(;Dt!==null&&!Uh();)Fy(Dt)}function Fy(e){var i=my(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,i===null?uc(e):Dt=i}function Gy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=ly(a,i,i.pendingProps,i.type,void 0,Ot);break;case 11:i=ly(a,i,i.pendingProps,i.type.render,i.ref,Ot);break;case 5:Sf(i);default:gy(a,i),i=Dt=Hp(i,Yi),i=my(a,i,Yi)}e.memoizedProps=e.pendingProps,i===null?uc(e):Dt=i}function xa(e,i,a,l){ki=As=null,Sf(i),Aa=null,Fo=0;var h=i.return;try{if(KS(e,h,i,a,Ot)){he=1,$u(e,Cn(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;he=1,$u(e,Cn(a,e.current)),Dt=null;return}i.flags&32768?(Ut||l===1?e=!0:Na||(Ot&536870912)!==0?e=!1:(Dr=e=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Qy(i,e)):uc(i)}function uc(e){var i=e;do{if((i.flags&32768)!==0){Qy(i,Dr);return}e=i.return;var a=$S(i.alternate,i,Yi);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);he===0&&(he=5)}function Qy(e,i){do{var a=JS(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);he=6,Dt=null}function Ky(e,i,a,l,h,d,_,T,I){e.cancelPendingCommit=null;do cc();while(Oe!==0);if((Ht&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Yh,zh(e,a,d,_,T,I),e===Wt&&(Dt=Wt=null,Ot=0),Ma=i,Mr=e,Xi=a,id=d,rd=h,Uy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,uA(ur,function(){return Zy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=st.p,st.p=2,_=Ht,Ht|=4;try{ZS(e,i,a)}finally{Ht=_,st.p=h,Y.T=l}}Oe=1,Yy(),Xy(),$y()}}function Yy(){if(Oe===1){Oe=0;var e=Mr,i=Ma,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=st.p;st.p=2;var h=Ht;Ht|=4;try{Iy(i,e);var d=vd,_=xp(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Vp(T.ownerDocument.documentElement,T)){if(I!==null&&Hh(T)){var z=I.start,K=I.end;if(K===void 0&&(K=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(K,T.value.length);else{var J=T.ownerDocument||document,j=J&&J.defaultView||window;if(j.getSelection){var F=j.getSelection(),ut=T.textContent.length,gt=Math.min(I.start,ut),Zt=I.end===void 0?gt:Math.min(I.end,ut);!F.extend&&gt>Zt&&(_=Zt,Zt=gt,gt=_);var x=Mp(T,gt),N=Mp(T,Zt);if(x&&N&&(F.rangeCount!==1||F.anchorNode!==x.node||F.anchorOffset!==x.offset||F.focusNode!==N.node||F.focusOffset!==N.offset)){var k=J.createRange();k.setStart(x.node,x.offset),F.removeAllRanges(),gt>Zt?(F.addRange(k),F.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),F.addRange(k))}}}}for(J=[],F=T;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var $=J[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Sc=!!_d,vd=_d=null}finally{Ht=h,st.p=l,Y.T=a}}e.current=i,Oe=2}}function Xy(){if(Oe===2){Oe=0;var e=Mr,i=Ma,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=st.p;st.p=2;var h=Ht;Ht|=4;try{Ay(e,i.alternate,i)}finally{Ht=h,st.p=l,Y.T=a}}Oe=3}}function $y(){if(Oe===4||Oe===3){Oe=0,tu();var e=Mr,i=Ma,a=Xi,l=Uy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Oe=5:(Oe=0,Ma=Mr=null,Jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Or=null),Mi(a),i=i.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(kn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=st.p,st.p=2,Y.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Y.T=i,st.p=h}}(Xi&3)!==0&&cc(),Ti(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===sd?ol++:(ol=0,sd=e):ol=0,ll(0)}}function Jy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,qo(i)))}function cc(){return Yy(),Xy(),$y(),Zy()}function Zy(){if(Oe!==5)return!1;var e=Mr,i=id;id=0;var a=Mi(Xi),l=Y.T,h=st.p;try{st.p=32>a?32:a,Y.T=null,a=rd,rd=null;var d=Mr,_=Xi;if(Oe=0,Ma=Mr=null,Xi=0,(Ht&6)!==0)throw Error(s(331));var T=Ht;if(Ht|=4,Vy(d.current),Ny(d,d.current,_,a),Ht=T,ll(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(kn,d)}catch{}return!0}finally{st.p=h,Y.T=l,Jy(e,i)}}function Wy(e,i,a){i=Cn(a,i),i=Pf(e.stateNode,i,2),e=Rr(e,i,2),e!==null&&(as(e,2),Ti(e))}function Yt(e,i,a){if(e.tag===3)Wy(e,e,a);else for(;i!==null;){if(i.tag===3){Wy(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Or===null||!Or.has(l))){e=Cn(a,e),a=ty(2),l=Rr(i,a,2),l!==null&&(ey(a,l,i,e),as(l,2),Ti(l));break}}i=i.return}}function ld(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new eA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(td=!0,h.add(a),e=aA.bind(null,e,i,a),i.then(e,e))}function aA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Ot&a)===a&&(he===4||he===3&&(Ot&62914560)===Ot&&300>We()-rc?(Ht&2)===0&&Va(e,0):ed|=a,Oa===Ot&&(Oa=0)),Ti(e)}function t_(e,i){i===0&&(i=au()),e=Es(e,i),e!==null&&(as(e,i),Ti(e))}function oA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),t_(e,a)}function lA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),t_(e,a)}function uA(e,i){return Ne(e,i)}var hc=null,La=null,ud=!1,fc=!1,cd=!1,xr=0;function Ti(e){e!==La&&e.next===null&&(La===null?hc=La=e:La=La.next=e),fc=!0,ud||(ud=!0,hA())}function ll(e,i){if(!cd&&fc){cd=!0;do for(var a=!1,l=hc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-fe(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,r_(l,d))}else d=Ot,d=ii(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||zn(l,d)||(a=!0,r_(l,d));l=l.next}while(a);cd=!1}}function cA(){e_()}function e_(){fc=ud=!1;var e=0;xr!==0&&TA()&&(e=xr);for(var i=We(),a=null,l=hc;l!==null;){var h=l.next,d=n_(l,i);d===0?(l.next=null,a===null?hc=h:a.next=h,h===null&&(La=a)):(a=l,(e!==0||(d&3)!==0)&&(fc=!0)),l=h}Oe!==0&&Oe!==5||ll(e),xr!==0&&(xr=0)}function n_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-fe(d),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=kh(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=Ot,a=ii(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&lr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&lr(l),Mi(a)){case 2:case 8:a=_o;break;case 32:a=ur;break;case 268435456:a=eu;break;default:a=ur}return l=i_.bind(null,e),a=Ne(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&lr(l),e.callbackPriority=2,e.callbackNode=null,2}function i_(e,i){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(cc()&&e.callbackNode!==a)return null;var l=Ot;return l=ii(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(ky(e,l,i),n_(e,We()),e.callbackNode!=null&&e.callbackNode===a?i_.bind(null,e):null)}function r_(e,i){if(cc())return null;ky(e,i,!0)}function hA(){AA(function(){(Ht&6)!==0?Ne(yo,cA):e_()})}function hd(){if(xr===0){var e=Ea;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),xr=e}return xr}function s_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function a_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function fA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=s_((h[xe]||null).action),_=l.submitter;_&&(i=(i=_[xe]||null)?s_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new mi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xr!==0){var I=_?a_(h,_):new FormData(h);Of(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?a_(h,_):new FormData(h),Of(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var fd=0;fd<Kh.length;fd++){var dd=Kh[fd],dA=dd.toLowerCase(),mA=dd[0].toUpperCase()+dd.slice(1);Kn(dA,"on"+mA)}Kn(Pp,"onAnimationEnd"),Kn(kp,"onAnimationIteration"),Kn(zp,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(NS,"onTransitionRun"),Kn(OS,"onTransitionStart"),Kn(MS,"onTransitionCancel"),Kn(jp,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function o_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(K){Cu(K)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,z=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(K){Cu(K)}h.currentTarget=null,d=I}}}}function Nt(e,i){var a=i[ta];a===void 0&&(a=i[ta]=new Set);var l=e+"__bubble";a.has(l)||(l_(i,e,2,!1),a.add(l))}function md(e,i,a){var l=0;i&&(l|=4),l_(a,e,l,i)}var dc="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[dc]){e[dc]=!0,To.forEach(function(a){a!=="selectionchange"&&(pA.has(a)||md(a,!1,e),md(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[dc]||(i[dc]=!0,md("selectionchange",!1,i))}}function l_(e,i,a,l){switch(P_(i)){case 2:var h=HA;break;case 8:h=FA;break;default:h=Nd}a=h.bind(null,i,a,e),h=void 0,!fs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function gd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=oi(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue t}T=T.parentNode}}l=l.return}pr(function(){var z=d,K=An(a),J=[];t:{var j=Bp.get(e);if(j!==void 0){var F=mi,ut=e;switch(e){case"keypress":if(ms(a)===0)break t;case"keydown":case"keyup":F=bu;break;case"focusin":ut="focus",F=gs;break;case"focusout":ut="blur",F=gs;break;case"beforeblur":case"afterblur":F=gs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case Pp:case kp:case zp:F=yu;break;case jp:F=A;break;case"scroll":case"scrollend":F=Vo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Li;break;case"toggle":case"beforetoggle":F=bt}var gt=(i&4)!==0,Zt=!gt&&(e==="scroll"||e==="scrollend"),x=gt?j!==null?j+"Capture":null:j;gt=[];for(var N=z,k;N!==null;){var $=N;if(k=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||k===null||x===null||($=Hn(N,x),$!=null&&gt.push(cl(N,$,k))),Zt)break;N=N.return}0<gt.length&&(j=new F(j,ut,null,a,K),J.push({event:j,listeners:gt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",j&&a!==No&&(ut=a.relatedTarget||a.fromElement)&&(oi(ut)||ut[si]))break t;if((F||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,F?(ut=a.relatedTarget||a.toElement,F=z,ut=ut?oi(ut):null,ut!==null&&(Zt=u(ut),gt=ut.tag,ut!==Zt||gt!==5&&gt!==27&&gt!==6)&&(ut=null)):(F=null,ut=z),F!==ut)){if(gt=xo,$="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Li,$="onPointerLeave",x="onPointerEnter",N="pointer"),Zt=F==null?j:hn(F),k=ut==null?j:hn(ut),j=new gt($,N+"leave",F,a,K),j.target=Zt,j.relatedTarget=k,$=null,oi(K)===z&&(gt=new gt(x,N+"enter",ut,a,K),gt.target=k,gt.relatedTarget=Zt,$=gt),Zt=$,F&&ut)e:{for(gt=gA,x=F,N=ut,k=0,$=x;$;$=gt($))k++;$=0;for(var ft=N;ft;ft=gt(ft))$++;for(;0<k-$;)x=gt(x),k--;for(;0<$-k;)N=gt(N),$--;for(;k--;){if(x===N||N!==null&&x===N.alternate){gt=x;break e}x=gt(x),N=gt(N)}gt=null}else gt=null;F!==null&&u_(J,j,F,gt,!1),ut!==null&&Zt!==null&&u_(J,Zt,ut,gt,!0)}}t:{if(j=z?hn(z):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var jt=wp;else if(bp(j))if(Cp)jt=CS;else{jt=RS;var ct=bS}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ra(z.elementType)&&(jt=wp):jt=wS;if(jt&&(jt=jt(e,z))){Rp(J,jt,a,K);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Co(j,"number",j.value)}switch(ct=z?hn(z):window,e){case"focusin":(bp(ct)||ct.contentEditable==="true")&&(fa=ct,Fh=z,zo=null);break;case"focusout":zo=Fh=fa=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Lp(J,a,K);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":Lp(J,a,K)}var It;if(qt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else ha?ys(e,a)&&(Mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(yi&&a.locale!=="ko"&&(ha||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&ha&&(It=Mo()):(di=K,Oo="value"in di?di.value:di.textContent,ha=!0)),ct=mc(z,Mt),0<ct.length&&(Mt=new gi(Mt,e,null,a,K),J.push({event:Mt,listeners:ct}),It?Mt.data=It:(It=ca(a),It!==null&&(Mt.data=It)))),(It=Rn?ES(e,a):TS(e,a))&&(Mt=mc(z,"onBeforeInput"),0<Mt.length&&(ct=new gi("onBeforeInput","beforeinput",null,a,K),J.push({event:ct,listeners:Mt}),ct.data=It)),fA(J,e,z,a,K)}o_(J,i)})}function cl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function mc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Hn(e,a),h!=null&&l.unshift(cl(e,h,d)),h=Hn(e,i),h!=null&&l.push(cl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function gA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function u_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=Hn(a,d),z!=null&&_.unshift(cl(a,z,I))):h||(z=Hn(a,d),z!=null&&_.push(cl(a,z,I)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var yA=/\r\n?/g,_A=/\u0000|\uFFFD/g;function c_(e){return(typeof e=="string"?e:""+e).replace(yA,`
`).replace(_A,"")}function h_(e,i){return i=c_(i),c_(e)===i}function Jt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||rn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&rn(e,""+l);break;case"className":fn(e,"class",l);break;case"tabIndex":fn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,a,l);break;case"style":Do(e,l,d);break;case"data":if(i!=="object"){fn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=sa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Jt(e,i,"name",h.name,h,null),Jt(e,i,"formEncType",h.formEncType,h,null),Jt(e,i,"formMethod",h.formMethod,h,null),Jt(e,i,"formTarget",h.formTarget,h,null)):(Jt(e,i,"encType",h.encType,h,null),Jt(e,i,"method",h.method,h,null),Jt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=sa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=qn);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=sa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),na(e,"popover",l);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":na(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,na(e,a,l))}}function yd(e,i,a,l,h,d){switch(a){case"style":Do(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?rn(e,l):(typeof l=="number"||typeof l=="bigint")&&rn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[xe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):na(e,a,l)}}}function Fe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,d,_,a,null)}}h&&Jt(e,i,"srcSet",a.srcSet,a,null),l&&Jt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var T=d=_=h=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":I=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Jt(e,i,l,K,a,null)}}hu(e,d,T,I,z,_,h,!1);return;case"select":Nt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Jt(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?hr(e,!!l,i,!1):a!=null&&hr(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Jt(e,i,_,T,a,null)}fr(e,l,h,d);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Jt(e,i,I,l,a,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<ul.length;l++)Nt(ul[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,z,l,a,null)}return;default:if(ra(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&yd(e,i,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Jt(e,i,T,l,a,null))}function vA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,z=null,K=null;for(F in a){var J=a[F];if(a.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(F)||Jt(e,i,F,null,l,J)}}for(var j in l){var F=l[j];if(J=a[j],l.hasOwnProperty(j)&&(F!=null||J!=null))switch(j){case"type":d=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":K=F;break;case"value":_=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==J&&Jt(e,i,j,F,l,J)}}ia(e,_,T,I,z,K,d,h);return;case"select":F=_=T=j=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(d)||Jt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&Jt(e,i,h,d,l,I)}i=T,a=_,l=F,j!=null?hr(e,!!a,j,!1):!!l!=!!a&&(i!=null?hr(e,!!a,i,!0):hr(e,!!a,a?[]:"",!1));return;case"textarea":F=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Jt(e,i,_,h,l,d)}fu(e,j,F);return;case"option":for(var ut in a)j=a[ut],a.hasOwnProperty(ut)&&j!=null&&!l.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:Jt(e,i,ut,null,l,j));for(I in l)j=l[I],F=a[I],l.hasOwnProperty(I)&&j!==F&&(j!=null||F!=null)&&(I==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Jt(e,i,I,j,l,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)j=a[gt],a.hasOwnProperty(gt)&&j!=null&&!l.hasOwnProperty(gt)&&Jt(e,i,gt,null,l,j);for(z in l)if(j=l[z],F=a[z],l.hasOwnProperty(z)&&j!==F&&(j!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Jt(e,i,z,j,l,F)}return;default:if(ra(i)){for(var Zt in a)j=a[Zt],a.hasOwnProperty(Zt)&&j!==void 0&&!l.hasOwnProperty(Zt)&&yd(e,i,Zt,void 0,l,j);for(K in l)j=l[K],F=a[K],!l.hasOwnProperty(K)||j===F||j===void 0&&F===void 0||yd(e,i,K,j,l,F);return}}for(var x in a)j=a[x],a.hasOwnProperty(x)&&j!=null&&!l.hasOwnProperty(x)&&Jt(e,i,x,null,l,j);for(J in l)j=l[J],F=a[J],!l.hasOwnProperty(J)||j===F||j==null&&F==null||Jt(e,i,J,j,l,F)}function f_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&f_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],z=I.startTime;if(z>T)break;var K=I.transferSize,J=I.initiatorType;K&&f_(J)&&(I=I.responseEnd,_+=K*(I<T?1:(T-z)/(I-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _d=null,vd=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function d_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Ed(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Td=null;function TA(){var e=window.event;return e&&e.type==="popstate"?e===Td?!1:(Td=e,!0):(Td=null,!1)}var p_=typeof setTimeout=="function"?setTimeout:void 0,SA=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(e){return g_.resolve(null).then(e).catch(bA)}:p_;function bA(e){setTimeout(function(){throw e})}function Lr(e){return e==="head"}function y_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),za(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")hl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,hl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ai]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&hl(e.ownerDocument.body);a=h}while(a);za(i)}function __(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Sd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sd(a),ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function RA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ai])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function wA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Mn(e.nextSibling),e===null))return null;return e}function v_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Mn(e.nextSibling),e===null))return null;return e}function Ad(e){return e.data==="$?"||e.data==="$~"}function bd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function CA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Mn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Rd=null;function E_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Mn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function T_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function S_(e,i,a){switch(i=pc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function hl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ea(e)}var Vn=new Map,A_=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=st.d;st.d={f:IA,r:DA,D:NA,C:OA,L:MA,m:VA,X:LA,S:xA,M:UA};function IA(){var e=$i.f(),i=oc();return e||i}function DA(e){var i=Sn(e);i!==null&&i.tag===5&&i.type==="form"?jg(i):$i.r(e)}var Ua=typeof document>"u"?null:document;function b_(e,i,a){var l=Ua;if(l&&typeof i=="string"&&i){var h=nn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),A_.has(h)||(A_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Fe(i,"link",e),Ee(i),l.head.appendChild(i)))}}function NA(e){$i.D(e),b_("dns-prefetch",e,null)}function OA(e,i){$i.C(e,i),b_("preconnect",e,i)}function MA(e,i,a){$i.L(e,i,a);var l=Ua;if(l&&e&&i){var h='link[rel="preload"][as="'+nn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nn(a.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var d=h;switch(i){case"style":d=Pa(e);break;case"script":d=ka(e)}Vn.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Vn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(fl(d))||i==="script"&&l.querySelector(dl(d))||(i=l.createElement("link"),Fe(i,"link",e),Ee(i),l.head.appendChild(i)))}}function VA(e,i){$i.m(e,i);var a=Ua;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ka(e)}if(!Vn.has(d)&&(e=S({rel:"modulepreload",href:e},i),Vn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dl(d)))return}l=a.createElement("link"),Fe(l,"link",e),Ee(l),a.head.appendChild(l)}}}function xA(e,i,a){$i.S(e,i,a);var l=Ua;if(l&&e){var h=li(l).hoistableStyles,d=Pa(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(fl(d)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Vn.get(d))&&wd(e,a);var I=_=l.createElement("link");Ee(I),Fe(I,"link",e),I._p=new Promise(function(z,K){I.onload=z,I.onerror=K}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function LA(e,i){$i.X(e,i);var a=Ua;if(a&&e){var l=li(a).hoistableScripts,h=ka(e),d=l.get(h);d||(d=a.querySelector(dl(h)),d||(e=S({src:e,async:!0},i),(i=Vn.get(h))&&Cd(e,i),d=a.createElement("script"),Ee(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function UA(e,i){$i.M(e,i);var a=Ua;if(a&&e){var l=li(a).hoistableScripts,h=ka(e),d=l.get(h);d||(d=a.querySelector(dl(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=Vn.get(h))&&Cd(e,i),d=a.createElement("script"),Ee(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function R_(e,i,a,l){var h=(h=Ct.current)?gc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Pa(a.href),a=li(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Pa(a.href);var d=li(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(fl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(e,a),d||PA(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ka(a),a=li(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Pa(e){return'href="'+nn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function w_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function PA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Fe(i,"link",a),Ee(i),e.head.appendChild(i))}function ka(e){return'[src="'+nn(e)+'"]'}function dl(e){return"script[async]"+e}function C_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+nn(a.href)+'"]');if(l)return i.instance=l,Ee(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ee(l),Fe(l,"style",h),yc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Pa(a.href);var d=e.querySelector(fl(h));if(d)return i.state.loading|=4,i.instance=d,Ee(d),d;l=w_(a),(h=Vn.get(h))&&wd(l,h),d=(e.ownerDocument||e).createElement("link"),Ee(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Fe(d,"link",l),i.state.loading|=4,yc(d,a.precedence,e),i.instance=d;case"script":return d=ka(a.src),(h=e.querySelector(dl(d)))?(i.instance=h,Ee(h),h):(l=a,(h=Vn.get(d))&&(l=S({},a),Cd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Fe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,yc(l,a.precedence,e));return i.instance}function yc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function wd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Cd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var _c=null;function I_(e,i,a){if(_c===null){var l=new Map,h=_c=new Map;h.set(a,l)}else h=_c,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ai]||d[ve]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function D_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function kA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function N_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function zA(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Pa(l.href),d=i.querySelector(fl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=vc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ee(d);return}d=i.ownerDocument||i,l=w_(l),(h=Vn.get(h))&&wd(l,h),d=d.createElement("link"),Ee(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Fe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=vc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Id=0;function jA(e,i){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Id===0&&(Id=62500*EA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Id?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Tc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,i.forEach(BA,e),Ec=null,vc.call(e))}function BA(e,i){if(!(i.state.loading&4)){var a=Ec.get(e);if(a)var l=a.get(null);else{a=new Map,Ec.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var ml={$$typeof:nt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function qA(e,i,a,l,h,d,_,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function O_(e,i,a,l,h,d,_,T,I,z,K,J){return e=new qA(e,i,a,_,I,z,K,J,T),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),e.current=d,d.stateNode=e,i=of(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},hf(d),e}function M_(e){return e?(e=pa,e):pa}function V_(e,i,a,l,h,d){h=M_(h),l.context===null?l.context=h:l.pendingContext=h,l=br(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Rr(e,l,i),a!==null&&(un(a,e,i),Qo(a,e,i))}function x_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Dd(e,i){x_(e,i),(e=e.alternate)&&x_(e,i)}function L_(e){if(e.tag===13||e.tag===31){var i=Es(e,67108864);i!==null&&un(i,e,67108864),Dd(e,67108864)}}function U_(e){if(e.tag===13||e.tag===31){var i=vn();i=ls(i);var a=Es(e,i);a!==null&&un(a,e,i),Dd(e,i)}}var Sc=!0;function HA(e,i,a,l){var h=Y.T;Y.T=null;var d=st.p;try{st.p=2,Nd(e,i,a,l)}finally{st.p=d,Y.T=h}}function FA(e,i,a,l){var h=Y.T;Y.T=null;var d=st.p;try{st.p=8,Nd(e,i,a,l)}finally{st.p=d,Y.T=h}}function Nd(e,i,a,l){if(Sc){var h=Od(l);if(h===null)gd(e,i,l,Ac,a),k_(e,l);else if(QA(h,e,i,a,l))l.stopPropagation();else if(k_(e,l),i&4&&-1<GA.indexOf(e)){for(;h!==null;){var d=Sn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ni(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-fe(_);T.entanglements[1]|=I,_&=~I}Ti(d),(Ht&6)===0&&(sc=We()+500,ll(0))}}break;case 31:case 13:T=Es(d,2),T!==null&&un(T,d,2),oc(),Dd(d,2)}if(d=Od(l),d===null&&gd(e,i,l,Ac,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else gd(e,i,l,null,a)}}function Od(e){return e=An(e),Md(e)}var Ac=null;function Md(e){if(Ac=null,e=oi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Ac=e,null}function P_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rs()){case yo:return 2;case _o:return 8;case ur:case Ph:return 32;case eu:return 268435456;default:return 32}default:return 32}}var Vd=!1,Ur=null,Pr=null,kr=null,pl=new Map,gl=new Map,zr=[],GA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k_(e,i){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":pl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(i.pointerId)}}function yl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Sn(i),i!==null&&L_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function QA(e,i,a,l,h){switch(i){case"focusin":return Ur=yl(Ur,e,i,a,l,h),!0;case"dragenter":return Pr=yl(Pr,e,i,a,l,h),!0;case"mouseover":return kr=yl(kr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return pl.set(d,yl(pl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,gl.set(d,yl(gl.get(d)||null,e,i,a,l,h)),!0}return!1}function z_(e){var i=oi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,jn(e.priority,function(){U_(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,jn(e.priority,function(){U_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Od(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);No=l,a.target.dispatchEvent(l),No=null}else return i=Sn(a),i!==null&&L_(i),e.blockedOn=a,!1;i.shift()}return!0}function j_(e,i,a){bc(e)&&a.delete(i)}function KA(){Vd=!1,Ur!==null&&bc(Ur)&&(Ur=null),Pr!==null&&bc(Pr)&&(Pr=null),kr!==null&&bc(kr)&&(kr=null),pl.forEach(j_),gl.forEach(j_)}function Rc(e,i){e.blockedOn===i&&(e.blockedOn=null,Vd||(Vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,KA)))}var wc=null;function B_(e){wc!==e&&(wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Md(l||a)===null)continue;break}var d=Sn(a);d!==null&&(e.splice(i,3),i-=3,Of(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function za(e){function i(I){return Rc(I,e)}Ur!==null&&Rc(Ur,e),Pr!==null&&Rc(Pr,e),kr!==null&&Rc(kr,e),pl.forEach(i),gl.forEach(i);for(var a=0;a<zr.length;a++){var l=zr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)z_(a),a.blockedOn===null&&zr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[xe]||null;if(typeof d=="function")_||B_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[xe]||null)T=_.formAction;else if(Md(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),B_(a)}}}function q_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}Cc.prototype.render=xd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=vn();V_(a,l,e,i,null,null)},Cc.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;V_(e.current,2,null,e,null,null),oc(),i[si]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var i=ou();e={blockedOn:null,target:e,priority:i};for(var a=0;a<zr.length&&i!==0&&i<zr[a].priority;a++);zr.splice(a,0,e),a===0&&z_(e)}};var H_=t.version;if(H_!=="19.2.3")throw Error(s(527,H_,"19.2.3"));st.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var YA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{kn=Ic.inject(YA),ze=Ic}catch{}}return vl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=$g,d=Jg,_=Zg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=O_(e,1,!1,null,null,a,l,null,h,d,_,q_),e[si]=i.current,pd(e),new xd(i)},vl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=$g,_=Jg,T=Zg,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=O_(e,1,!0,i,a??null,l,h,I,d,_,T,q_),i.context=M_(null),a=i.current,l=vn(),l=ls(l),h=br(l),h.callback=null,Rr(a,h,l),a=l,i.current.lanes=a,as(i,a),Ti(i),e[si]=i.current,pd(e),new Cc(i)},vl.version="19.2.3",vl}var W_;function r1(){if(W_)return Pd.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Pd.exports=i1(),Pd.exports}var s1=r1();var tv="popstate";function a1(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:g=""}=Fs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),im("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:Ol(u))}function s(o,u){Un(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return l1(t,n,s,r)}function le(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Un(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function o1(){return Math.random().toString(36).substring(2,10)}function ev(r,t){return{usr:r.state,key:r.key,idx:t}}function im(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Fs(t):t,state:n,key:t&&t.key||s||o1()}}function Ol({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Fs(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function l1(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let B=E(),et=B==null?null:B-y;y=B,g&&g({action:m,location:tt.location,delta:et})}function R(B,et){m="PUSH";let X=im(tt.location,B,et);n&&n(X,B),y=E()+1;let nt=ev(X,y),pt=tt.createHref(X);try{f.pushState(nt,"",pt)}catch(_t){if(_t instanceof DOMException&&_t.name==="DataCloneError")throw _t;o.location.assign(pt)}u&&g&&g({action:m,location:tt.location,delta:1})}function L(B,et){m="REPLACE";let X=im(tt.location,B,et);n&&n(X,B),y=E();let nt=ev(X,y),pt=tt.createHref(X);f.replaceState(nt,"",pt),u&&g&&g({action:m,location:tt.location,delta:0})}function Q(B){return u1(B)}let tt={get action(){return m},get location(){return r(o,f)},listen(B){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(tv,S),g=B,()=>{o.removeEventListener(tv,S),g=null}},createHref(B){return t(o,B)},createURL:Q,encodeLocation(B){let et=Q(B);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:R,replace:L,go(B){return f.go(B)}};return tt}function u1(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),le(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ol(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function VE(r,t,n="/"){return c1(r,t,n,!1)}function c1(r,t,n,s){let o=typeof t=="string"?Fs(t):t,u=nr(o.pathname||"/",n);if(u==null)return null;let f=xE(r);h1(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=S1(u);m=E1(f[g],y,s)}return m}function xE(r,t=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;le(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=tr([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(le(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),xE(f.children,t,R,S,g)),!(f.path==null&&!f.index)&&t.push({path:S,score:_1(S,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of LE(f.path))u(f,m,!0,g)}),t}function LE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=LE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function h1(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:v1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var f1=/^:[\w-]+$/,d1=3,m1=2,p1=1,g1=10,y1=-2,nv=r=>r==="*";function _1(r,t){let n=r.split("/"),s=n.length;return n.some(nv)&&(s+=y1),t&&(s+=m1),n.filter(o=>!nv(o)).reduce((o,u)=>o+(f1.test(u)?d1:u===""?p1:g1),s)}function v1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function E1(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=Yc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),R=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=Yc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:tr([u,S.pathname]),pathnameBase:w1(tr([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=tr([u,S.pathnameBase]))}return f}function Yc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=T1(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},R)=>{if(E==="*"){let Q=m[R]||"";f=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const L=m[R];return S&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function T1(r,t=!1,n=!0){Un(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function S1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Un(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function nr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var UE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A1=r=>UE.test(r);function b1(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Fs(r):r,u;if(n)if(A1(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Un(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=iv(n.substring(1),"/"):u=iv(n,t)}else u=t;return{pathname:u,search:C1(s),hash:I1(o)}}function iv(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Bd(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function PE(r){let t=R1(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function kE(r,t,n,s=!1){let o;typeof r=="string"?o=Fs(r):(o={...r},le(!o.pathname||!o.pathname.includes("?"),Bd("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),Bd("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),Bd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=t.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?t[S]:"/"}let g=b1(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var tr=r=>r.join("/").replace(/\/\/+/g,"/"),w1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),C1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,I1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,D1=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function N1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function O1(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jE(r,t){let n=r;if(typeof n!="string"||!UE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(zE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=nr(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Un(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BE=["POST","PUT","PATCH","DELETE"];new Set(BE);var M1=["GET",...BE];new Set(M1);var so=G.createContext(null);so.displayName="DataRouter";var gh=G.createContext(null);gh.displayName="DataRouterState";var V1=G.createContext(!1),qE=G.createContext({isTransitioning:!1});qE.displayName="ViewTransition";var x1=G.createContext(new Map);x1.displayName="Fetchers";var L1=G.createContext(null);L1.displayName="Await";var Pn=G.createContext(null);Pn.displayName="Navigation";var Bl=G.createContext(null);Bl.displayName="Location";var Oi=G.createContext({outlet:null,matches:[],isDataRoute:!1});Oi.displayName="Route";var Om=G.createContext(null);Om.displayName="RouteError";var HE="REACT_ROUTER_ERROR",U1="REDIRECT",P1="ROUTE_ERROR_RESPONSE";function k1(r){if(r.startsWith(`${HE}:${U1}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function z1(r){if(r.startsWith(`${HE}:${P1}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new D1(t.status,t.statusText,t.data)}catch{}}function j1(r,{relative:t}={}){le(ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Pn),{hash:o,pathname:u,search:f}=Hl(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:tr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function ql(){return G.useContext(Bl)!=null}function Gs(){return le(ql(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Bl).location}var FE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GE(r){G.useContext(Pn).static||G.useLayoutEffect(r)}function B1(){let{isDataRoute:r}=G.useContext(Oi);return r?eb():q1()}function q1(){le(ql(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(so),{basename:t,navigator:n}=G.useContext(Pn),{matches:s}=G.useContext(Oi),{pathname:o}=Gs(),u=JSON.stringify(PE(s)),f=G.useRef(!1);return GE(()=>{f.current=!0}),G.useCallback((g,y={})=>{if(Un(f.current,FE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=kE(g,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:tr([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}G.createContext(null);function H1(){let{matches:r}=G.useContext(Oi),t=r[r.length-1];return t?t.params:{}}function Hl(r,{relative:t}={}){let{matches:n}=G.useContext(Oi),{pathname:s}=Gs(),o=JSON.stringify(PE(n));return G.useMemo(()=>kE(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function F1(r,t){return QE(r,t)}function QE(r,t,n,s,o){le(ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=G.useContext(Pn),{matches:f}=G.useContext(Oi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let X=S&&S.path||"";YE(y,!S||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=Gs(),L;if(t){let X=typeof t=="string"?Fs(t):t;le(E==="/"||X.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),L=X}else L=R;let Q=L.pathname||"/",tt=Q;if(E!=="/"){let X=E.replace(/^\//,"").split("/");tt="/"+Q.replace(/^\//,"").split("/").slice(X.length).join("/")}let B=VE(r,{pathname:tt});Un(S||B!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Un(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=X1(B&&B.map(X=>Object.assign({},X,{params:Object.assign({},g,X.params),pathname:tr([E,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:tr([E,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),f,n,s,o);return t&&et?G.createElement(Bl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},et):et}function G1(){let r=tb(),t=N1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:o},n):null,f)}var Q1=G.createElement(G1,null),KE=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=z1(r.digest);n&&(r=n)}let t=r!==void 0?G.createElement(Oi.Provider,{value:this.props.routeContext},G.createElement(Om.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?G.createElement(K1,{error:r},t):t}};KE.contextType=V1;var qd=new WeakMap;function K1({children:r,error:t}){let{basename:n}=G.useContext(Pn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=k1(t.digest);if(s){let o=qd.get(t);if(o)throw o;let u=jE(s.location,n);if(zE&&!qd.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw qd.set(t,f),f}return G.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Y1({routeContext:r,match:t,children:n}){let s=G.useContext(so);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(Oi.Provider,{value:r},n)}function X1(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);le(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:R,errors:L}=n,Q=S.route.loader&&!R.hasOwnProperty(S.route.id)&&(!L||L[S.route.id]===void 0);if(S.route.lazy||Q){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,S)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:O1(n.matches),errorInfo:S})}:void 0;return u.reduceRight((E,S,R)=>{let L,Q=!1,tt=null,B=null;n&&(L=f&&S.route.id?f[S.route.id]:void 0,tt=S.route.errorElement||Q1,m&&(g<0&&R===0?(YE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,B=null):g===R&&(Q=!0,B=S.route.hydrateFallbackElement||null)));let et=t.concat(u.slice(0,R+1)),X=()=>{let nt;return L?nt=tt:Q?nt=B:S.route.Component?nt=G.createElement(S.route.Component,null):S.route.element?nt=S.route.element:nt=E,G.createElement(Y1,{match:S,routeContext:{outlet:E,matches:et,isDataRoute:n!=null},children:nt})};return n&&(S.route.ErrorBoundary||S.route.errorElement||R===0)?G.createElement(KE,{location:n.location,revalidation:n.revalidation,component:tt,error:L,children:X(),routeContext:{outlet:null,matches:et,isDataRoute:!0},onError:y}):X()},null)}function Mm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $1(r){let t=G.useContext(so);return le(t,Mm(r)),t}function J1(r){let t=G.useContext(gh);return le(t,Mm(r)),t}function Z1(r){let t=G.useContext(Oi);return le(t,Mm(r)),t}function Vm(r){let t=Z1(r),n=t.matches[t.matches.length-1];return le(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function W1(){return Vm("useRouteId")}function tb(){let r=G.useContext(Om),t=J1("useRouteError"),n=Vm("useRouteError");return r!==void 0?r:t.errors?.[n]}function eb(){let{router:r}=$1("useNavigate"),t=Vm("useNavigate"),n=G.useRef(!1);return GE(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Un(n.current,FE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var rv={};function YE(r,t,n){!t&&!rv[r]&&(rv[r]=!0,Un(!1,n))}G.memo(nb);function nb({routes:r,future:t,state:n,onError:s}){return QE(r,void 0,n,s,t)}function rm(r){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ib({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){le(!ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=G.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Fs(n));let{pathname:y="/",search:E="",hash:S="",state:R=null,key:L="default"}=n,Q=G.useMemo(()=>{let tt=nr(y,m);return tt==null?null:{location:{pathname:tt,search:E,hash:S,state:R,key:L},navigationType:s}},[m,y,E,S,R,L,s]);return Un(Q!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:G.createElement(Pn.Provider,{value:g},G.createElement(Bl.Provider,{children:t,value:Q}))}function rb({children:r,location:t}){return F1(sm(r),t)}function sm(r,t=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...t,o];if(s.type===G.Fragment){n.push.apply(n,sm(s.props.children,u));return}le(s.type===rm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=sm(s.props.children,u)),n.push(f)}),n}var Uc="get",Pc="application/x-www-form-urlencoded";function yh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function sb(r){return yh(r)&&r.tagName.toLowerCase()==="button"}function ab(r){return yh(r)&&r.tagName.toLowerCase()==="form"}function ob(r){return yh(r)&&r.tagName.toLowerCase()==="input"}function lb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ub(r,t){return r.button===0&&(!t||t==="_self")&&!lb(r)}var Dc=null;function cb(){if(Dc===null)try{new FormData(document.createElement("form"),0),Dc=!1}catch{Dc=!0}return Dc}var hb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hd(r){return r!=null&&!hb.has(r)?(Un(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pc}"`),null):r}function fb(r,t){let n,s,o,u,f;if(ab(r)){let m=r.getAttribute("action");s=m?nr(m,t):null,n=r.getAttribute("method")||Uc,o=Hd(r.getAttribute("enctype"))||Pc,u=new FormData(r)}else if(sb(r)||ob(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?nr(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Uc,o=Hd(r.getAttribute("formenctype"))||Hd(m.getAttribute("enctype"))||Pc,u=new FormData(m,r),!cb()){let{name:y,type:E,value:S}=r;if(E==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,S)}}else{if(yh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Uc,s=null,o=Pc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function db(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&nr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function mb(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function gb(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await mb(u,n);return f.links?f.links():[]}return[]}));return Eb(s.flat(1).filter(pb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function sv(r,t,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function yb(r,t,{includeHydrateFallback:n}={}){return _b(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _b(r){return[...new Set(r)]}function vb(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function Eb(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(vb(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function XE(){let r=G.useContext(so);return xm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Tb(){let r=G.useContext(gh);return xm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Lm=G.createContext(void 0);Lm.displayName="FrameworkContext";function $E(){let r=G.useContext(Lm);return xm(r,"You must render this element inside a <HydratedRouter> element"),r}function Sb(r,t){let n=G.useContext(Lm),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,R=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let tt=et=>{et.forEach(X=>{f(X.isIntersecting)})},B=new IntersectionObserver(tt,{threshold:.5});return R.current&&B.observe(R.current),()=>{B.disconnect()}}},[r]),G.useEffect(()=>{if(s){let tt=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(tt)}}},[s]);let L=()=>{o(!0)},Q=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:El(m,L),onBlur:El(g,Q),onMouseEnter:El(y,L),onMouseLeave:El(E,Q),onTouchStart:El(S,L)}]:[!1,R,{}]}function El(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Ab({page:r,...t}){let{router:n}=XE(),s=G.useMemo(()=>VE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(Rb,{page:r,matches:s,...t}):null}function bb(r){let{manifest:t,routeModules:n}=$E(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return gb(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Rb({page:r,matches:t,...n}){let s=Gs(),{manifest:o,routeModules:u}=$E(),{basename:f}=XE(),{loaderData:m,matches:g}=Tb(),y=G.useMemo(()=>sv(r,t,g,o,s,"data"),[r,t,g,o,s]),E=G.useMemo(()=>sv(r,t,g,o,s,"assets"),[r,t,g,o,s]),S=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Q=new Set,tt=!1;if(t.forEach(et=>{let X=o.routes[et.route.id];!X||!X.hasLoader||(!y.some(nt=>nt.route.id===et.route.id)&&et.route.id in m&&u[et.route.id]?.shouldRevalidate||X.hasClientLoader?tt=!0:Q.add(et.route.id))}),Q.size===0)return[];let B=db(r,f,"data");return tt&&Q.size>0&&B.searchParams.set("_routes",t.filter(et=>Q.has(et.route.id)).map(et=>et.route.id).join(",")),[B.pathname+B.search]},[f,m,s,o,y,t,r,u]),R=G.useMemo(()=>yb(E,o),[E,o]),L=bb(E);return G.createElement(G.Fragment,null,S.map(Q=>G.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),R.map(Q=>G.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),L.map(({key:Q,link:tt})=>G.createElement("link",{key:Q,nonce:n.nonce,...tt})))}function wb(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Cb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cb&&(window.__reactRouterVersion="7.11.0")}catch{}function Ib({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=G.useRef();o.current==null&&(o.current=a1({window:s,v5Compat:!0}));let u=o.current,[f,m]=G.useState({action:u.action,location:u.location}),g=G.useCallback(y=>{n===!1?m(y):G.startTransition(()=>m(y))},[n]);return G.useLayoutEffect(()=>u.listen(g),[u,g]),G.createElement(ib,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$a=G.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:R,...L},Q){let{basename:tt,unstable_useTransitions:B}=G.useContext(Pn),et=typeof y=="string"&&JE.test(y),X=jE(y,tt);y=X.to;let nt=j1(y,{relative:o}),[pt,_t,wt]=Sb(s,L),D=Mb(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:R,unstable_useTransitions:B});function b(V){t&&t(V),V.defaultPrevented||D(V)}let w=G.createElement("a",{...L,...wt,href:X.absoluteURL||nt,onClick:X.isExternal||u?t:b,ref:wb(Q,_t),target:g,"data-discover":!et&&n==="render"?"true":void 0});return pt&&!et?G.createElement(G.Fragment,null,w,G.createElement(Ab,{page:nt})):w});$a.displayName="Link";var Db=G.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=Hl(f,{relative:y.relative}),R=Gs(),L=G.useContext(gh),{navigator:Q,basename:tt}=G.useContext(Pn),B=L!=null&&Pb(S)&&m===!0,et=Q.encodeLocation?Q.encodeLocation(S).pathname:S.pathname,X=R.pathname,nt=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(X=X.toLowerCase(),nt=nt?nt.toLowerCase():null,et=et.toLowerCase()),nt&&tt&&(nt=nr(nt,tt)||nt);const pt=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let _t=X===et||!o&&X.startsWith(et)&&X.charAt(pt)==="/",wt=nt!=null&&(nt===et||!o&&nt.startsWith(et)&&nt.charAt(et.length)==="/"),D={isActive:_t,isPending:wt,isTransitioning:B},b=_t?t:void 0,w;typeof s=="function"?w=s(D):w=[s,_t?"active":null,wt?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(D):u;return G.createElement($a,{...y,"aria-current":b,className:w,ref:E,style:V,to:f,viewTransition:m},typeof g=="function"?g(D):g)});Db.displayName="NavLink";var Nb=G.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Uc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:R,...L},Q)=>{let{unstable_useTransitions:tt}=G.useContext(Pn),B=Lb(),et=Ub(m,{relative:y}),X=f.toLowerCase()==="get"?"get":"post",nt=typeof m=="string"&&JE.test(m),pt=_t=>{if(g&&g(_t),_t.defaultPrevented)return;_t.preventDefault();let wt=_t.nativeEvent.submitter,D=wt?.getAttribute("formmethod")||f,b=()=>B(wt||_t.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:R});tt&&n!==!1?G.startTransition(()=>b()):b()};return G.createElement("form",{ref:Q,method:X,action:et,onSubmit:s?g:pt,...L,"data-discover":!nt&&r==="render"?"true":void 0})});Nb.displayName="Form";function Ob(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZE(r){let t=G.useContext(so);return le(t,Ob(r)),t}function Mb(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=B1(),E=Gs(),S=Hl(r,{relative:u});return G.useCallback(R=>{if(ub(R,t)){R.preventDefault();let L=n!==void 0?n:Ol(E)===Ol(S),Q=()=>y(r,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?G.startTransition(()=>Q()):Q()}},[E,y,S,n,s,t,r,o,u,f,m,g])}var Vb=0,xb=()=>`__${String(++Vb)}__`;function Lb(){let{router:r}=ZE("useSubmit"),{basename:t}=G.useContext(Pn),n=W1(),s=r.fetch,o=r.navigate;return G.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:S}=fb(u,t);if(f.navigate===!1){let R=f.fetcherKey||xb();await s(R,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function Ub(r,{relative:t}={}){let{basename:n}=G.useContext(Pn),s=G.useContext(Oi);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Hl(r||".",{relative:t})},f=Gs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:tr([n,u.pathname])),Ol(u)}function Pb(r,{relative:t}={}){let n=G.useContext(qE);le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ZE("useViewTransitionState"),o=Hl(r,{relative:t});if(!n.isTransitioning)return!1;let u=nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Yc(o.pathname,f)!=null||Yc(o.pathname,u)!=null}const kb=()=>{};var av={};const WE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},zb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},tT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,L=y&63;g||(L=64,f||(R=64)),s.push(n[E],n[S],n[R],n[L])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(WE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):zb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new jb;const R=u<<2|m>>4;if(s.push(R),y!==64){const L=m<<4&240|y>>2;if(s.push(L),S!==64){const Q=y<<6&192|S;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class jb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bb=function(r){const t=WE(r);return tT.encodeByteArray(t,!0)},Xc=function(r){return Bb(r).replace(/\./g,"")},eT=function(r){try{return tT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function qb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Hb=()=>qb().__FIREBASE_DEFAULTS__,Fb=()=>{if(typeof process>"u"||typeof av>"u")return;const r=av.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Gb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&eT(r[1]);return t&&JSON.parse(t)},_h=()=>{try{return kb()||Hb()||Fb()||Gb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},nT=r=>_h()?.emulatorHosts?.[r],Qb=r=>{const t=nT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},iT=()=>_h()?.config,rT=r=>_h()?.[`_${r}`];class Kb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function ao(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sT(r){return(await fetch(r,{credentials:"include"})).ok}function Yb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Xc(JSON.stringify(n)),Xc(JSON.stringify(f)),""].join(".")}const Rl={};function Xb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Rl))Rl[t]?r.emulator.push(t):r.prod.push(t);return r}function $b(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let ov=!1;function aT(r,t){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||Rl[r]===t||Rl[r]||ov)return;Rl[r]=t;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=Xb().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,L){R.setAttribute("width","24"),R.setAttribute("id",L),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{ov=!0,f()},R}function E(R,L){R.setAttribute("id",L),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=$b(s),L=n("text"),Q=document.getElementById(L)||document.createElement("span"),tt=n("learnmore"),B=document.getElementById(tt)||document.createElement("a"),et=n("preprendIcon"),X=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const nt=R.element;m(nt),E(B,tt);const pt=y();g(X,et),nt.append(X,Q,B,pt),document.body.appendChild(nt)}u?(Q.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Zb(){const r=_h()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function eR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nR(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iR(){return!Zb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rR(){try{return typeof indexedDB=="object"}catch{return!1}}function sR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const aR="FirebaseError";class or extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=aR,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?oR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new or(o,m,s)}}function oR(r,t){return r.replace(lR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const lR=/\{\$([^}]+)}/g;function uR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function zs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(lv(u)&&lv(f)){if(!zs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function lv(r){return r!==null&&typeof r=="object"}function Gl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function cR(r,t){const n=new hR(r,t);return n.subscribe.bind(n)}class hR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Fd),o.error===void 0&&(o.error=Fd),o.complete===void 0&&(o.complete=Fd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Fd(){}function En(r){return r&&r._delegate?r._delegate:r}class js{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Vs="[DEFAULT]";class dR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Kb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pR(t))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vs){return this.instances.has(t)}getOptions(t=Vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Vs){return this.component?this.component.multipleInstances?t:Vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mR(r){return r===Vs?void 0:r}function pR(r){return r.instantiationMode==="EAGER"}class gR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new dR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const yR={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},_R=Vt.INFO,vR={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},ER=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=vR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Um{constructor(t){this.name=t,this._logLevel=_R,this._logHandler=ER,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const TR=(r,t)=>t.some(n=>r instanceof n);let uv,cv;function SR(){return uv||(uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return cv||(cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oT=new WeakMap,am=new WeakMap,lT=new WeakMap,Gd=new WeakMap,Pm=new WeakMap;function bR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Qr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&oT.set(n,r)}).catch(()=>{}),Pm.set(t,r),t}function RR(r){if(am.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});am.set(r,t)}let om={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return am.get(r);if(t==="objectStoreNames")return r.objectStoreNames||lT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function wR(r){om=r(om)}function CR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Qd(this),t,...n);return lT.set(s,t.sort?t.sort():[t]),Qr(s)}:AR().includes(r)?function(...t){return r.apply(Qd(this),t),Qr(oT.get(this))}:function(...t){return Qr(r.apply(Qd(this),t))}}function IR(r){return typeof r=="function"?CR(r):(r instanceof IDBTransaction&&RR(r),TR(r,SR())?new Proxy(r,om):r)}function Qr(r){if(r instanceof IDBRequest)return bR(r);if(Gd.has(r))return Gd.get(r);const t=IR(r);return t!==r&&(Gd.set(r,t),Pm.set(t,r)),t}const Qd=r=>Pm.get(r);function DR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Qr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Qr(f.result),g.oldVersion,g.newVersion,Qr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const NR=["get","getKey","getAll","getAllKeys","count"],OR=["put","add","delete","clear"],Kd=new Map;function hv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Kd.get(t))return Kd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=OR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||NR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Kd.set(t,u),u}wR(r=>({...r,get:(t,n,s)=>hv(t,n)||r.get(t,n,s),has:(t,n)=>!!hv(t,n)||r.has(t,n)}));class MR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VR(r){return r.getComponent()?.type==="VERSION"}const lm="@firebase/app",fv="0.14.6";const ir=new Um("@firebase/app"),xR="@firebase/app-compat",LR="@firebase/analytics-compat",UR="@firebase/analytics",PR="@firebase/app-check-compat",kR="@firebase/app-check",zR="@firebase/auth",jR="@firebase/auth-compat",BR="@firebase/database",qR="@firebase/data-connect",HR="@firebase/database-compat",FR="@firebase/functions",GR="@firebase/functions-compat",QR="@firebase/installations",KR="@firebase/installations-compat",YR="@firebase/messaging",XR="@firebase/messaging-compat",$R="@firebase/performance",JR="@firebase/performance-compat",ZR="@firebase/remote-config",WR="@firebase/remote-config-compat",tw="@firebase/storage",ew="@firebase/storage-compat",nw="@firebase/firestore",iw="@firebase/ai",rw="@firebase/firestore-compat",sw="firebase",aw="12.6.0";const um="[DEFAULT]",ow={[lm]:"fire-core",[xR]:"fire-core-compat",[UR]:"fire-analytics",[LR]:"fire-analytics-compat",[kR]:"fire-app-check",[PR]:"fire-app-check-compat",[zR]:"fire-auth",[jR]:"fire-auth-compat",[BR]:"fire-rtdb",[qR]:"fire-data-connect",[HR]:"fire-rtdb-compat",[FR]:"fire-fn",[GR]:"fire-fn-compat",[QR]:"fire-iid",[KR]:"fire-iid-compat",[YR]:"fire-fcm",[XR]:"fire-fcm-compat",[$R]:"fire-perf",[JR]:"fire-perf-compat",[ZR]:"fire-rc",[WR]:"fire-rc-compat",[tw]:"fire-gcs",[ew]:"fire-gcs-compat",[nw]:"fire-fst",[rw]:"fire-fst-compat",[iw]:"fire-vertex","fire-js":"fire-js",[sw]:"fire-js-all"};const $c=new Map,lw=new Map,cm=new Map;function dv(r,t){try{r.container.addComponent(t)}catch(n){ir.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ja(r){const t=r.name;if(cm.has(t))return ir.debug(`There were multiple attempts to register component ${t}.`),!1;cm.set(t,r);for(const n of $c.values())dv(n,r);for(const n of lw.values())dv(n,r);return!0}function km(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function $n(r){return r==null?!1:r.settings!==void 0}const uw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new Fl("app","Firebase",uw);class cw{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const oo=aw;function uT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:um,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Kr.create("bad-app-name",{appName:String(o)});if(n||(n=iT()),!n)throw Kr.create("no-options");const u=$c.get(o);if(u){if(zs(n,u.options)&&zs(s,u.config))return u;throw Kr.create("duplicate-app",{appName:o})}const f=new gR(o);for(const g of cm.values())f.addComponent(g);const m=new cw(n,s,f);return $c.set(o,m),m}function cT(r=um){const t=$c.get(r);if(!t&&r===um&&iT())return uT();if(!t)throw Kr.create("no-app",{appName:r});return t}function Yr(r,t,n){let s=ow[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ir.warn(f.join(" "));return}Ja(new js(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const hw="firebase-heartbeat-database",fw=1,Ml="firebase-heartbeat-store";let Yd=null;function hT(){return Yd||(Yd=DR(hw,fw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ml)}catch(n){console.warn(n)}}}}).catch(r=>{throw Kr.create("idb-open",{originalErrorMessage:r.message})})),Yd}async function dw(r){try{const n=(await hT()).transaction(Ml),s=await n.objectStore(Ml).get(fT(r));return await n.done,s}catch(t){if(t instanceof or)ir.warn(t.message);else{const n=Kr.create("idb-get",{originalErrorMessage:t?.message});ir.warn(n.message)}}}async function mv(r,t){try{const s=(await hT()).transaction(Ml,"readwrite");await s.objectStore(Ml).put(t,fT(r)),await s.done}catch(n){if(n instanceof or)ir.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n?.message});ir.warn(s.message)}}}function fT(r){return`${r.name}!${r.options.appId}`}const mw=1024,pw=30;class gw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _w(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>pw){const o=vw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ir.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pv(),{heartbeatsToSend:n,unsentEntries:s}=yw(this._heartbeatsCache.heartbeats),o=Xc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ir.warn(t),""}}}function pv(){return new Date().toISOString().substring(0,10)}function yw(r,t=mw){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),gv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),gv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _w{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rR()?sR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return mv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return mv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function gv(r){return Xc(JSON.stringify({version:2,heartbeats:r})).length}function vw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function Ew(r){Ja(new js("platform-logger",t=>new MR(t),"PRIVATE")),Ja(new js("heartbeat",t=>new gw(t),"PRIVATE")),Yr(lm,fv,r),Yr(lm,fv,"esm2020"),Yr("fire-js","")}Ew("");var Tw="firebase",Sw="12.7.0";Yr(Tw,Sw,"app");function dT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Aw=dT,mT=new Fl("auth","Firebase",dT());const Jc=new Um("@firebase/auth");function bw(r,...t){Jc.logLevel<=Vt.WARN&&Jc.warn(`Auth (${oo}): ${r}`,...t)}function kc(r,...t){Jc.logLevel<=Vt.ERROR&&Jc.error(`Auth (${oo}): ${r}`,...t)}function Ii(r,...t){throw jm(r,...t)}function Wn(r,...t){return jm(r,...t)}function zm(r,t,n){const s={...Aw(),[t]:n};return new Fl("auth","Firebase",s).create(t,{appName:r.name})}function Us(r){return zm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rw(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Ii(r,"argument-error"),zm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return mT.create(r,...t)}function vt(r,t,...n){if(!r)throw jm(t,...n)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw kc(t),new Error(t)}function rr(r,t){r||Zi(t)}function hm(){return typeof self<"u"&&self.location?.href||""}function ww(){return yv()==="http:"||yv()==="https:"}function yv(){return typeof self<"u"&&self.location?.protocol||null}function Cw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ww()||tR()||"connection"in navigator)?navigator.onLine:!0}function Iw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ql{constructor(t,n){this.shortDelay=t,this.longDelay=n,rr(n>t,"Short delay should be less than long delay!"),this.isMobile=Jb()||eR()}get(){return Cw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bm(r,t){rr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class pT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Nw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ow=new Ql(3e4,6e4);function qm(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function lo(r,t,n,s,o={}){return gT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Gl({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return Wb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ao(r.emulatorConfig.host)&&(y.credentials="include"),pT.fetch()(await yT(r,r.config.apiHost,n,m),y)})}async function gT(r,t,n){r._canInitEmulator=!1;const s={...Dw,...t};try{const o=new Vw(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Nc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Nc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Nc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zm(r,E,y);Ii(r,E)}}catch(o){if(o instanceof or)throw o;Ii(r,"network-request-failed",{message:String(o)})}}async function Mw(r,t,n,s,o={}){const u=await lo(r,t,n,s,o);return"mfaPendingCredential"in u&&Ii(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function yT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Bm(r.config,o):`${r.config.apiScheme}://${o}`;return Nw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class Vw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Wn(this.auth,"network-request-failed")),Ow.get())})}}function Nc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Wn(r,t,s);return o.customData._tokenResponse=n,o}async function xw(r,t){return lo(r,"POST","/v1/accounts:delete",t)}async function Zc(r,t){return lo(r,"POST","/v1/accounts:lookup",t)}function wl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Lw(r,t=!1){const n=En(r),s=await n.getIdToken(t),o=Hm(s);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:wl(Xd(o.auth_time)),issuedAtTime:wl(Xd(o.iat)),expirationTime:wl(Xd(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Xd(r){return Number(r)*1e3}function Hm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=eT(n);return o?JSON.parse(o):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function _v(r){const t=Hm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Vl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof or&&Uw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Uw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Pw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(r){const t=r.auth,n=await r.getIdToken(),s=await Vl(r,Zc(t,{idToken:n}));vt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?_T(o.providerUserInfo):[],f=zw(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new fm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function kw(r){const t=En(r);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function zw(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function _T(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function jw(r,t){const n=await gT(r,{},async()=>{const s=Gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await yT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&ao(r.emulatorConfig.host)&&(g.credentials="include"),pT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Bw(r,t){return lo(r,"POST","/v2/accounts:revokeToken",qm(r,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_v(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=_v(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await jw(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Fa;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Br(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Pw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Vl(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Lw(this,t)}reload(){return kw(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Wc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Us(this.auth));const t=await this.getIdToken();return await Vl(this,xw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:R,isAnonymous:L,providerData:Q,stsTokenManager:tt}=n;vt(S&&tt,t,"internal-error");const B=Fa.fromJSON(this.name,tt);vt(typeof S=="string",t,"internal-error"),Br(s,t.name),Br(o,t.name),vt(typeof R=="boolean",t,"internal-error"),vt(typeof L=="boolean",t,"internal-error"),Br(u,t.name),Br(f,t.name),Br(m,t.name),Br(g,t.name),Br(y,t.name),Br(E,t.name);const et=new Jn({uid:S,auth:t,email:o,emailVerified:R,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:B,createdAt:y,lastLoginAt:E});return Q&&Array.isArray(Q)&&(et.providerData=Q.map(X=>({...X}))),g&&(et._redirectEventId=g),et}static async _fromIdTokenResponse(t,n,s=!1){const o=new Fa;o.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Wc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?_T(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Fa;m.updateFromIdToken(s);const g=new Jn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new fm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const vv=new Map;function Wi(r){rr(r instanceof Function,"Expected a class definition");let t=vv.get(r);return t?(rr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,vv.set(r,t),t)}class vT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}vT.type="NONE";const Ev=vT;function zc(r,t,n){return`firebase:${r}:${t}:${n}`}class Ga{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Zc(this.auth,{idToken:t}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ga(Wi(Ev),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Wi(Ev);const f=zc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const R=await Zc(t,{idToken:E}).catch(()=>{});if(!R)break;S=await Jn._fromGetAccountInfoResponse(t,R,E)}else S=Jn._fromJSON(t,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ga(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ga(u,t,s))}}function Tv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(AT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ET(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RT(t))return"Blackberry";if(wT(t))return"Webos";if(TT(t))return"Safari";if((t.includes("chrome/")||ST(t))&&!t.includes("edge/"))return"Chrome";if(bT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function ET(r=Ze()){return/firefox\//i.test(r)}function TT(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ST(r=Ze()){return/crios\//i.test(r)}function AT(r=Ze()){return/iemobile/i.test(r)}function bT(r=Ze()){return/android/i.test(r)}function RT(r=Ze()){return/blackberry/i.test(r)}function wT(r=Ze()){return/webos/i.test(r)}function Fm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qw(r=Ze()){return Fm(r)&&!!window.navigator?.standalone}function Hw(){return nR()&&document.documentMode===10}function CT(r=Ze()){return Fm(r)||bT(r)||wT(r)||RT(r)||/windows phone/i.test(r)||AT(r)}function IT(r,t=[]){let n;switch(r){case"Browser":n=Tv(Ze());break;case"Worker":n=`${Tv(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${s}`}class Fw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Gw(r,t={}){return lo(r,"GET","/v2/passwordPolicy",qm(r,t))}const Qw=6;class Kw{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Qw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class Yw{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sv(this),this.idTokenSubscription=new Sv(this),this.beforeStateQueue=new Fw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Zc(this,{idToken:t}),s=await Jn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Iw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(Us(this));const n=t?En(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Gw(this),n=new Kw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Bw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Wi(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=IT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&bw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function vh(r){return En(r)}class Sv{constructor(t){this.auth=t,this.observer=null,this.addObserver=cR(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xw(r){Gm=r}function $w(r){return Gm.loadJS(r)}function Jw(){return Gm.gapiScript}function Zw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Ww(r,t){const n=km(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(zs(u,t??{}))return o;Ii(o,"already-initialized")}return n.initialize({options:t})}function tC(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Wi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function eC(r,t,n){const s=vh(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=DT(t),{host:f,port:m}=nC(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(zs(y,s.config.emulator)&&zs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ao(f)?(sT(`${u}//${f}${g}`),aT("Auth",!0)):iC()}function DT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function nC(r){const t=DT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Av(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Av(f)}}}function Av(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function iC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class NT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,n){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function Qa(r,t){return Mw(r,"POST","/v1/accounts:signInWithIdp",qm(r,t))}const rC="http://localhost";class Bs extends NT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Bs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Bs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Qa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Qa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Qa(t,n)}buildRequest(){const t={requestUri:rC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Gl(n)}return t}}class Qm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Kl extends Qm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qr extends Kl{constructor(){super("facebook.com")}static credential(t){return Bs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";class Ji extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Bs._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ji.credentialFromTaggedObject(t)}static credentialFromError(t){return Ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Ji.credential(n,s)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";class Hr extends Kl{constructor(){super("github.com")}static credential(t){return Bs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";class Fr extends Kl{constructor(){super("twitter.com")}static credential(t,n){return Bs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";class Za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Jn._fromIdTokenResponse(t,s,o),f=bv(s);return new Za({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=bv(s);return new Za({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function bv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class th extends or{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new th(t,n,s,o)}}function OT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(r,u,t,s):u})}async function sC(r,t,n=!1){const s=await Vl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Za._forOperation(r,"link",s)}async function aC(r,t,n=!1){const{auth:s}=r;if($n(s.app))return Promise.reject(Us(s));const o="reauthenticate";try{const u=await Vl(r,OT(s,o,t,r),n);vt(u.idToken,s,"internal-error");const f=Hm(u.idToken);vt(f,s,"internal-error");const{sub:m}=f;return vt(r.uid===m,s,"user-mismatch"),Za._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ii(s,"user-mismatch"),u}}async function oC(r,t,n=!1){if($n(r.app))return Promise.reject(Us(r));const s="signIn",o=await OT(r,s,t),u=await Za._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function lC(r,t,n,s){return En(r).onIdTokenChanged(t,n,s)}function uC(r,t,n){return En(r).beforeAuthStateChanged(t,n)}function cC(r,t,n,s){return En(r).onAuthStateChanged(t,n,s)}function hC(r){return En(r).signOut()}const eh="__sak";class MT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const fC=1e3,dC=10;class VT extends MT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Hw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,dC):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},fC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}VT.type="LOCAL";const mC=VT;class xT extends MT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}xT.type="SESSION";const LT=xT;function pC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Eh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await pC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];function Km(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class gC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Km("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ai(){return window}function yC(r){Ai().location.href=r}function UT(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function _C(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vC(){return navigator?.serviceWorker?.controller||null}function EC(){return UT()?self:null}const PT="firebaseLocalStorageDb",TC=1,nh="firebaseLocalStorage",kT="fbase_key";class Yl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Th(r,t){return r.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function SC(){const r=indexedDB.deleteDatabase(PT);return new Yl(r).toPromise()}function dm(){const r=indexedDB.open(PT,TC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(nh,{keyPath:kT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(nh)?t(s):(s.close(),await SC(),t(await dm()))})})}async function Rv(r,t,n){const s=Th(r,!0).put({[kT]:t,value:n});return new Yl(s).toPromise()}async function AC(r,t){const n=Th(r,!1).get(t),s=await new Yl(n).toPromise();return s===void 0?null:s.value}function wv(r,t){const n=Th(r,!0).delete(t);return new Yl(n).toPromise()}const bC=800,RC=3;class zT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>RC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(EC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _C(),!this.activeServiceWorker)return;this.sender=new gC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||vC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dm();return await Rv(t,eh,"1"),await wv(t,eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Rv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>AC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>wv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Th(o,!1).getAll();return new Yl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zT.type="LOCAL";const wC=zT;new Ql(3e4,6e4);function jT(r,t){return t?Wi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ym extends NT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Qa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function CC(r){return oC(r.auth,new Ym(r),r.bypassAuthState)}function IC(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),aC(n,new Ym(r),r.bypassAuthState)}async function DC(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),sC(n,new Ym(r),r.bypassAuthState)}class BT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return CC;case"linkViaPopup":case"linkViaRedirect":return DC;case"reauthViaPopup":case"reauthViaRedirect":return IC;default:Ii(this.auth,"internal-error")}}resolve(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const NC=new Ql(2e3,1e4);async function OC(r,t,n){if($n(r.app))return Promise.reject(Wn(r,"operation-not-supported-in-this-environment"));const s=vh(r);Rw(r,t,Qm);const o=jT(s,n);return new xs(s,"signInViaPopup",t,o).executeNotNull()}class xs extends BT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const t=Km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,NC.get())};t()}}xs.currentPopupAction=null;const MC="pendingRedirect",jc=new Map;class VC extends BT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=jc.get(this.auth._key());if(!t){try{const s=await xC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}jc.set(this.auth._key(),t)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xC(r,t){const n=PC(t),s=UC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function LC(r,t){jc.set(r._key(),t)}function UC(r){return Wi(r._redirectPersistence)}function PC(r){return zc(MC,r.config.apiKey,r.name)}async function kC(r,t,n=!1){if($n(r.app))return Promise.reject(Us(r));const s=vh(r),o=jT(s,t),f=await new VC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const zC=600*1e3;class jC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!BC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!qT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Wn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=zC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cv(t))}saveEventToCache(t){this.cachedEventUids.add(Cv(t)),this.lastProcessedEventTime=Date.now()}}function Cv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function qT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function BC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qT(r);default:return!1}}async function qC(r,t={}){return lo(r,"GET","/v1/projects",t)}const HC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FC=/^https?/;async function GC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await qC(r);for(const n of t)try{if(QC(n))return}catch{}Ii(r,"unauthorized-domain")}function QC(r){const t=hm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!FC.test(n))return!1;if(HC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const KC=new Ql(3e4,6e4);function Iv(){const r=Ai().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function YC(r){return new Promise((t,n)=>{function s(){Iv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Iv(),n(Wn(r,"network-request-failed"))},timeout:KC.get()})}if(Ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ai().gapi?.load)s();else{const o=Zw("iframefcb");return Ai()[o]=()=>{gapi.load?s():n(Wn(r,"network-request-failed"))},$w(`${Jw()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Bc=null,t})}let Bc=null;function XC(r){return Bc=Bc||YC(r),Bc}const $C=new Ql(5e3,15e3),JC="__/auth/iframe",ZC="emulator/auth/iframe",WC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eI(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Bm(t,ZC):`https://${r.config.authDomain}/${JC}`,s={apiKey:t.apiKey,appName:r.name,v:oo},o=tI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Gl(s).slice(1)}`}async function nI(r){const t=await XC(r),n=Ai().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:eI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Wn(r,"network-request-failed"),m=Ai().setTimeout(()=>{u(f)},$C.get());function g(){Ai().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const iI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rI=500,sI=600,aI="_blank",oI="http://localhost";class Dv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lI(r,t,n,s=rI,o=sI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...iI,width:s.toString(),height:o.toString(),top:u,left:f},y=Ze().toLowerCase();n&&(m=ST(y)?aI:n),ET(y)&&(t=t||oI,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[L,Q])=>`${R}${L}=${Q},`,"");if(qw(y)&&m!=="_self")return uI(t||"",m),new Dv(null);const S=window.open(t||"",m,E);vt(S,r,"popup-blocked");try{S.focus()}catch{}return new Dv(S)}function uI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const cI="__/auth/handler",hI="emulator/auth/handler",fI=encodeURIComponent("fac");async function Nv(r,t,n,s,o,u){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:oo,eventId:o};if(t instanceof Qm){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",uR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof Kl){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${fI}=${encodeURIComponent(g)}`:"";return`${dI(r)}?${Gl(m).slice(1)}${y}`}function dI({config:r}){return r.emulator?Bm(r,hI):`https://${r.authDomain}/${cI}`}const $d="webStorageSupport";class mI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LT,this._completeRedirectFn=kC,this._overrideRedirectResult=LC}async _openPopup(t,n,s,o){rr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Nv(t,n,s,hm(),o);return lI(t,u,Km())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Nv(t,n,s,hm(),o);return yC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await nI(t),s=new jC(t);return n.register("authEvent",o=>(vt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send($d,{type:$d},o=>{const u=o?.[0]?.[$d];u!==void 0&&n(!!u),Ii(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return CT()||TT()||Fm()}}const pI=mI;var Ov="@firebase/auth",Mv="1.12.0";class gI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _I(r){Ja(new js("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IT(r)},y=new Yw(s,o,u,g);return tC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ja(new js("auth-internal",t=>{const n=vh(t.getProvider("auth").getImmediate());return(s=>new gI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(Ov,Mv,yI(r)),Yr(Ov,Mv,"esm2020")}const vI=300,EI=rT("authIdTokenMaxAge")||vI;let Vv=null;const TI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>EI)return;const o=n?.token;Vv!==o&&(Vv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function SI(r=cT()){const t=km(r,"auth");if(t.isInitialized())return t.getImmediate();const n=Ww(r,{popupRedirectResolver:pI,persistence:[wC,mC,LT]}),s=rT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=TI(u.toString());uC(n,f,()=>f(n.currentUser)),lC(n,m=>f(m))}}const o=nT("auth");return o&&eC(n,`http://${o}`),n}function AI(){return document.getElementsByTagName("head")?.[0]??document}Xw({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Wn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",AI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_I("Browser");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xr,HT;(function(){var r;function t(D,b){function w(){}w.prototype=b.prototype,D.F=b.prototype,D.prototype=new w,D.prototype.constructor=D,D.D=function(V,O,U){for(var C=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)C[ie-2]=arguments[ie];return b.prototype[O].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,w){w||(w=0);const V=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)V[O]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(O=0;O<16;++O)V[O]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=D.g[0],w=D.g[1],O=D.g[2];let U=D.g[3],C;C=b+(U^w&(O^U))+V[0]+3614090360&4294967295,b=w+(C<<7&4294967295|C>>>25),C=U+(O^b&(w^O))+V[1]+3905402710&4294967295,U=b+(C<<12&4294967295|C>>>20),C=O+(w^U&(b^w))+V[2]+606105819&4294967295,O=U+(C<<17&4294967295|C>>>15),C=w+(b^O&(U^b))+V[3]+3250441966&4294967295,w=O+(C<<22&4294967295|C>>>10),C=b+(U^w&(O^U))+V[4]+4118548399&4294967295,b=w+(C<<7&4294967295|C>>>25),C=U+(O^b&(w^O))+V[5]+1200080426&4294967295,U=b+(C<<12&4294967295|C>>>20),C=O+(w^U&(b^w))+V[6]+2821735955&4294967295,O=U+(C<<17&4294967295|C>>>15),C=w+(b^O&(U^b))+V[7]+4249261313&4294967295,w=O+(C<<22&4294967295|C>>>10),C=b+(U^w&(O^U))+V[8]+1770035416&4294967295,b=w+(C<<7&4294967295|C>>>25),C=U+(O^b&(w^O))+V[9]+2336552879&4294967295,U=b+(C<<12&4294967295|C>>>20),C=O+(w^U&(b^w))+V[10]+4294925233&4294967295,O=U+(C<<17&4294967295|C>>>15),C=w+(b^O&(U^b))+V[11]+2304563134&4294967295,w=O+(C<<22&4294967295|C>>>10),C=b+(U^w&(O^U))+V[12]+1804603682&4294967295,b=w+(C<<7&4294967295|C>>>25),C=U+(O^b&(w^O))+V[13]+4254626195&4294967295,U=b+(C<<12&4294967295|C>>>20),C=O+(w^U&(b^w))+V[14]+2792965006&4294967295,O=U+(C<<17&4294967295|C>>>15),C=w+(b^O&(U^b))+V[15]+1236535329&4294967295,w=O+(C<<22&4294967295|C>>>10),C=b+(O^U&(w^O))+V[1]+4129170786&4294967295,b=w+(C<<5&4294967295|C>>>27),C=U+(w^O&(b^w))+V[6]+3225465664&4294967295,U=b+(C<<9&4294967295|C>>>23),C=O+(b^w&(U^b))+V[11]+643717713&4294967295,O=U+(C<<14&4294967295|C>>>18),C=w+(U^b&(O^U))+V[0]+3921069994&4294967295,w=O+(C<<20&4294967295|C>>>12),C=b+(O^U&(w^O))+V[5]+3593408605&4294967295,b=w+(C<<5&4294967295|C>>>27),C=U+(w^O&(b^w))+V[10]+38016083&4294967295,U=b+(C<<9&4294967295|C>>>23),C=O+(b^w&(U^b))+V[15]+3634488961&4294967295,O=U+(C<<14&4294967295|C>>>18),C=w+(U^b&(O^U))+V[4]+3889429448&4294967295,w=O+(C<<20&4294967295|C>>>12),C=b+(O^U&(w^O))+V[9]+568446438&4294967295,b=w+(C<<5&4294967295|C>>>27),C=U+(w^O&(b^w))+V[14]+3275163606&4294967295,U=b+(C<<9&4294967295|C>>>23),C=O+(b^w&(U^b))+V[3]+4107603335&4294967295,O=U+(C<<14&4294967295|C>>>18),C=w+(U^b&(O^U))+V[8]+1163531501&4294967295,w=O+(C<<20&4294967295|C>>>12),C=b+(O^U&(w^O))+V[13]+2850285829&4294967295,b=w+(C<<5&4294967295|C>>>27),C=U+(w^O&(b^w))+V[2]+4243563512&4294967295,U=b+(C<<9&4294967295|C>>>23),C=O+(b^w&(U^b))+V[7]+1735328473&4294967295,O=U+(C<<14&4294967295|C>>>18),C=w+(U^b&(O^U))+V[12]+2368359562&4294967295,w=O+(C<<20&4294967295|C>>>12),C=b+(w^O^U)+V[5]+4294588738&4294967295,b=w+(C<<4&4294967295|C>>>28),C=U+(b^w^O)+V[8]+2272392833&4294967295,U=b+(C<<11&4294967295|C>>>21),C=O+(U^b^w)+V[11]+1839030562&4294967295,O=U+(C<<16&4294967295|C>>>16),C=w+(O^U^b)+V[14]+4259657740&4294967295,w=O+(C<<23&4294967295|C>>>9),C=b+(w^O^U)+V[1]+2763975236&4294967295,b=w+(C<<4&4294967295|C>>>28),C=U+(b^w^O)+V[4]+1272893353&4294967295,U=b+(C<<11&4294967295|C>>>21),C=O+(U^b^w)+V[7]+4139469664&4294967295,O=U+(C<<16&4294967295|C>>>16),C=w+(O^U^b)+V[10]+3200236656&4294967295,w=O+(C<<23&4294967295|C>>>9),C=b+(w^O^U)+V[13]+681279174&4294967295,b=w+(C<<4&4294967295|C>>>28),C=U+(b^w^O)+V[0]+3936430074&4294967295,U=b+(C<<11&4294967295|C>>>21),C=O+(U^b^w)+V[3]+3572445317&4294967295,O=U+(C<<16&4294967295|C>>>16),C=w+(O^U^b)+V[6]+76029189&4294967295,w=O+(C<<23&4294967295|C>>>9),C=b+(w^O^U)+V[9]+3654602809&4294967295,b=w+(C<<4&4294967295|C>>>28),C=U+(b^w^O)+V[12]+3873151461&4294967295,U=b+(C<<11&4294967295|C>>>21),C=O+(U^b^w)+V[15]+530742520&4294967295,O=U+(C<<16&4294967295|C>>>16),C=w+(O^U^b)+V[2]+3299628645&4294967295,w=O+(C<<23&4294967295|C>>>9),C=b+(O^(w|~U))+V[0]+4096336452&4294967295,b=w+(C<<6&4294967295|C>>>26),C=U+(w^(b|~O))+V[7]+1126891415&4294967295,U=b+(C<<10&4294967295|C>>>22),C=O+(b^(U|~w))+V[14]+2878612391&4294967295,O=U+(C<<15&4294967295|C>>>17),C=w+(U^(O|~b))+V[5]+4237533241&4294967295,w=O+(C<<21&4294967295|C>>>11),C=b+(O^(w|~U))+V[12]+1700485571&4294967295,b=w+(C<<6&4294967295|C>>>26),C=U+(w^(b|~O))+V[3]+2399980690&4294967295,U=b+(C<<10&4294967295|C>>>22),C=O+(b^(U|~w))+V[10]+4293915773&4294967295,O=U+(C<<15&4294967295|C>>>17),C=w+(U^(O|~b))+V[1]+2240044497&4294967295,w=O+(C<<21&4294967295|C>>>11),C=b+(O^(w|~U))+V[8]+1873313359&4294967295,b=w+(C<<6&4294967295|C>>>26),C=U+(w^(b|~O))+V[15]+4264355552&4294967295,U=b+(C<<10&4294967295|C>>>22),C=O+(b^(U|~w))+V[6]+2734768916&4294967295,O=U+(C<<15&4294967295|C>>>17),C=w+(U^(O|~b))+V[13]+1309151649&4294967295,w=O+(C<<21&4294967295|C>>>11),C=b+(O^(w|~U))+V[4]+4149444226&4294967295,b=w+(C<<6&4294967295|C>>>26),C=U+(w^(b|~O))+V[11]+3174756917&4294967295,U=b+(C<<10&4294967295|C>>>22),C=O+(b^(U|~w))+V[2]+718787259&4294967295,O=U+(C<<15&4294967295|C>>>17),C=w+(U^(O|~b))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+U&4294967295}s.prototype.v=function(D,b){b===void 0&&(b=D.length);const w=b-this.blockSize,V=this.C;let O=this.h,U=0;for(;U<b;){if(O==0)for(;U<=w;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<b;)if(V[O++]=D.charCodeAt(U++),O==this.blockSize){o(this,V),O=0;break}}else for(;U<b;)if(V[O++]=D[U++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var w=D.length-8;w<D.length;++w)D[w]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)D[b++]=this.g[w]>>>V&255;return D};function u(D,b){var w=m;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=b(D)}function f(D,b){this.h=b;const w=[];let V=!0;for(let O=D.length-1;O>=0;O--){const U=D[O]|0;V&&U==b||(w[O]=U,V=!1)}this.g=w}var m={};function g(D){return-128<=D&&D<128?u(D,function(b){return new f([b|0],b<0?-1:0)}):new f([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return B(y(-D));const b=[];let w=1;for(let V=0;D>=w;V++)b[V]=D/w|0,w*=4294967296;return new f(b,0)}function E(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return B(E(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(b,8));let V=S;for(let U=0;U<D.length;U+=8){var O=Math.min(8,D.length-U);const C=parseInt(D.substring(U,U+O),b);O<8?(O=y(Math.pow(b,O)),V=V.j(O).add(y(C))):(V=V.j(w),V=V.add(y(C)))}return V}var S=g(0),R=g(1),L=g(16777216);r=f.prototype,r.m=function(){if(tt(this))return-B(this).m();let D=0,b=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);D+=(V>=0?V:4294967296+V)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(Q(this))return"0";if(tt(this))return"-"+B(this).toString(D);const b=y(Math.pow(D,6));var w=this;let V="";for(;;){const O=pt(w,b).g;w=et(w,O.j(b));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(D);if(w=O,Q(w))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function Q(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function tt(D){return D.h==-1}r.l=function(D){return D=et(this,D),tt(D)?-1:Q(D)?0:1};function B(D){const b=D.g.length,w=[];for(let V=0;V<b;V++)w[V]=~D.g[V];return new f(w,~D.h).add(R)}r.abs=function(){return tt(this)?B(this):this},r.add=function(D){const b=Math.max(this.g.length,D.g.length),w=[];let V=0;for(let O=0;O<=b;O++){let U=V+(this.i(O)&65535)+(D.i(O)&65535),C=(U>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);V=C>>>16,U&=65535,C&=65535,w[O]=C<<16|U}return new f(w,w[w.length-1]&-2147483648?-1:0)};function et(D,b){return D.add(B(b))}r.j=function(D){if(Q(this)||Q(D))return S;if(tt(this))return tt(D)?B(this).j(B(D)):B(B(this).j(D));if(tt(D))return B(this.j(B(D)));if(this.l(L)<0&&D.l(L)<0)return y(this.m()*D.m());const b=this.g.length+D.g.length,w=[];for(var V=0;V<2*b;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<D.g.length;O++){const U=this.i(V)>>>16,C=this.i(V)&65535,ie=D.i(O)>>>16,Ie=D.i(O)&65535;w[2*V+2*O]+=C*Ie,X(w,2*V+2*O),w[2*V+2*O+1]+=U*Ie,X(w,2*V+2*O+1),w[2*V+2*O+1]+=C*ie,X(w,2*V+2*O+1),w[2*V+2*O+2]+=U*ie,X(w,2*V+2*O+2)}for(D=0;D<b;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=b;D<2*b;D++)w[D]=0;return new f(w,0)};function X(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function nt(D,b){this.g=D,this.h=b}function pt(D,b){if(Q(b))throw Error("division by zero");if(Q(D))return new nt(S,S);if(tt(D))return b=pt(B(D),b),new nt(B(b.g),B(b.h));if(tt(b))return b=pt(D,B(b)),new nt(B(b.g),b.h);if(D.g.length>30){if(tt(D)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var w=R,V=b;V.l(D)<=0;)w=_t(w),V=_t(V);var O=wt(w,1),U=wt(V,1);for(V=wt(V,2),w=wt(w,2);!Q(V);){var C=U.add(V);C.l(D)<=0&&(O=O.add(w),U=C),V=wt(V,1),w=wt(w,1)}return b=et(D,O.j(b)),new nt(O,b)}for(O=S;D.l(b)>=0;){for(w=Math.max(1,Math.floor(D.m()/b.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(w),C=U.j(b);tt(C)||C.l(D)>0;)w-=V,U=y(w),C=U.j(b);Q(U)&&(U=R),O=O.add(U),D=et(D,C)}return new nt(O,D)}r.B=function(D){return pt(this,D).h},r.and=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)&D.i(V);return new f(w,this.h&D.h)},r.or=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)|D.i(V);return new f(w,this.h|D.h)},r.xor=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)^D.i(V);return new f(w,this.h^D.h)};function _t(D){const b=D.g.length+1,w=[];for(let V=0;V<b;V++)w[V]=D.i(V)<<1|D.i(V-1)>>>31;return new f(w,D.h)}function wt(D,b){const w=b>>5;b%=32;const V=D.g.length-w,O=[];for(let U=0;U<V;U++)O[U]=b>0?D.i(U+w)>>>b|D.i(U+w+1)<<32-b:D.i(U+w);return new f(O,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,HT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Xr=f}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FT,Tl,GT,qc,mm,QT,KT,YT;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in v))break t;v=v[P]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,P,H){for(var rt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)rt[bt-2]=arguments[bt];return p.prototype[P].apply(A,rt)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function Q(c,p){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const H=P.length||0;c.length=v+H;for(let rt=0;rt<H;rt++)c[v+rt]=P[rt]}else c.push(P)}}class tt{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function B(c){f.setTimeout(()=>{throw c},0)}function et(){var c=D;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class X{constructor(){this.h=this.g=null}add(p,v){const A=nt.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var nt=new tt(()=>new pt,c=>c.reset());class pt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,wt=!1,D=new X,b=()=>{const c=Promise.resolve(void 0);_t=()=>{c.then(w)}};function w(){for(var c;c=et();){try{c.h.call(c.g)}catch(v){B(v)}var p=nt;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}wt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function ie(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(ie,O),ie.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),Y=0;function st(c,p,v,A,P){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=P,this.key=++Y,this.da=this.fa=!1}function dt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function Gt(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function M(c){const p={};for(const v in c)p[v]=c[v];return p}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(c,p){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)c[v]=A[v];for(let H=0;H<Z.length;H++)v=Z[H],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function lt(c){this.src=c,this.g={},this.h=0}lt.prototype.add=function(c,p,v,A,P){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const rt=Ct(c,p,A,P);return rt>-1?(p=c[rt],v||(p.fa=!1)):(p=new st(p,this.src,H,!!A,P),p.fa=v,c.push(p)),p};function Et(c,p){const v=p.type;if(v in c.g){var A=c.g[v],P=Array.prototype.indexOf.call(A,p,void 0),H;(H=P>=0)&&Array.prototype.splice.call(A,P,1),H&&(dt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ct(c,p,v,A){for(let P=0;P<c.length;++P){const H=c[P];if(!H.da&&H.listener==p&&H.capture==!!v&&H.ha==A)return P}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),De={};function re(c,p,v,A,P){if(Array.isArray(p)){for(let H=0;H<p.length;H++)re(c,p[H],v,A,P);return null}return v=go(v),c&&c[Ie]?c.J(p,v,m(A)?!!A.capture:!1,P):ns(c,p,v,!1,A,P)}function ns(c,p,v,A,P,H){if(!p)throw Error("Invalid event type");const rt=m(P)?!!P.capture:!!P;let bt=is(c);if(bt||(c[Pt]=bt=new lt(c)),v=bt.add(p,v,A,rt,H),v.proxy)return v;if(A=$s(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)U||(P=rt),P===void 0&&(P=!1),c.addEventListener(p.toString(),A,P);else if(c.attachEvent)c.attachEvent(ti(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $s(){function c(v){return p.call(c.src,c.listener,v)}const p=mo;return c}function Js(c,p,v,A,P){if(Array.isArray(p))for(var H=0;H<p.length;H++)Js(c,p[H],v,A,P);else A=m(A)?!!A.capture:!!A,v=go(v),c&&c[Ie]?(c=c.i,H=String(p).toString(),H in c.g&&(p=c.g[H],v=Ct(p,v,A,P),v>-1&&(dt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[H],c.h--)))):c&&(c=is(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ct(p,v,A,P)),(v=c>-1?p[c]:null)&&Zs(v))}function Zs(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ie])Et(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(ti(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=is(p))?(Et(v,c),v.h==0&&(v.src=null,p[Pt]=null)):dt(c)}}}function ti(c){return c in De?De[c]:De[c]="on"+c}function mo(c,p){if(c.da)c=!0;else{p=new ie(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&Zs(c),c=v.call(A,p)}return c}function is(c){return c=c[Pt],c instanceof lt?c:null}var po="__closure_events_fn_"+(Math.random()*1e9>>>0);function go(c){return typeof c=="function"?c:(c[po]||(c[po]=function(p){return c.handleEvent(p)}),c[po])}function ye(){V.call(this),this.i=new lt(this),this.M=this,this.G=null}S(ye,V),ye.prototype[Ie]=!0,ye.prototype.removeEventListener=function(c,p,v,A){Js(this,c,p,v,A)};function Ne(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var P=p;p=new O(A,c),at(p,P)}P=!0;let H,rt;if(v)for(rt=v.length-1;rt>=0;rt--)H=p.g=v[rt],P=lr(H,A,!0,p)&&P;if(H=p.g=c,P=lr(H,A,!0,p)&&P,P=lr(H,A,!1,p)&&P,v)for(rt=0;rt<v.length;rt++)H=p.g=v[rt],P=lr(H,A,!1,p)&&P}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)dt(v[A]);delete c.g[p],c.h--}}this.G=null},ye.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},ye.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function lr(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let H=0;H<p.length;++H){const rt=p[H];if(rt&&!rt.da&&rt.capture==v){const bt=rt.listener,de=rt.ha||rt.src;rt.fa&&Et(c.i,rt),P=bt.call(de,A)!==!1&&P}}return P&&!A.defaultPrevented}function Uh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function tu(c){c.g=Uh(()=>{c.g=null,c.i&&(c.i=!1,tu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class We extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(c){V.call(this),this.h=c,this.g={}}S(rs,V);var yo=[];function _o(c){zt(c.g,function(p,v){this.g.hasOwnProperty(v)&&Zs(p)},c),c.g={}}rs.prototype.N=function(){rs.Z.N.call(this),_o(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=f.JSON.stringify,Ph=f.JSON.parse,eu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function nu(){}function iu(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}S(ze,O);function Tn(){O.call(this,"c")}S(Tn,O);var fe={},ru=null;function Ws(){return ru=ru||new ye}fe.Ia="serverreachability";function su(c){O.call(this,fe.Ia,c)}S(su,O);function ei(c){const p=Ws();Ne(p,new su(p))}fe.STAT_EVENT="statevent";function ss(c,p){O.call(this,fe.STAT_EVENT,c),this.stat=p}S(ss,O);function _e(c){const p=Ws();Ne(p,new ss(p,c))}fe.Ja="timingevent";function ni(c,p){O.call(this,fe.Ja,c),this.size=p}S(ni,O);function ii(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function kh(c,p,v,A,P,H){c.info(function(){if(c.g)if(H){var rt="",bt=H.split("&");for(let qt=0;qt<bt.length;qt++){var de=bt[qt].split("=");if(de.length>1){const se=de[0];de=de[1];const Rn=se.split("_");rt=Rn.length>=2&&Rn[1]=="type"?rt+(se+"="+de+"&"):rt+(se+"=redacted&")}}}else rt=null;else rt=H;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+p+`
`+v+`
`+rt})}function au(c,p,v,A,P,H,rt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+p+`
`+v+`
`+H+" "+rt})}function ri(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+zh(c,v)+(A?" "+A:"")})}function as(c,p){c.info(function(){return"TIMEOUT: "+p})}zn.prototype.info=function(){};function zh(c,p){if(!c.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let rt=1;rt<A.length;rt++)A[rt]=""}}}}return ur(H)}catch{return p}}var os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function ls(){}S(ls,nu),ls.prototype.g=function(){return new XMLHttpRequest},Eo=new ls;function Mi(c){return encodeURIComponent(String(c))}function ou(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function jn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var ve={},xe={};function si(c,p,v){c.M=1,c.A=us(Te(p)),c.u=v,c.R=!0,ta(c,null)}function ta(c,p){c.F=Date.now(),ai(c),c.B=Te(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ra(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Bn,c.g=Su(c.j,v?p:null,!c.u),c.P>0&&(c.O=new We(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(yo[0]=P.toString()),P=yo);for(let H=0;H<P.length;H++){const rt=re(v,P[H],A||p.handleEvent,!1,p.h||p);if(!rt)break;p.g[rt.key]=rt}p=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ei(),kh(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Fn(c)==3?p.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)t:{const bt=Fn(this.g),de=this.g.ya(),qt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||bt!=4||de==7||(de==8||qt<=0?ei(3):ei(2)),oi(this);var p=this.g.ca();this.X=p;var v=jh(this);if(this.o=p==200,au(this.i,this.v,this.B,this.l,this.S,bt,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var H=A;break e}}H=null}if(c=H)ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,_e(12),hn(this),Sn(this);break t}}if(this.R){c=!0;let se;for(;!this.K&&this.C<v.length;)if(se=uu(this,v),se==xe){bt==4&&(this.m=4,_e(14),c=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ve){this.m=4,_e(15),ri(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ri(this.i,this.l,se,null),li(this,se);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),c=!1),this.o=this.o&&c,!c)ri(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Lo(rt),rt.P=!0,_e(11))}}else ri(this.i,this.l,v,null),li(this,v);bt==4&&hn(this),this.o&&!this.K&&(bt==4?_u(this.j,this):(this.o=!1,ai(this)))}else xi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),hn(this),Sn(this)}}}catch{}};function jh(c){if(!lu(c))return c.g.la();const p=je(c.g);if(p==="")return"";let v="";const A=p.length,P=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return hn(c),Sn(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<A;H++)c.h.h=!0,v+=c.h.i.decode(p[H],{stream:!(P&&H==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function lu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function uu(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?xe:(v=Number(p.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>p.length?xe:(p=p.slice(A,A+v),c.C=A+v,p)))}jn.prototype.cancel=function(){this.K=!0,hn(this)};function ai(c){c.T=Date.now()+c.H,ea(c,c.H)}function ea(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ii(y(c.aa,c),p)}function oi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(as(this.i,this.B),this.M!=2&&(ei(),_e(17)),hn(this),this.m=2,Sn(this)):ea(this,this.T-c)};function Sn(c){c.j.I==0||c.K||_u(c.j,c)}function hn(c){oi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,_o(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function li(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||ci(v.h,c))){if(!c.L&&ci(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ua(v),yr(v);else break t;gs(v),_e(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(y(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((c.L||v.g==c)&&ua(v),!C(p))for(P=v.Ba.g.parse(p),p=0;p<P.length;p++){let qt=P[p];const se=qt[0];if(!(se<=v.K))if(v.K=se,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Rn=qt[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const yi=qt[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Gn=qt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(A=1.5*Gn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qn=c.g;if(Qn){const ys=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ys){var H=A.h;H.g||ys.indexOf("spdy")==-1&&ys.indexOf("quic")==-1&&ys.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ao(H,H.h),H.h=null))}if(A.G){const ca=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(A.wa=ca,Qt(A.J,A.G,ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var rt=c;if(A.na=Tu(A,A.L?A.ba:null,A.W),rt.L){bo(A.h,rt);var bt=rt,de=A.O;de&&(bt.H=de),bt.D&&(oi(bt),ai(bt)),A.g=rt}else gu(A);v.i.length>0&&pi(v)}else qt[0]!="stop"&&qt[0]!="close"||gi(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?gi(v,7):Vo(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ei(4)}catch{}}var Ee=class{constructor(c,p){this.g=c,this.map=p}};function To(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function ci(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Ao(c,p){c.g?c.g.add(p):c.h=p}function bo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}To.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ro(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return L(c.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let P,H=null;A>=0?(P=c[v].substring(0,A),H=c[v].substring(A+1)):P=c[v],p(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function fn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof fn?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.u),this.h=c.h,wo(this,mu(c.i)),this.m=c.m):c&&(p=String(c).match(cu))?(this.l=!1,Le(this,p[1]||"",!0),this.o=hi(p[2]||""),this.g=hi(p[3]||"",!0),cr(this,p[4]),this.h=hi(p[5]||"",!0),wo(this,p[6]||"",!0),this.m=hi(p[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}fn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(cs(p,ia,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(cs(p,ia,!0),"@"),c.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(cs(v,v.charAt(0)=="/"?Co:hu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",cs(v,fu)),c.join("")},fn.prototype.resolve=function(c){const p=Te(this);let v=!!c.j;v?Le(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)cr(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=p.h.lastIndexOf("/");P!=-1&&(A=p.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let rt=0;rt<P.length;){const bt=P[rt++];bt=="."?A&&rt==P.length&&H.push(""):bt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&rt==P.length&&H.push("")):(H.push(bt),A=!0)}A=H.join("/")}else A=P}return v?p.h=A:v=c.i.toString()!=="",v?wo(p,mu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Te(c){return new fn(c)}function Le(c,p,v){c.j=v?hi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function wo(c,p,v){p instanceof fr?(c.i=p,sa(c.i,c.l)):(v||(p=cs(p,hr)),c.i=new fr(p,c.l))}function Qt(c,p,v){c.i.set(p,v)}function us(c){return Qt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function cs(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,nn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ia=/[#\/\?@]/g,hu=/[#\?:]/g,Co=/[#\?]/g,hr=/[#\?@]/g,fu=/#/g;function fr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&na(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=fr.prototype,r.add=function(c,p){rn(this),this.i=null,c=dr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function du(c,p){rn(c),p=dr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Io(c,p){return rn(c),p=dr(c,p),c.g.has(p)}r.forEach=function(c,p){rn(this),this.g.forEach(function(v,A){v.forEach(function(P){c.call(p,P,A,this)},this)},this)};function Do(c,p){rn(c);let v=[];if(typeof p=="string")Io(c,p)&&(v=v.concat(c.g.get(dr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return rn(this),this.i=null,c=dr(this,c),Io(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=Do(this,c),c.length>0?String(c[0]):p):p};function ra(c,p,v){du(c,p),v.length>0&&(c.i=null,c.g.set(dr(c,p),L(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const P=Mi(v);v=Do(this,v);for(let H=0;H<v.length;H++){let rt=P;v[H]!==""&&(rt+="="+Mi(v[H])),c.push(rt)}}return this.i=c.join("&")};function mu(c){const p=new fr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function dr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function sa(c,p){p&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(du(this,A),ra(this,P,v))},c)),c.j=p}function qn(c,p){const v=new zn;if(f.Image){const A=new Image;A.onload=E(An,v,"TestLoadImage: loaded",!0,p,A),A.onerror=E(An,v,"TestLoadImage: error",!1,p,A),A.onabort=E(An,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(An,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function No(c,p){const v=new zn,A=new AbortController,P=setTimeout(()=>{A.abort(),An(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(P),H.ok?An(v,"TestPingServer: ok",!0,p):An(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),An(v,"TestPingServer: error",!1,p)})}function An(c,p,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function mr(){this.g=new eu}function fi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(fi,nu),fi.prototype.g=function(){return new hs(this.i,this.h)};function hs(c,p){ye.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(hs,ye),r=hs.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Hn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?pr(this):Hn(this),this.readyState==3&&aa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,pr(this))},r.Na=function(c){this.g&&(this.response=c,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bn(c){let p="";return zt(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function fs(c,p,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=bn(v),typeof c=="string"?v!=null&&Mi(v):Qt(c,p,v))}function Xt(c){ye.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,ye);var di=/^https?$/i,Oo=["POST","PUT"];r=Xt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){ds(this,H);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Oo,p,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,rt]of v)this.g.setRequestHeader(H,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){ds(this,H)}};function ds(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Mo(c),Vi(c)}function Mo(c){c.A||(c.A=!0,Ne(c,"complete"),Ne(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ne(this,"complete"),Ne(this,"abort"),Vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ms(this):this.Xa())},r.Xa=function(){ms(this)};function ms(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ne(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const H=c.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var A;if(A=H===0){let rt=String(c.D).match(cu)[1]||null;!rt&&f.self&&f.self.location&&(rt=f.self.location.protocol.slice(0,-1)),A=!di.test(rt?rt.toLowerCase():"")}v=A}if(v)Ne(c,"complete"),Ne(c,"success");else{c.o=6;try{var P=Fn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Mo(c)}}finally{Vi(c)}}}}function Vi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Ne(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Ph(p)}};function je(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(c){const p={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var v=ou(c[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=p[P]||[];p[P]=H,H.push(v)}Gt(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function gr(c){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,c),this.Za=mi("retryDelaySeedMs",1e4,c),this.Ta=mi("forwardChannelMaxRetries",2,c),this.va=mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new To(c&&c.concurrentRequestLimit),this.Ba=new mr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,A){_e(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Tu(this,null,this.W),pi(this)};function Vo(c){if(oa(c),c.I==3){var p=c.V++,v=Te(c.J);if(Qt(v,"SID",c.M),Qt(v,"RID",p),Qt(v,"TYPE","terminate"),ps(c,v),p=new jn(c,c.j,p),p.M=2,p.A=us(Te(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Su(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ai(p)}Eu(c)}function yr(c){c.g&&(Lo(c),c.g.cancel(),c.g=null)}function oa(c){yr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ua(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function pi(c){if(!So(c.h)&&!c.m){c.m=!0;var p=c.Ea;_t||b(),wt||(_t(),wt=!0),D.add(p,c),c.D=0}}function la(c,p){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ii(y(c.Ea,c,p),vu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new jn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=M(H),at(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=pu(this,P,p),v=Te(this.J),Qt(v,"RID",c),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),ps(this,v),H&&(this.R?p="headers="+Mi(bn(H))+"&"+p:this.u&&fs(v,this.u,H)),Ao(this.h,P),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",p),Qt(v,"SID","null"),P.U=!0,si(P,v,null)):si(P,v,p),this.I=2}}else this.I==3&&(c?xo(this,c):this.i.length==0||So(this.h)||xo(this))};function xo(c,p){var v;p?v=p.l:v=c.V++;const A=Te(c.J);Qt(A,"SID",c.M),Qt(A,"RID",v),Qt(A,"AID",c.K),ps(c,A),c.u&&c.o&&fs(A,c.u,c.o),v=new jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=pu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ao(c.h,v),si(v,A,p)}function ps(c,p){c.H&&zt(c.H,function(v,A){Qt(p,A,v)}),c.l&&zt({},function(v,A){Qt(p,A,v)})}function pu(c,p,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var P=c.i;let bt=-1;for(;;){const de=["count="+v];bt==-1?v>0?(bt=P[0].g,de.push("ofs="+bt)):bt=0:de.push("ofs="+bt);let qt=!0;for(let se=0;se<v;se++){var H=P[se].g;const Rn=P[se].map;if(H-=bt,H<0)bt=Math.max(0,P[se].g-100),qt=!1;else try{H="req"+H+"_"||"";try{var rt=Rn instanceof Map?Rn:Object.entries(Rn);for(const[yi,Gn]of rt){let Qn=Gn;m(Gn)&&(Qn=ur(Gn)),de.push(H+yi+"="+encodeURIComponent(Qn))}}catch(yi){throw de.push(H+"type="+encodeURIComponent("_badmap")),yi}}catch{A&&A(Rn)}}if(qt){rt=de.join("&");break t}}rt=void 0}return c=c.i.splice(0,v),p.G=c,rt}function gu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;_t||b(),wt||(_t(),wt=!0),D.add(p,c),c.A=0}}function gs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ii(y(c.Da,c),vu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ii(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),yr(this),yu(this))};function Lo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function yu(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Te(c.na);Qt(p,"RID","rpc"),Qt(p,"SID",c.M),Qt(p,"AID",c.K),Qt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qt(p,"TO",c.ia),Qt(p,"TYPE","xmlhttp"),ps(c,p),c.u&&c.o&&fs(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=us(Te(p)),v.u=null,v.R=!0,ta(v,c)}r.Va=function(){this.C!=null&&(this.C=null,yr(this),gs(this),_e(19))};function ua(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function _u(c,p){var v=null;if(c.g==p){ua(c),Lo(c),c.g=null;var A=2}else if(ci(c.h,p))v=p.G,bo(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var P=c.D;A=Ws(),Ne(A,new ni(A,v)),pi(c)}else gu(c);else if(P=p.m,P==3||P==0&&p.X>0||!(A==1&&la(c,p)||A==2&&gs(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),P){case 1:gi(c,5);break;case 4:gi(c,10);break;case 3:gi(c,6);break;default:gi(c,2)}}}function vu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function gi(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),A=c.Ua;const P=!A;A=new fn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Le(A,"https"),us(A),P?qn(A.toString(),v):No(A.toString(),v)}else _e(2);c.I=0,c.l&&c.l.pa(p),Eu(c),oa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Eu(c){if(c.I=0,c.ja=[],c.l){const p=Ro(c.h);(p.length!=0||c.i.length!=0)&&(Q(c.ja,p),Q(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Tu(c,p,v){var A=v instanceof fn?Te(v):new fn(v);if(A.g!="")p&&(A.g=p+"."+A.g),cr(A,A.u);else{var P=f.location;A=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const H=new fn(null);A&&Le(H,A),p&&(H.g=p),P&&cr(H,P),v&&(H.h=v),A=H}return v=c.G,p=c.wa,v&&p&&Qt(A,v,p),Qt(A,"VER",c.ka),ps(c,A),A}function Su(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Xt(new fi({ab:v})):new Xt(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _r(){}_r.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){ye.call(this),this.g=new gr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Li(this)}S(tn,ye),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Vo(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ur(c),c=v);p.i.push(new Ee(p.Ya++,c)),p.I==3&&pi(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,tn.Z.N.call(this)};function bu(c){ze.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(bu,ze);function Ru(){Tn.call(this),this.status=1}S(Ru,Tn);function Li(c){this.g=c}S(Li,Au),Li.prototype.ra=function(){Ne(this.g,"a")},Li.prototype.qa=function(c){Ne(this.g,new bu(c))},Li.prototype.pa=function(c){Ne(this.g,new Ru)},Li.prototype.oa=function(){Ne(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,YT=function(){return new _r},KT=function(){return Ws()},QT=fe,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},os.NO_ERROR=0,os.TIMEOUT=8,os.HTTP_ERROR=6,qc=os,vo.COMPLETE="complete",GT=vo,iu.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Tl=iu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,FT=Xt}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const Lv="@firebase/firestore",Uv="4.9.3";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let uo="12.7.0";const qs=new Um("@firebase/firestore");function ja(){return qs.logLevel}function ot(r,...t){if(qs.logLevel<=Vt.DEBUG){const n=t.map(Xm);qs.debug(`Firestore (${uo}): ${r}`,...n)}}function sr(r,...t){if(qs.logLevel<=Vt.ERROR){const n=t.map(Xm);qs.error(`Firestore (${uo}): ${r}`,...n)}}function Wa(r,...t){if(qs.logLevel<=Vt.WARN){const n=t.map(Xm);qs.warn(`Firestore (${uo}): ${r}`,...n)}}function Xm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function yt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,XT(r,s,n)}function XT(r,t,n){let s=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw sr(s),new Error(s)}function Ft(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||XT(t,o,s)}function At(r,t){return r}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends or{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ps{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class $T{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n($e.UNAUTHENTICATED)))}shutdown(){}}class RI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wI{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ps,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ps)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new $T(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class CI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class II{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new CI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function NI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class $m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=NI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function pm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return Jd(o)===Jd(u)?xt(o,u):Jd(o)?1:-1}return xt(r.length,t.length)}const OI=55296,MI=57343;function Jd(r){const t=r.charCodeAt(0);return t>=OI&&t<=MI}function to(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const kv="__name__";class Si{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&yt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Si.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return xt(t.length,n.length)}static compareSegments(t,n){const s=Si.isNumericId(t),o=Si.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Si.extractNumericId(t).compare(Si.extractNumericId(n)):pm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xr.fromString(t.substring(4,t.length-2))}}class oe extends Si{construct(t,n,s){return new oe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new oe(n)}static emptyPath(){return new oe([])}}const VI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Si{construct(t,n,s){return new Qe(t,n,s)}static isValidIdentifier(t){return VI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kv}static keyField(){return new Qe([kv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ht(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ht(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ht(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ht(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(oe.fromString(t))}static fromName(t){return new mt(oe.fromString(t).popFirst(5))}static empty(){return new mt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new oe(t.slice()))}}function xI(r,t,n){if(!n)throw new ht(it.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function LI(r,t,n,s){if(t===!0&&s===!0)throw new ht(it.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function zv(r){if(!mt.isDocumentKey(r))throw new ht(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function JT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Jm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Ka(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jm(r);throw new ht(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Ce(r,t){const n={typeString:r};return t&&(n.value=t),n}function Xl(r,t){if(!JT(r))throw new ht(it.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ht(it.INVALID_ARGUMENT,n);return!0}const jv=-62135596800,Bv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Bv);return new ne(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<jv)throw new ht(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-jv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ce("string",ne._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ne(0,0))}static max(){return new Tt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xl=-1;function UI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new ne(n+1,0):new ne(n,s));return new $r(o,mt.empty(),t)}function PI(r){return new $r(r.readTime,r.key,xl)}class $r{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new $r(Tt.min(),mt.empty(),xl)}static max(){return new $r(Tt.max(),mt.empty(),xl)}}function kI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(r.documentKey,t.documentKey),n!==0?n:xt(r.largestBatchId,t.largestBatchId))}const zI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function co(r){if(r.code!==it.FAILED_PRECONDITION||r.message!==zI)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):W.reject(n)}static resolve(t){return new W(((n,s)=>{n(t)}))}static reject(t){return new W(((n,s)=>{s(t)}))}static waitFor(t){return new W(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=W.resolve(!1);for(const s of t)n=n.next((o=>o?W.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new W(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new W(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function BI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ho(r){return r.name==="IndexedDbTransactionError"}class Sh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Sh.ce=-1;const Zm=-1;function Ah(r){return r==null}function ih(r){return r===0&&1/r==-1/0}function qI(r){return typeof r=="number"&&Number.isInteger(r)&&!ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const ZT="";function HI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=qv(t)),t=FI(r.get(n),t);return qv(t)}function FI(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case ZT:n+="";break;default:n+=u}}return n}function qv(r){return r+ZT+""}function Hv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Qs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function WT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mc(this.root,t,this.comparator,!0)}}class Mc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ge(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fv(this.data.getIterator())}getIteratorFrom(t){return new Fv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class Fv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Zn([])}unionWith(t){let n=new Ve(Qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Zn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return to(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class t0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new t0("Invalid base64 string: "+u):u}})(t);return new Ke(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Ke(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const GI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=GI.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zr(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const e0="server_timestamp",n0="__type__",i0="__previous_value__",r0="__local_write_time__";function Wm(r){return(r?.mapValue?.fields||{})[n0]?.stringValue===e0}function bh(r){const t=r.mapValue.fields[i0];return Wm(t)?bh(t):t}function Ll(r){const t=Jr(r.mapValue.fields[r0].timestampValue);return new ne(t.seconds,t.nanos)}class QI{constructor(t,n,s,o,u,f,m,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const rh="(default)";class Ul{constructor(t,n){this.projectId=t,this.database=n||rh}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===rh}isEqual(t){return t instanceof Ul&&t.projectId===this.projectId&&t.database===this.database}}const s0="__type__",KI="__max__",Vc={mapValue:{}},a0="__vector__",sh="value";function Wr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Wm(r)?4:XI(r)?9007199254740991:YI(r)?10:11:yt(28295,{value:r})}function Di(r,t){if(r===t)return!0;const n=Wr(r);if(n!==Wr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ll(r).isEqual(Ll(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Jr(o.timestampValue),m=Jr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Zr(o.bytesValue).isEqual(Zr(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ge(o.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ge(o.integerValue)===ge(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ge(o.doubleValue),m=ge(u.doubleValue);return f===m?ih(f)===ih(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return to(r.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Hv(f)!==Hv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Di(f[g],m[g])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Pl(r,t){return(r.values||[]).find((n=>Di(n,t)))!==void 0}function eo(r,t){if(r===t)return 0;const n=Wr(r),s=Wr(t);if(n!==s)return xt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ge(u.integerValue||u.doubleValue),g=ge(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return Gv(r.timestampValue,t.timestampValue);case 4:return Gv(Ll(r),Ll(t));case 5:return pm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=Zr(u),g=Zr(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=xt(m[y],g[y]);if(E!==0)return E}return xt(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=xt(ge(u.latitude),ge(f.latitude));return m!==0?m:xt(ge(u.longitude),ge(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Qv(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[sh]?.arrayValue,E=g[sh]?.arrayValue,S=xt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:Qv(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Vc.mapValue&&f===Vc.mapValue)return 0;if(u===Vc.mapValue)return 1;if(f===Vc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const R=pm(g[S],E[S]);if(R!==0)return R;const L=eo(m[g[S]],y[E[S]]);if(L!==0)return L}return xt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function Gv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const n=Jr(r),s=Jr(t),o=xt(n.seconds,s.seconds);return o!==0?o:xt(n.nanos,s.nanos)}function Qv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=eo(n[o],s[o]);if(u)return u}return xt(n.length,s.length)}function no(r){return gm(r)}function gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Jr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Zr(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return mt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=gm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${gm(n.fields[f])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function Hc(r){switch(Wr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bh(r);return t?16+Hc(t):16;case 5:return 2*r.stringValue.length;case 6:return Zr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Hc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Qs(s.fields,((u,f)=>{o+=u.length+Hc(f)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function ym(r){return!!r&&"integerValue"in r}function tp(r){return!!r&&"arrayValue"in r}function Kv(r){return!!r&&"nullValue"in r}function Yv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fc(r){return!!r&&"mapValue"in r}function YI(r){return(r?.mapValue?.fields||{})[s0]?.stringValue===a0}function Cl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Qs(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Cl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Cl(r.arrayValue.values[n]);return t}return{...r}}function XI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KI}class xn{constructor(t){this.value=t}static empty(){return new xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Fc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(n)}setAll(t){let n=Qe.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Cl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Qs(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new xn(Cl(this.value))}}function o0(r){const t=[];return Qs(r.fields,((n,s)=>{const o=new Qe([n]);if(Fc(s)){const u=o0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Zn(t)}class Je{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Je(t,0,Tt.min(),Tt.min(),Tt.min(),xn.empty(),0)}static newFoundDocument(t,n,s,o){return new Je(t,1,n,Tt.min(),s,o,0)}static newNoDocument(t,n){return new Je(t,2,n,Tt.min(),Tt.min(),xn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,Tt.min(),Tt.min(),xn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(t,n){this.position=t,this.inclusive=n}}function Xv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=mt.comparator(mt.fromName(f.referenceValue),n.key):s=eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function $v(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Di(r.position[n],t.position[n]))return!1;return!0}class oh{constructor(t,n="asc"){this.field=t,this.dir=n}}function $I(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class l0{}class Me extends l0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new ZI(t,n,s):n==="array-contains"?new e2(t,s):n==="in"?new n2(t,s):n==="not-in"?new i2(t,s):n==="array-contains-any"?new r2(t,s):new Me(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new WI(t,s):new t2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eo(n,this.value)):n!==null&&Wr(this.value)===Wr(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends l0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ni(t,n)}matches(t){return u0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function u0(r){return r.op==="and"}function c0(r){return JI(r)&&u0(r)}function JI(r){for(const t of r.filters)if(t instanceof Ni)return!1;return!0}function _m(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+no(r.value);if(c0(r))return r.filters.map((t=>_m(t))).join(",");{const t=r.filters.map((n=>_m(n))).join(",");return`${r.op}(${t})`}}function h0(r,t){return r instanceof Me?(function(s,o){return o instanceof Me&&s.op===o.op&&s.field.isEqual(o.field)&&Di(s.value,o.value)})(r,t):r instanceof Ni?(function(s,o){return o instanceof Ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&h0(f,o.filters[m])),!0):!1})(r,t):void yt(19439)}function f0(r){return r instanceof Me?(function(n){return`${n.field.canonicalString()} ${n.op} ${no(n.value)}`})(r):r instanceof Ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(f0).join(" ,")+"}"})(r):"Filter"}class ZI extends Me{constructor(t,n,s){super(t,n,s),this.key=mt.fromName(s.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class WI extends Me{constructor(t,n){super(t,"in",n),this.keys=d0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class t2 extends Me{constructor(t,n){super(t,"not-in",n),this.keys=d0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function d0(r,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class e2 extends Me{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return tp(n)&&Pl(n.arrayValue,this.value)}}class n2 extends Me{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Pl(this.value.arrayValue,n)}}class i2 extends Me{constructor(t,n){super(t,"not-in",n)}matches(t){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pl(this.value.arrayValue,n)}}class r2 extends Me{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Pl(this.value.arrayValue,s)))}}class s2{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Jv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new s2(r,t,n,s,o,u,f)}function ep(r){const t=At(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>_m(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ah(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>no(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>no(s))).join(",")),t.Te=n}return t.Te}function np(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!$I(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!h0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!$v(r.startAt,t.startAt)&&$v(r.endAt,t.endAt)}function vm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Rh{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function a2(r,t,n,s,o,u,f,m){return new Rh(r,t,n,s,o,u,f,m)}function ip(r){return new Rh(r)}function Zv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function o2(r){return r.collectionGroup!==null}function Il(r){const t=At(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ve(Qe.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new oh(u,s))})),n.has(Qe.keyField().canonicalString())||t.Ie.push(new oh(Qe.keyField(),s))}return t.Ie}function bi(r){const t=At(r);return t.Ee||(t.Ee=l2(t,Il(r))),t.Ee}function l2(r,t){if(r.limitType==="F")return Jv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new oh(o.field,u)}));const n=r.endAt?new ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ah(r.startAt.position,r.startAt.inclusive):null;return Jv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Em(r,t,n){return new Rh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function wh(r,t){return np(bi(r),bi(t))&&r.limitType===t.limitType}function m0(r){return`${ep(bi(r))}|lt:${r.limitType}`}function Ba(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>f0(o))).join(", ")}]`),Ah(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>no(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>no(o))).join(",")),`Target(${s})`})(bi(r))}; limitType=${r.limitType})`}function Ch(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Il(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=Xv(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Il(s),o)||s.endAt&&!(function(f,m,g){const y=Xv(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Il(s),o))})(r,t)}function u2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function p0(r){return(t,n)=>{let s=!1;for(const o of Il(r)){const u=c2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function c2(r,t,n){const s=r.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?eo(g,y):yt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}class Ks{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Qs(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return WT(this.inner)}size(){return this.innerSize}}const h2=new ue(mt.comparator);function ar(){return h2}const g0=new ue(mt.comparator);function Sl(...r){let t=g0;for(const n of r)t=t.insert(n.key,n);return t}function y0(r){let t=g0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ls(){return Dl()}function _0(){return Dl()}function Dl(){return new Ks((r=>r.toString()),((r,t)=>r.isEqual(t)))}const f2=new ue(mt.comparator),d2=new Ve(mt.comparator);function Lt(...r){let t=d2;for(const n of r)t=t.add(n);return t}const m2=new Ve(xt);function p2(){return m2}function rp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(t)?"-0":t}}function v0(r){return{integerValue:""+r}}function g2(r,t){return qI(t)?v0(t):rp(r,t)}class Ih{constructor(){this._=void 0}}function y2(r,t,n){return r instanceof lh?(function(o,u){const f={fields:{[n0]:{stringValue:e0},[r0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Wm(u)&&(u=bh(u)),u&&(f.fields[i0]=u),{mapValue:f}})(n,t):r instanceof kl?T0(r,t):r instanceof zl?S0(r,t):(function(o,u){const f=E0(o,u),m=Wv(f)+Wv(o.Ae);return ym(f)&&ym(o.Ae)?v0(m):rp(o.serializer,m)})(r,t)}function _2(r,t,n){return r instanceof kl?T0(r,t):r instanceof zl?S0(r,t):n}function E0(r,t){return r instanceof uh?(function(s){return ym(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class lh extends Ih{}class kl extends Ih{constructor(t){super(),this.elements=t}}function T0(r,t){const n=A0(t);for(const s of r.elements)n.some((o=>Di(o,s)))||n.push(s);return{arrayValue:{values:n}}}class zl extends Ih{constructor(t){super(),this.elements=t}}function S0(r,t){let n=A0(t);for(const s of r.elements)n=n.filter((o=>!Di(o,s)));return{arrayValue:{values:n}}}class uh extends Ih{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Wv(r){return ge(r.integerValue||r.doubleValue)}function A0(r){return tp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function v2(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof kl&&o instanceof kl||s instanceof zl&&o instanceof zl?to(s.elements,o.elements,Di):s instanceof uh&&o instanceof uh?Di(s.Ae,o.Ae):s instanceof lh&&o instanceof lh})(r.transform,t.transform)}class E2{constructor(t,n){this.version=t,this.transformResults=n}}class er{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new er}static exists(t){return new er(void 0,t)}static updateTime(t){return new er(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Dh{}function b0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new w0(r.key,er.none()):new $l(r.key,r.data,er.none());{const n=r.data,s=xn.empty();let o=new Ve(Qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ys(r.key,s,new Zn(o.toArray()),er.none())}}function T2(r,t,n){r instanceof $l?(function(o,u,f){const m=o.value.clone(),g=eE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof Ys?(function(o,u,f){if(!Gc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=eE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(R0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Nl(r,t,n,s){return r instanceof $l?(function(u,f,m,g){if(!Gc(u.precondition,f))return m;const y=u.value.clone(),E=nE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof Ys?(function(u,f,m,g){if(!Gc(u.precondition,f))return m;const y=nE(u.fieldTransforms,g,f),E=f.data;return E.setAll(R0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,f,m){return Gc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function S2(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=E0(s.transform,o||null);u!=null&&(n===null&&(n=xn.empty()),n.set(s.field,u))}return n||null}function tE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,((u,f)=>v2(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class $l extends Dh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ys extends Dh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function R0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function eE(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,_2(f,m,n[o]))}return s}function nE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,y2(u,f,t))}return s}class w0 extends Dh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A2 extends Dh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class b2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&T2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Nl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Nl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=_0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=b0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&to(this.mutations,t.mutations,((n,s)=>tE(n,s)))&&to(this.baseMutations,t.baseMutations,((n,s)=>tE(n,s)))}}class sp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return f2})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new sp(t,n,s,o)}}class R2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class w2{constructor(t,n){this.count=t,this.unchangedNames=n}}var we,kt;function C2(r){switch(r){case it.OK:return yt(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function C0(r){if(r===void 0)return sr("GRPC error has no .code"),it.UNKNOWN;switch(r){case we.OK:return it.OK;case we.CANCELLED:return it.CANCELLED;case we.UNKNOWN:return it.UNKNOWN;case we.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case we.INTERNAL:return it.INTERNAL;case we.UNAVAILABLE:return it.UNAVAILABLE;case we.UNAUTHENTICATED:return it.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case we.NOT_FOUND:return it.NOT_FOUND;case we.ALREADY_EXISTS:return it.ALREADY_EXISTS;case we.PERMISSION_DENIED:return it.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case we.ABORTED:return it.ABORTED;case we.OUT_OF_RANGE:return it.OUT_OF_RANGE;case we.UNIMPLEMENTED:return it.UNIMPLEMENTED;case we.DATA_LOSS:return it.DATA_LOSS;default:return yt(39323,{code:r})}}(kt=we||(we={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function I2(){return new TextEncoder}const D2=new Xr([4294967295,4294967295],0);function iE(r){const t=I2().encode(r),n=new HT;return n.update(t),new Uint8Array(n.digest())}function rE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Xr([n,s],0),new Xr([o,u],0)]}class ap{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Al(`Invalid padding: ${n}`);if(s<0)throw new Al(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Al(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Xr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Xr.fromNumber(s)));return o.compare(D2)===1&&(o=new Xr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=iE(t),[s,o]=rE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new ap(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=iE(t),[s,o]=rE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Nh(Tt.min(),o,new ue(xt),ar(),Lt())}}class Jl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Jl(s,n,Lt(),Lt(),Lt())}}class Qc{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class I0{constructor(t,n){this.targetId=t,this.Ce=n}}class D0{constructor(t,n,s=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class sE{constructor(){this.ve=0,this.Fe=aE(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:u})}})),new Jl(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=aE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class N2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ar(),this.Je=xc(),this.He=xc(),this.Ye=new ue(xt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(vm(u))if(s===0){const f=new mt(u.path);this.et(n,f,Je.newNoDocument(f,Tt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Zr(s).toUint8Array()}catch(g){if(g instanceof t0)return Wa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new ap(f,o,u)}catch(g){return Wa(g instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&vm(m.target)){const g=new mt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Je.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Lt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Nh(t,n,this.Ye,this.je,s);return this.je=ar(),this.Je=xc(),this.He=xc(),this.Ye=new ue(xt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new sE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ve(xt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ve(xt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new sE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function xc(){return new ue(mt.comparator)}function aE(){return new ue(mt.comparator)}const O2={asc:"ASCENDING",desc:"DESCENDING"},M2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V2={and:"AND",or:"OR"};class x2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Tm(r,t){return r.useProto3Json||Ah(t)?t:{value:t}}function ch(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function N0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function L2(r,t){return ch(r,t.toTimestamp())}function Ri(r){return Ft(!!r,49232),Tt.fromTimestamp((function(n){const s=Jr(n);return new ne(s.seconds,s.nanos)})(r))}function op(r,t){return Sm(r,t).canonicalString()}function Sm(r,t){const n=(function(o){return new oe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function O0(r){const t=oe.fromString(r);return Ft(U0(t),10190,{key:t.toString()}),t}function Am(r,t){return op(r.databaseId,t.path)}function Zd(r,t){const n=O0(t);if(n.get(1)!==r.databaseId.projectId)throw new ht(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ht(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new mt(V0(n))}function M0(r,t){return op(r.databaseId,t)}function U2(r){const t=O0(r);return t.length===4?oe.emptyPath():V0(t)}function bm(r){return new oe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function V0(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function oE(r,t,n){return{name:Am(r,t),fields:n.value.mapValue.fields}}function P2(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Ke.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ke.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?it.UNKNOWN:C0(y.code);return new ht(E,y.message||"")})(f);n=new D0(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zd(r,s.document.name),u=Ri(s.document.updateTime),f=s.document.createTime?Ri(s.document.createTime):Tt.min(),m=new xn({mapValue:{fields:s.document.fields}}),g=Je.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Qc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Zd(r,s.document),u=s.readTime?Ri(s.readTime):Tt.min(),f=Je.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Qc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Zd(r,s.document),u=s.removedTargetIds||[];n=new Qc([],u,o,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new w2(o,u),m=s.targetId;n=new I0(m,f)}}return n}function k2(r,t){let n;if(t instanceof $l)n={update:oE(r,t.key,t.value)};else if(t instanceof w0)n={delete:Am(r,t.key)};else if(t instanceof Ys)n={update:oE(r,t.key,t.data),updateMask:K2(t.fieldMask)};else{if(!(t instanceof A2))return yt(16599,{Vt:t.type});n={verify:Am(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof lh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof zl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw yt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:L2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)})(r,t.precondition)),n}function z2(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ri(o.updateTime):Ri(u);return f.isEqual(Tt.min())&&(f=Ri(u)),new E2(f,o.transformResults||[])})(n,t)))):[]}function j2(r,t){return{documents:[M0(r,t.path)]}}function B2(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=M0(r,o);const u=(function(y){if(y.length!==0)return L0(Ni.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:qa(R.field),direction:F2(R.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Tm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function q2(r){let t=U2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const R=x0(S);return R instanceof Ni&&c0(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((R=>(function(Q){return new oh(Ha(Q.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let R;return R=typeof S=="object"?S.value:S,Ah(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(S){const R=!!S.before,L=S.values||[];return new ah(L,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const R=!S.before,L=S.values||[];return new ah(L,R)})(n.endAt)),a2(t,o,f,u,m,"F",g,y)}function H2(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function x0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ha(n.unaryFilter.field);return Me.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(n.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ha(n.unaryFilter.field);return Me.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ha(n.unaryFilter.field);return Me.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Me.create(Ha(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ni.create(n.compositeFilter.filters.map((s=>x0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(r):yt(30097,{filter:r})}function F2(r){return O2[r]}function G2(r){return M2[r]}function Q2(r){return V2[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Qe.fromServerFormat(r.fieldPath)}function L0(r){return r instanceof Me?(function(n){if(n.op==="=="){if(Yv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NAN"}};if(Kv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NAN"}};if(Kv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(n.field),op:G2(n.op),value:n.value}}})(r):r instanceof Ni?(function(n){const s=n.getFilters().map((o=>L0(o)));return s.length===1?s[0]:{compositeFilter:{op:Q2(n.op),filters:s}}})(r):yt(54877,{filter:r})}function K2(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function U0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Gr{constructor(t,n,s,o,u=Tt.min(),f=Tt.min(),m=Ke.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Gr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Y2{constructor(t){this.yt=t}}function X2(r){const t=q2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Em(t,t.limit,"L"):t}class $2{constructor(){this.Cn=new J2}addToCollectionParentIndex(t,n){return this.Cn.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve($r.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve($r.min())}updateCollectionGroup(t,n,s){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class J2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ve(oe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ve(oe.comparator)).toArray()}}const lE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P0=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(P0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class io{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new io(0)}static cr(){return new io(-1)}}const uE="LruGarbageCollector",Z2=1048576;function cE([r,t],[n,s]){const o=xt(r,n);return o===0?xt(t,s):o}class W2{constructor(t){this.Ir=t,this.buffer=new Ve(cE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();cE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tD{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(uE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ho(n)?ot(uE,"Ignoring IndexedDB error during garbage collection: ",n):await co(n)}await this.Vr(3e5)}))}}class eD{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return W.resolve(Sh.ce);const s=new W2(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(lE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),ja()<=Vt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function nD(r,t){return new eD(r,t)}class iD{constructor(){this.changes=new Ks((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class rD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class sD{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Nl(s.mutation,o,Zn.empty(),ne.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Lt()){const o=Ls();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Sl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Ls();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Lt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=ar();const f=Dl(),m=(function(){return Dl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ys)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Nl(E.mutation,y,E.mutation.getFieldMask(),ne.now())):f.set(y.key,Zn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new rD(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Dl();let o=new ue(((f,m)=>f-m)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Zn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||Lt()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=_0();E.forEach((R=>{if(!u.has(R)){const L=b0(n.get(R),s.get(R));L!==null&&S.set(R,L),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return W.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):o2(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):W.resolve(Ls());let m=xl,g=u;return f.next((y=>W.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Lt()))).next((E=>({batchId:m,changes:y0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((s=>{let o=Sl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Sl();return this.indexManager.getCollectionParents(t,u).next((m=>W.forEach(m,(g=>{const y=(function(S,R){return new Rh(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((S,R)=>{f=f.insert(S,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Je.newInvalidDocument(E)))}));let m=Sl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Nl(E.mutation,y,Zn.empty(),ne.now()),Ch(n,y)&&(m=m.insert(g,y))})),m}))}}class aD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}})(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:X2(o.bundledQuery),readTime:Ri(o.readTime)}})(n)),W.resolve()}}class oD{constructor(){this.overlays=new ue(mt.comparator),this.qr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ls();return W.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),W.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(t,n,s){const o=Ls(),u=n.length+1,f=new mt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ue(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ls(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ls(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return W.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new R2(n,s));let u=this.qr.get(n);u===void 0&&(u=Lt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class lD{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}class lp{constructor(){this.Qr=new Ve(Pe.$r),this.Ur=new Ve(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Pe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new mt(new oe([])),s=new Pe(n,t),o=new Pe(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new mt(new oe([])),s=new Pe(n,t),o=new Pe(n,t+1);let u=Lt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Pe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return mt.comparator(t.key,n.key)||xt(t.Yr,n.Yr)}static Kr(t,n){return xt(t.Yr,n.Yr)||mt.comparator(t.key,n.key)}}class uD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Pe.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new b2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Pe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(t,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Zm:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),o=new Pe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ve(xt);return n.forEach((o=>{const u=new Pe(o,0),f=new Pe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;mt.isDocumentKey(u)||(u=u.child(""));const f=new Pe(new mt(u),0);let m=new Ve(xt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),W.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(n.mutations,(o=>{const u=new Pe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Pe(n,0),o=this.Zr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class cD{constructor(t){this.ri=t,this.docs=(function(){return new ue(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let s=ar();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ar();const f=n.path,m=new mt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||kI(PI(E),s)<=0||(o.has(E.key)||Ch(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,n,s,o){yt(9500)}ii(t,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new hD(this)}getSize(t){return W.resolve(this.size)}}class hD extends iD{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),W.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class fD{constructor(t){this.persistence=t,this.si=new Ks((n=>ep(n)),np),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new lp,this.targetCount=0,this.ai=io.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),W.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new io(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Pr(n),W.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return W.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),W.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return W.resolve(s)}containsKey(t,n){return W.resolve(this._i.containsKey(n))}}class k0{constructor(t,n){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new lD,this.referenceDelegate=t(this),this.Pi=new fD(this),this.indexManager=new $2,this.remoteDocumentCache=(function(o){return new cD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Y2(n),this.Ii=new aD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new oD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new uD(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const o=new dD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return W.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class dD extends jI{constructor(t){super(),this.currentSequenceNumber=t}}class up{constructor(t){this.persistence=t,this.Ri=new lp,this.Vi=null}static mi(t){return new up(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),W.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(s=>{const o=mt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class hh{constructor(t,n){this.persistence=t,this.pi=new Ks((s=>HI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=nD(this,n)}static mi(t,n){return new hh(t,n)}Ei(){}di(t){return W.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return W.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?W.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,Tt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Hc(t.data.value)),n}br(t,n,s){return W.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class cp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Lt(),o=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new cp(t,n.fromCache,s,o)}}class mD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class pD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iR()?8:BI(Ze())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new mD;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(ja()<=Vt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(ja()<=Vt.DEBUG&&ot("QueryEngine","Query:",Ba(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ja()<=Vt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(n))):W.resolve())}ys(t,n){if(Zv(n))return W.resolve(null);let s=bi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Em(n,null,"F"),s=bi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Lt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(t,Em(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,s,o){return Zv(n)||o.isEqual(Tt.min())?W.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?W.resolve(null):(ja()<=Vt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ba(n)),this.vs(t,f,n,UI(o,xl)).next((m=>m)))}))}Ds(t,n){let s=new Ve(p0(t));return n.forEach(((o,u)=>{Ch(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return ja()<=Vt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ba(n)),this.ps.getDocumentsMatchingQuery(t,n,$r.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const hp="LocalStore",gD=3e8;class yD{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ue(xt),this.xs=new Ks((u=>ep(u)),np),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function _D(r,t,n,s){return new yD(r,t,n,s)}async function z0(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Lt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function vD(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,R=S.keys();let L=W.resolve();return R.forEach((Q=>{L=L.next((()=>E.getEntry(g,Q))).next((tt=>{const B=y.docVersions.get(Q);Ft(B!==null,48541),tt.version.compareTo(B)<0&&(S.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),E.addEntry(tt)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Lt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function j0(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function ED(r,t){const n=At(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,S)=>{const R=o.get(S);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let L=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?L=L.withResumeToken(Ke.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(S,L),(function(tt,B,et){return tt.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=gD?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(R,L,E)&&m.push(n.Pi.updateTargetData(u,L))}));let g=ar(),y=Lt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(TD(u,f,t.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(Tt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return W.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function TD(r,t,n){let s=Lt(),o=Lt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=ar();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Tt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ot(hp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function SD(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Zm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function AD(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,W.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Gr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Rm(r,t,n){const s=At(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!ho(f))throw f;ot(hp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function hE(r,t,n){const s=At(r);let o=Tt.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=At(g),R=S.xs.get(E);return R!==void 0?W.resolve(S.Ms.get(R)):S.Pi.getTargetData(y,E)})(s,f,bi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Tt.min(),n?u:Lt()))).next((m=>(bD(s,u2(t),m),{documents:m,Qs:u})))))}function bD(r,t,n){let s=r.Os.get(t)||Tt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class fE{constructor(){this.activeTargetIds=p2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class RD{constructor(){this.Mo=new fE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new fE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class wD{Oo(t){}shutdown(){}}const dE="ConnectivityMonitor";class mE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(dE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(dE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lc=null;function wm(){return Lc===null?Lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lc++,"0x"+Lc.toString(16)}const Wd="RestConnection",CD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ID{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=wm(),m=this.zo(t,n.toUriEncodedString());ot(Wd,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=ao(y);return this.Jo(t,m,g,s,E).then((S=>(ot(Wd,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw Wa(Wd,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=CD[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class DD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class ND extends ID{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=wm();return new Promise(((m,g)=>{const y=new FT;y.setWithCredentials(!0),y.listenOnce(GT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case qc.NO_ERROR:const S=y.getResponseJson();ot(Xe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case qc.TIMEOUT:ot(Xe,`RPC '${t}' ${f} timed out`),g(new ht(it.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const R=y.getStatus();if(ot(Xe,`RPC '${t}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const Q=L?.error;if(Q&&Q.status&&Q.message){const tt=(function(et){const X=et.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(X)>=0?X:it.UNKNOWN})(Q.status);g(new ht(tt,Q.message))}else g(new ht(it.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ht(it.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(Xe,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ot(Xe,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=wm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=YT(),m=KT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ot(Xe,`Creating RPC '${t}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.I_(S);let R=!1,L=!1;const Q=new DD({Yo:B=>{L?ot(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,B):(R||(ot(Xe,`Opening RPC '${t}' stream ${o} transport.`),S.open(),R=!0),ot(Xe,`RPC '${t}' stream ${o} sending:`,B),S.send(B))},Zo:()=>S.close()}),tt=(B,et,X)=>{B.listen(et,(nt=>{try{X(nt)}catch(pt){setTimeout((()=>{throw pt}),0)}}))};return tt(S,Tl.EventType.OPEN,(()=>{L||(ot(Xe,`RPC '${t}' stream ${o} transport opened.`),Q.o_())})),tt(S,Tl.EventType.CLOSE,(()=>{L||(L=!0,ot(Xe,`RPC '${t}' stream ${o} transport closed`),Q.a_(),this.E_(S))})),tt(S,Tl.EventType.ERROR,(B=>{L||(L=!0,Wa(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),Q.a_(new ht(it.UNAVAILABLE,"The operation could not be completed")))})),tt(S,Tl.EventType.MESSAGE,(B=>{if(!L){const et=B.data[0];Ft(!!et,16349);const X=et,nt=X?.error||X[0]?.error;if(nt){ot(Xe,`RPC '${t}' stream ${o} received error:`,nt);const pt=nt.status;let _t=(function(b){const w=we[b];if(w!==void 0)return C0(w)})(pt),wt=nt.message;_t===void 0&&(_t=it.INTERNAL,wt="Unknown error status: "+pt+" with message "+nt.message),L=!0,Q.a_(new ht(_t,wt)),S.close()}else ot(Xe,`RPC '${t}' stream ${o} received:`,et),Q.u_(et)}})),tt(m,QT.STAT_EVENT,(B=>{B.stat===mm.PROXY?ot(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):B.stat===mm.NOPROXY&&ot(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function tm(){return typeof document<"u"?document:null}function Oh(r){return new x2(r,!0)}class B0{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const pE="PersistentStream";class q0{constructor(t,n,s,o,u,f,m,g){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ht(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(pE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ot(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OD extends q0{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=P2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Tt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?Ri(f.readTime):Tt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=bm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=vm(g)?{documents:j2(u,g)}:{query:B2(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=N0(u,f.resumeToken);const y=Tm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Tt.min())>0){m.readTime=ch(u,f.snapshotVersion.toTimestamp());const y=Tm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=H2(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=bm(this.serializer),n.removeTarget=t,this.q_(n)}}class MD extends q0{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=z2(t.writeResults,t.commitTime),s=Ri(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=bm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>k2(this.serializer,s)))};this.q_(n)}}class VD{}class xD extends VD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(it.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Sm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(it.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Sm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(it.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class LD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hs="RemoteStore";class UD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Xs(this)&&(ot(Hs,"Restarting streams for network reachability change."),await(async function(g){const y=At(g);y.Ea.add(4),await Zl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Mh(y)})(this))}))})),this.Ra=new LD(s,o)}}async function Mh(r){if(Xs(r))for(const t of r.da)await t(!0)}async function Zl(r){for(const t of r.da)await t(!1)}function H0(r,t){const n=At(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),pp(n)?mp(n):fo(n).O_()&&dp(n,t))}function fp(r,t){const n=At(r),s=fo(n);n.Ia.delete(t),s.O_()&&F0(n,t),n.Ia.size===0&&(s.O_()?s.L_():Xs(n)&&n.Ra.set("Unknown"))}function dp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fo(r).Y_(t)}function F0(r,t){r.Va.Ue(t),fo(r).Z_(t)}function mp(r){r.Va=new N2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),fo(r).start(),r.Ra.ua()}function pp(r){return Xs(r)&&!fo(r).x_()&&r.Ia.size>0}function Xs(r){return At(r).Ea.size===0}function G0(r){r.Va=void 0}async function PD(r){r.Ra.set("Online")}async function kD(r){r.Ia.forEach(((t,n)=>{dp(r,t)}))}async function zD(r,t){G0(r),pp(r)?(r.Ra.ha(t),mp(r)):r.Ra.set("Unknown")}async function jD(r,t,n){if(r.Ra.set("Online"),t instanceof D0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ot(Hs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await fh(r,s)}else if(t instanceof Qc?r.Va.Ze(t):t instanceof I0?r.Va.st(t):r.Va.tt(t),!n.isEqual(Tt.min()))try{const s=await j0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Ke.EMPTY_BYTE_STRING,E.snapshotVersion)),F0(u,g);const S=new Gr(E.target,g,y,E.sequenceNumber);dp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ot(Hs,"Failed to raise snapshot:",s),await fh(r,s)}}async function fh(r,t,n){if(!ho(t))throw t;r.Ea.add(1),await Zl(r),r.Ra.set("Offline"),n||(n=()=>j0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Hs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Mh(r)}))}function Q0(r,t){return t().catch((n=>fh(r,n,t)))}async function Vh(r){const t=At(r),n=ts(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zm;for(;BD(t);)try{const o=await SD(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,qD(t,o)}catch(o){await fh(t,o)}K0(t)&&Y0(t)}function BD(r){return Xs(r)&&r.Ta.length<10}function qD(r,t){r.Ta.push(t);const n=ts(r);n.O_()&&n.X_&&n.ea(t.mutations)}function K0(r){return Xs(r)&&!ts(r).x_()&&r.Ta.length>0}function Y0(r){ts(r).start()}async function HD(r){ts(r).ra()}async function FD(r){const t=ts(r);for(const n of r.Ta)t.ea(n.mutations)}async function GD(r,t,n){const s=r.Ta.shift(),o=sp.from(s,t,n);await Q0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Vh(r)}async function QD(r,t){t&&ts(r).X_&&await(async function(s,o){if((function(f){return C2(f)&&f!==it.ABORTED})(o.code)){const u=s.Ta.shift();ts(s).B_(),await Q0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Vh(s)}})(r,t),K0(r)&&Y0(r)}async function gE(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),ot(Hs,"RemoteStore received new credentials");const s=Xs(n);n.Ea.add(3),await Zl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Mh(n)}async function KD(r,t){const n=At(r);t?(n.Ea.delete(2),await Mh(n)):t||(n.Ea.add(2),await Zl(n),n.Ra.set("Unknown"))}function fo(r){return r.ma||(r.ma=(function(n,s,o){const u=At(n);return u.sa(),new OD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:PD.bind(null,r),t_:kD.bind(null,r),r_:zD.bind(null,r),H_:jD.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),pp(r)?mp(r):r.Ra.set("Unknown")):(await r.ma.stop(),G0(r))}))),r.ma}function ts(r){return r.fa||(r.fa=(function(n,s,o){const u=At(n);return u.sa(),new MD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:HD.bind(null,r),r_:QD.bind(null,r),ta:FD.bind(null,r),na:GD.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Vh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Hs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class gp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new gp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yp(r,t){if(sr("AsyncQueue",`${t}: ${r}`),ho(r))return new ht(it.UNAVAILABLE,`${t}: ${r}`);throw r}class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||mt.comparator(n.key,s.key):(n,s)=>mt.comparator(n.key,s.key),this.keyedMap=Sl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ya;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class yE{constructor(){this.ga=new ue(mt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class ro{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new ro(t,n,Ya.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class YD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class XD{constructor(){this.queries=_E(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=At(n),u=o.queries;o.queries=_E(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ht(it.ABORTED,"Firestore shutting down"))}}function _E(){return new Ks((r=>m0(r)),wh)}async function $D(r,t){const n=At(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new YD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=yp(f,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&_p(n)}async function JD(r,t){const n=At(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ZD(r,t){const n=At(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&_p(n)}function WD(r,t,n){const s=At(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function _p(r){r.Ca.forEach((t=>{t.next()}))}var Cm,vE;(vE=Cm||(Cm={})).Ma="default",vE.Cache="cache";class tN{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new ro(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Cm.Cache}}class X0{constructor(t){this.key=t}}class $0{constructor(t){this.key=t}}class eN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=p0(t),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new yE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,S)=>{const R=o.get(E),L=Ch(this.query,S)?S:null,Q=!!R&&this.mutatedKeys.has(R.key),tt=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let B=!1;R&&L?R.data.isEqual(L.data)?Q!==tt&&(s.track({type:3,doc:L}),B=!0):this.su(R,L)||(s.track({type:2,doc:L}),B=!0,(g&&this.eu(L,g)>0||y&&this.eu(L,y)<0)&&(m=!0)):!R&&L?(s.track({type:0,doc:L}),B=!0):R&&!L&&(s.track({type:1,doc:R}),B=!0,(g||y)&&(m=!0)),B&&(L?(f=f.add(L),u=tt?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(L,Q){const tt=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:B})}};return tt(L)-tt(Q)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new ro(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new $0(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new X0(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vp="SyncEngine";class nN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class iN{constructor(t){this.key=t,this.hu=!1}}class rN{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ks((m=>m0(m)),wh),this.Iu=new Map,this.Eu=new Set,this.du=new ue(mt.comparator),this.Au=new Map,this.Ru=new lp,this.Vu={},this.mu=new Map,this.fu=io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sN(r,t,n=!0){const s=nS(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await J0(s,t,n,!0),o}async function aN(r,t){const n=nS(r);await J0(n,t,!0,!1)}async function J0(r,t,n,s){const o=await AD(r.localStore,bi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await oN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&H0(r.remoteStore,o),m}async function oN(r,t,n,s,o){r.pu=(S,R,L)=>(async function(tt,B,et,X){let nt=B.view.ru(et);nt.Cs&&(nt=await hE(tt.localStore,B.query,!1).then((({documents:D})=>B.view.ru(D,nt))));const pt=X&&X.targetChanges.get(B.targetId),_t=X&&X.targetMismatches.get(B.targetId)!=null,wt=B.view.applyChanges(nt,tt.isPrimaryClient,pt,_t);return TE(tt,B.targetId,wt.au),wt.snapshot})(r,S,R,L);const u=await hE(r.localStore,t,!0),f=new eN(t,u.Qs),m=f.ru(u.documents),g=Jl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);TE(r,n,y.au);const E=new nN(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function lN(r,t,n){const s=At(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!wh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Rm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&fp(s.remoteStore,o.targetId),Im(s,o.targetId)})).catch(co)):(Im(s,o.targetId),await Rm(s.localStore,o.targetId,!0))}async function uN(r,t){const n=At(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),fp(n.remoteStore,s.targetId))}async function cN(r,t,n){const s=yN(r);try{const o=await(function(f,m){const g=At(f),y=ne.now(),E=m.reduce(((L,Q)=>L.add(Q.key)),Lt());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let Q=ar(),tt=Lt();return g.Ns.getEntries(L,E).next((B=>{Q=B,Q.forEach(((et,X)=>{X.isValidDocument()||(tt=tt.add(et))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,Q))).next((B=>{S=B;const et=[];for(const X of m){const nt=S2(X,S.get(X.key).overlayedDocument);nt!=null&&et.push(new Ys(X.key,nt,o0(nt.value.mapValue),er.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,et,m)})).next((B=>{R=B;const et=B.applyToLocalDocumentSet(S,tt);return g.documentOverlayCache.saveOverlays(L,B.batchId,et)}))})).then((()=>({batchId:R.batchId,changes:y0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ue(xt)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await Wl(s,o.changes),await Vh(s.remoteStore)}catch(o){const u=yp(o,"Failed to persist write");n.reject(u)}}async function Z0(r,t){const n=At(r);try{const s=await ED(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ft(f.hu,14607):o.removedDocuments.size>0&&(Ft(f.hu,42227),f.hu=!1))})),await Wl(n,s,t)}catch(s){await co(s)}}function EE(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=At(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const R of S.Sa)R.va(m)&&(y=!0)})),y&&_p(g)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function hN(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ue(mt.comparator);f=f.insert(u,Je.newNoDocument(u,Tt.min()));const m=Lt().add(u),g=new Nh(Tt.min(),new Map,new ue(xt),f,m);await Z0(s,g),s.du=s.du.remove(u),s.Au.delete(t),Ep(s)}else await Rm(s.localStore,t,!1).then((()=>Im(s,t,n))).catch(co)}async function fN(r,t){const n=At(r),s=t.batch.batchId;try{const o=await vD(n.localStore,t);tS(n,s,null),W0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Wl(n,o)}catch(o){await co(o)}}async function dN(r,t,n){const s=At(r);try{const o=await(function(f,m){const g=At(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(Ft(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);tS(s,t,n),W0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Wl(s,o)}catch(o){await co(o)}}function W0(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function tS(r,t,n){const s=At(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Im(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||eS(r,s)}))}function eS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(fp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Ep(r))}function TE(r,t,n){for(const s of n)s instanceof X0?(r.Ru.addReference(s.key,t),mN(r,s)):s instanceof $0?(ot(vp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||eS(r,s.key)):yt(19791,{wu:s})}function mN(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ot(vp,"New document in limbo: "+n),r.Eu.add(s),Ep(r))}function Ep(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new mt(oe.fromString(t)),s=r.fu.next();r.Au.set(s,new iN(n)),r.du=r.du.insert(n,s),H0(r.remoteStore,new Gr(bi(ip(n.path)),s,"TargetPurposeLimboResolution",Sh.ce))}}async function Wl(r,t,n){const s=At(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=cp.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=At(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(y,(R=>W.forEach(R.Es,(L=>E.persistence.referenceDelegate.addReference(S,R.targetId,L))).next((()=>W.forEach(R.ds,(L=>E.persistence.referenceDelegate.removeReference(S,R.targetId,L)))))))))}catch(S){if(!ho(S))throw S;ot(hp,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const L=E.Ms.get(R),Q=L.snapshotVersion,tt=L.withLastLimboFreeSnapshotVersion(Q);E.Ms=E.Ms.insert(R,tt)}}})(s.localStore,u))}async function pN(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){ot(vp,"User change. New user:",t.toKey());const s=await z0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ht(it.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Wl(n,s.Ls)}}function gN(r,t){const n=At(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function nS(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=Z0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hN.bind(null,t),t.Pu.H_=ZD.bind(null,t.eventManager),t.Pu.yu=WD.bind(null,t.eventManager),t}function yN(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dN.bind(null,t),t}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Oh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return _D(this.persistence,new pD,t.initialUser,this.serializer)}Cu(t){return new k0(up.mi,this.serializer)}Du(t){return new RD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class _N extends dh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tD(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new k0((s=>hh.mi(s,n)),this.serializer)}}class Dm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>EE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pN.bind(null,this.syncEngine),await KD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new XD})()}createDatastore(t){const n=Oh(t.databaseInfo.databaseId),s=(function(u){return new ND(u)})(t.databaseInfo);return(function(u,f,m,g){return new xD(u,f,m,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new UD(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>EE(this.syncEngine,n,0)),(function(){return mE.v()?new mE:new wD})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,E){const S=new rN(o,u,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=At(n);ot(Hs,"RemoteStore shutting down."),s.Ea.add(5),await Zl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class vN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):sr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const es="FirestoreClient";class EN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ot(es,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ot(es,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=yp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function em(r,t){r.asyncQueue.verifyOperationInProgress(),ot(es,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await z0(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function SE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await TN(r);ot(es,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>gE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>gE(t.remoteStore,o))),r._onlineComponents=t}async function TN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(es,"Using user provided OfflineComponentProvider");try{await em(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await em(r,new dh)}}else ot(es,"Using default OfflineComponentProvider"),await em(r,new _N(void 0));return r._offlineComponents}async function iS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(es,"Using user provided OnlineComponentProvider"),await SE(r,r._uninitializedComponentsProvider._online)):(ot(es,"Using default OnlineComponentProvider"),await SE(r,new Dm))),r._onlineComponents}function SN(r){return iS(r).then((t=>t.syncEngine))}async function AE(r){const t=await iS(r),n=t.eventManager;return n.onListen=sN.bind(null,t.syncEngine),n.onUnlisten=lN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=aN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=uN.bind(null,t.syncEngine),n}function rS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const bE=new Map;const sS="firestore.googleapis.com",RE=!0;class wE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sS,this.ssl=RE}else this.host=t.host,this.ssl=t.ssl??RE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=P0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Z2)throw new ht(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Tp{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new bI;switch(s.type){case"firstParty":return new II(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=bE.get(n);s&&(ot("ComponentProvider","Removing Datastore"),bE.delete(n),s.terminate())})(this),Promise.resolve()}}function AN(r,t,n,s={}){r=Ka(r,Tp);const o=ao(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(sT(`https://${m}`),aT("Firestore",!0)),u.host!==sS&&u.host!==m&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!zs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$e.MOCK_USER;else{y=Yb(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ht(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(S)}r._authCredentials=new RI(new $T(y,E))}}class xh{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new xh(this.firestore,t,this._query)}}class ke{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ke(this.firestore,t,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Xl(n,ke._jsonSchema))return new ke(t,s||null,new mt(oe.fromString(n.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:Ce("string",ke._jsonSchemaVersion),referencePath:Ce("string")};class jl extends xh{constructor(t,n,s){super(t,n,ip(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ke(this.firestore,null,new mt(t))}withConverter(t){return new jl(this.firestore,t,this._path)}}function CE(r,t,...n){if(r=En(r),arguments.length===1&&(t=$m.newId()),xI("doc","path",t),r instanceof Tp){const s=oe.fromString(t,...n);return zv(s),new ke(r,null,new mt(s))}{if(!(r instanceof ke||r instanceof jl))throw new ht(it.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(oe.fromString(t,...n));return zv(s),new ke(r.firestore,r instanceof jl?r.converter:null,new mt(s))}}const IE="AsyncQueue";class DE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B0(this,"async_queue_retry"),this._c=()=>{const s=tm();s&&ot(IE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ho(t))throw t;ot(IE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",NE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=gp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:NE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function NE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function OE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class mh extends Tp{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new DE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new DE(t),this._firestoreClient=void 0,await t}}}function bN(r,t){const n=typeof r=="object"?r:cT(),s=typeof r=="string"?r:rh,o=km(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Qb("firestore");u&&AN(o,...u)}return o}function aS(r){if(r._terminated)throw new ht(it.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RN(r),r._firestoreClient}function RN(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new QI(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,rS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new EN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(n){throw new ht(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ce("string",Ln._jsonSchemaVersion),bytes:Ce("string")};class Sp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class oS{constructor(t){this._methodName=t}}class wi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(Xl(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ce("string",wi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Ci{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xl(t,Ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ci(t.vectorValues);throw new ht(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:Ce("string",Ci._jsonSchemaVersion),vectorValues:Ce("object")};const wN=/^__.*__$/;class CN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ys(t,this.data,this.fieldMask,n,this.fieldTransforms):new $l(t,this.data,n,this.fieldTransforms)}}function lS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class Ap{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ap({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ph(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(lS(this.Ac)&&wN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class IN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Oh(t)}Cc(t,n,s,o=!1){return new Ap({Ac:t,methodName:n,Dc:s,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DN(r){const t=r._freezeSettings(),n=Oh(r._databaseId);return new IN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function NN(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);fS("Data must be an object, but it was:",f,s);const m=cS(s,f);let g,y;if(u.merge)g=new Zn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const R=ON(t,S,n);if(!f.contains(R))throw new ht(it.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);VN(E,R)||E.push(R)}g=new Zn(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new CN(new xn(m),g,y)}function uS(r,t){if(hS(r=En(r)))return fS("Unsupported field value:",t,r),cS(r,t);if(r instanceof oS)return(function(s,o){if(!lS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=uS(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=En(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return g2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ne.fromDate(s);return{timestampValue:ch(o.serializer,u)}}if(s instanceof ne){const u=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ch(o.serializer,u)}}if(s instanceof wi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:N0(o.serializer,s._byteString)};if(s instanceof ke){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:op(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ci)return(function(f,m){return{mapValue:{fields:{[s0]:{stringValue:a0},[sh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return rp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Jm(s)}`)})(r,t)}function cS(r,t){const n={};return WT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qs(r,((s,o)=>{const u=uS(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function hS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof wi||r instanceof Ln||r instanceof ke||r instanceof oS||r instanceof Ci)}function fS(r,t,n){if(!hS(n)||!JT(n)){const s=Jm(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function ON(r,t,n){if((t=En(t))instanceof Sp)return t._internalPath;if(typeof t=="string")return dS(r,t);throw ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const MN=new RegExp("[~\\*/\\[\\]]");function dS(r,t,n){if(t.search(MN)>=0)throw ph(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Sp(...t.split("."))._internalPath}catch{throw ph(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ph(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ht(it.INVALID_ARGUMENT,m+r+g)}function VN(r,t){return r.some((n=>n.isEqual(t)))}class mS{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(pS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xN extends mS{data(){return super.data()}}function pS(r,t){return typeof t=="string"?dS(r,t):t instanceof Sp?t._internalPath:t._delegate._internalPath}function LN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UN{convertValue(t,n="none"){switch(Wr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Zr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Qs(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[sh].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Ci(n)}convertGeoPoint(t){return new wi(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=bh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const n=Jr(t);return new ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=oe.fromString(t);Ft(U0(s),9688,{name:t});const o=new Ul(s.get(1),s.get(3)),u=new mt(s.popFirst(5));return o.isEqual(n)||sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function PN(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class bl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ks extends mS{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(pS("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",ks._jsonSchema={type:Ce("string",ks._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Kc extends ks{data(t={}){return super.data(t)}}class Xa{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new bl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Kc(this._firestore,this._userDataWriter,s.key,s,new bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new Kc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Kc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:kN(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Ce("string",Xa._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class gS extends UN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ke(this.firestore,null,n)}}function zN(r,t,n){r=Ka(r,ke);const s=Ka(r.firestore,mh),o=PN(r.converter,t,n);return BN(s,[NN(DN(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,er.none())])}function jN(r,...t){r=En(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||OE(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(OE(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let u,f,m;if(r instanceof ke)f=Ka(r.firestore,mh),m=ip(r._key.path),u={next:g=>{t[s]&&t[s](qN(f,r,g))},error:t[s+1],complete:t[s+2]};else{const g=Ka(r,xh);f=Ka(g.firestore,mh),m=g._query;const y=new gS(f);u={next:E=>{t[s]&&t[s](new Xa(f,y,g,E))},error:t[s+1],complete:t[s+2]},LN(r._query)}return(function(y,E,S,R){const L=new vN(R),Q=new tN(E,L,S);return y.asyncQueue.enqueueAndForget((async()=>$D(await AE(y),Q))),()=>{L.Nu(),y.asyncQueue.enqueueAndForget((async()=>JD(await AE(y),Q)))}})(aS(f),m,o,u)}function BN(r,t){return(function(s,o){const u=new Ps;return s.asyncQueue.enqueueAndForget((async()=>cN(await SN(s),o,u))),u.promise})(aS(r),t)}function qN(r,t,n){const s=n.docs.get(t._key),o=new gS(r);return new ks(r,o,t._key,s,new bl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){uo=o})(oo),Ja(new js("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new mh(new wI(s.getProvider("auth-internal")),new DI(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ht(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Yr(Lv,Uv,t),Yr(Lv,Uv,"esm2020")})();const HN={apiKey:"AIzaSyCXnbSet8-QwkT3BpvWdWEmmqw97wRQp_k",authDomain:"leetcodepremium-9da75.firebaseapp.com",projectId:"leetcodepremium-9da75",storageBucket:"leetcodepremium-9da75.firebasestorage.app",messagingSenderId:"515983191460",appId:"1:515983191460:web:d40cf8faaf812a1835a531"},yS=uT(HN),nm=SI(yS),FN=new Ji,ME=bN(yS),_S=G.createContext();function GN({children:r}){const[t,n]=G.useState(null),[s,o]=G.useState(!0),[u,f]=G.useState(null),[m,g]=G.useState(!0),[y,E]=G.useState(new Set),[S,R]=G.useState({search:"",difficulty:["Easy","Medium","Hard"],status:"all",timeframe:"all",sort:"frequency-desc"});G.useEffect(()=>{fetch("/data.json").then(X=>X.json()).then(X=>{n(X),o(!1)}).catch(X=>{console.error("Failed to load data:",X),o(!1)})},[]),G.useEffect(()=>{const X=cC(nm,nt=>{nt?f({uid:nt.uid,name:nt.displayName||nt.email?.split("@")[0]||"User",email:nt.email,photo:nt.photoURL}):(f(null),E(new Set)),g(!1)});return()=>X()},[]),G.useEffect(()=>{if(!u?.uid)return;const X=CE(ME,"users",u.uid),nt=jN(X,pt=>{if(pt.exists()){const _t=pt.data();_t.solvedQuestions&&E(new Set(_t.solvedQuestions))}},pt=>{console.error("Firestore error:",pt);const _t=localStorage.getItem(`leetcode_solved_${u.uid}`);_t&&E(new Set(JSON.parse(_t)))});return()=>nt()},[u?.uid]);const et={data:t,loading:s,user:u,authLoading:m,solvedQuestions:y,filters:S,loginWithGoogle:async()=>{try{return(await OC(nm,FN)).user}catch(X){throw console.error("Login error:",X),X}},logout:async()=>{try{await hC(nm)}catch(X){console.error("Logout error:",X)}},toggleSolved:async X=>{if(!u?.uid)return!1;const nt=new Set(y);nt.has(X)?nt.delete(X):nt.add(X),E(nt);try{const pt=CE(ME,"users",u.uid);await zN(pt,{solvedQuestions:[...nt],email:u.email,updatedAt:new Date().toISOString()},{merge:!0})}catch(pt){console.error("Save error:",pt),localStorage.setItem(`leetcode_solved_${u.uid}`,JSON.stringify([...nt]))}return!0},updateFilters:X=>{R(nt=>({...nt,...X}))}};return q.jsx(_S.Provider,{value:et,children:r})}const Lh=()=>G.useContext(_S);function QN(){const{data:r,user:t,logout:n,loginWithGoogle:s,solvedQuestions:o,filters:u,authLoading:f}=Lh(),m=()=>r?.uniqueQuestions?(r.uniqueQuestions[u.timeframe]||r.uniqueQuestions.all||0).toLocaleString():"-",g=()=>{if(!r?.companies)return"-";const E=r.companies.filter(S=>S.timeframes[u.timeframe]).length;return E>0?E.toLocaleString():r.totalCompanies.toLocaleString()},y=async()=>{try{await s()}catch(E){console.error("Login failed:",E)}};return q.jsx("header",{className:"header",children:q.jsxs("div",{className:"header-content",children:[q.jsxs($a,{to:"/",className:"logo",children:[q.jsx("span",{className:"logo-icon",children:""}),q.jsxs("h1",{children:["LeetCode ",q.jsx("span",{className:"accent",children:"Company"})," Questions"]})]}),q.jsxs("div",{className:"header-right",children:[q.jsxs("div",{className:"header-stats",children:[q.jsxs("div",{className:"stat",children:[q.jsx("span",{className:"stat-value",children:g()}),q.jsx("span",{className:"stat-label",children:"Companies"})]}),q.jsxs("div",{className:"stat",children:[q.jsx("span",{className:"stat-value",children:m()}),q.jsx("span",{className:"stat-label",children:"Questions"})]}),q.jsxs("div",{className:"stat",children:[q.jsx("span",{className:"stat-value solved",children:o.size.toLocaleString()}),q.jsx("span",{className:"stat-label",children:"Solved"})]})]}),f?q.jsx("span",{className:"auth-loading",children:"..."}):t?q.jsxs("div",{className:"user-section",children:[t.photo?q.jsx("img",{src:t.photo,alt:"",className:"user-photo"}):q.jsx("span",{className:"user-avatar",children:t.name.charAt(0).toUpperCase()}),q.jsx("span",{className:"user-name",children:t.name}),q.jsx("button",{className:"logout-btn",onClick:n,children:"Logout"})]}):q.jsxs("button",{className:"auth-btn google-btn",onClick:y,children:[q.jsxs("svg",{viewBox:"0 0 24 24",width:"16",height:"16",children:[q.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),q.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),q.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),q.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})]})]})})}function vS({showTimeframe:r=!0,showStatus:t=!0}){const{data:n,user:s,filters:o,updateFilters:u,solvedQuestions:f}=Lh(),m=E=>{const S=o.difficulty;S.includes(E)?u({difficulty:S.filter(R=>R!==E)}):u({difficulty:[...S,E]})},g=()=>{u({search:"",difficulty:["Easy","Medium","Hard"],status:"all",timeframe:"all",sort:"frequency-desc"})},y=n?f.size/n.totalQuestions*100:0;return q.jsxs("aside",{className:"sidebar",children:[q.jsxs("div",{className:"search-container",children:[q.jsx("input",{type:"text",className:"search-input",placeholder:"Search...",value:o.search,onChange:E=>u({search:E.target.value})}),q.jsxs("svg",{className:"search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[q.jsx("circle",{cx:"11",cy:"11",r:"8"}),q.jsx("path",{d:"m21 21-4.35-4.35"})]})]}),s&&q.jsxs("div",{className:"filter-section progress-section",children:[q.jsx("h3",{className:"filter-title",children:"Your Progress"}),q.jsx("div",{className:"progress-bar",children:q.jsx("div",{className:"progress-fill",style:{width:`${y}%`}})}),q.jsxs("div",{className:"progress-text",children:[q.jsx("span",{children:f.size})," / ",n?.totalQuestions?.toLocaleString()," solved"]})]}),r&&n?.timeframes&&q.jsxs("div",{className:"filter-section",children:[q.jsx("h3",{className:"filter-title",children:"Last Asked"}),q.jsx("select",{className:"timeframe-select",value:o.timeframe,onChange:E=>u({timeframe:E.target.value}),children:n.timeframes.map(E=>q.jsx("option",{value:E.key,children:E.label},E.key))})]}),q.jsxs("div",{className:"filter-section",children:[q.jsx("h3",{className:"filter-title",children:"Difficulty"}),q.jsx("div",{className:"filter-buttons",children:["Easy","Medium","Hard"].map(E=>q.jsxs("button",{className:`filter-btn ${E.toLowerCase()} ${o.difficulty.includes(E)?"active":""}`,onClick:()=>m(E),children:[q.jsx("span",{className:"dot"})," ",E]},E))})]}),t&&q.jsxs("div",{className:"filter-section",children:[q.jsx("h3",{className:"filter-title",children:"Status"}),q.jsx("div",{className:"filter-buttons",children:[{key:"all",label:"All"},{key:"solved",label:" Solved"},{key:"unsolved",label:"Unsolved"}].map(E=>q.jsx("button",{className:`filter-btn status ${o.status===E.key?"active":""}`,onClick:()=>u({status:E.key}),children:E.label},E.key))})]}),q.jsx("button",{className:"reset-btn",onClick:g,children:"Reset Filters"})]})}function KN(){const{data:r,loading:t,filters:n,solvedQuestions:s}=Lh(),o=G.useMemo(()=>{if(!r)return[];let m=r.companies;if(n.search){const g=n.search.toLowerCase();m=m.filter(y=>y.displayName.toLowerCase().includes(g)||y.name.toLowerCase().includes(g))}return m},[r,n.search]),u=m=>{const g=m.timeframes[n.timeframe]||m.timeframes.all;if(!g)return{solved:0,total:0};let y=0;for(const E of g.questions)s.has(E.id)&&y++;return{solved:y,total:g.total}},f=m=>m.timeframes[n.timeframe]||m.timeframes.all||{total:m.total,easy:m.easy,medium:m.medium,hard:m.hard};return t?q.jsx("main",{className:"main",children:q.jsx("div",{className:"empty-state",children:q.jsx("h3",{children:"Loading..."})})}):q.jsxs("main",{className:"main",children:[q.jsx(vS,{showTimeframe:!0,showStatus:!1}),q.jsxs("div",{className:"content",children:[q.jsxs("div",{className:"view-header",children:[q.jsx("h2",{children:"All Companies"}),q.jsxs("span",{className:"results-count",children:[o.length," companies"]})]}),o.length===0?q.jsxs("div",{className:"empty-state",children:[q.jsx("h3",{children:"No companies found"}),q.jsx("p",{children:"Try a different search term"})]}):q.jsx("div",{className:"company-grid",children:o.map(m=>{const g=f(m),{solved:y,total:E}=u(m),S=g.easy/g.total*100||0,R=g.medium/g.total*100||0,L=g.hard/g.total*100||0,Q=E>0?y/E*100:0;return q.jsxs($a,{to:`/company/${m.slug}`,className:"company-card",children:[q.jsxs("div",{className:"company-card-header",children:[q.jsx("span",{className:"company-name",children:m.displayName}),q.jsxs("span",{className:"company-total",children:[g.total," questions"]})]}),q.jsxs("div",{className:"difficulty-bar",children:[q.jsx("div",{className:"easy-bar",style:{width:`${S}%`}}),q.jsx("div",{className:"medium-bar",style:{width:`${R}%`}}),q.jsx("div",{className:"hard-bar",style:{width:`${L}%`}})]}),q.jsxs("div",{className:"difficulty-stats",children:[q.jsxs("div",{className:"difficulty-stat easy",children:[q.jsx("span",{className:"dot"}),q.jsxs("span",{children:[g.easy," Easy"]})]}),q.jsxs("div",{className:"difficulty-stat medium",children:[q.jsx("span",{className:"dot"}),q.jsxs("span",{children:[g.medium," Medium"]})]}),q.jsxs("div",{className:"difficulty-stat hard",children:[q.jsx("span",{className:"dot"}),q.jsxs("span",{children:[g.hard," Hard"]})]})]}),q.jsxs("div",{className:"company-solved",children:[q.jsx("div",{className:"company-solved-bar",children:q.jsx("div",{className:"company-solved-fill",style:{width:`${Q}%`}})}),q.jsxs("span",{className:"company-solved-text",children:[y,"/",E]})]})]},m.name)})})]})]})}function YN(){const{slug:r}=H1(),{data:t,loading:n,filters:s,solvedQuestions:o,toggleSolved:u,user:f,loginWithGoogle:m}=Lh(),g=G.useMemo(()=>t?t.companies.find(R=>R.slug===r||R.name===r):null,[t,r]),y=G.useMemo(()=>{if(!g)return[];const R=g.timeframes[s.timeframe]||g.timeframes.all;if(!R)return[];let L=[...R.questions];if(L=L.filter(B=>s.difficulty.includes(B.difficulty)),s.status==="solved"?L=L.filter(B=>o.has(B.id)):s.status==="unsolved"&&(L=L.filter(B=>!o.has(B.id))),s.search){const B=s.search.toLowerCase();L=L.filter(et=>et.title.toLowerCase().includes(B)||et.id.toString().includes(B))}const[Q,tt]=s.sort.split("-");return L.sort((B,et)=>{let X,nt;switch(Q){case"frequency":X=B.frequency,nt=et.frequency;break;case"difficulty":const pt={Easy:1,Medium:2,Hard:3};X=pt[B.difficulty],nt=pt[et.difficulty];break;case"acceptance":X=B.acceptance,nt=et.acceptance;break;case"title":X=B.title.toLowerCase(),nt=et.title.toLowerCase();break;case"id":X=B.id,nt=et.id;break;default:X=B.frequency,nt=et.frequency}return tt==="asc"?X>nt?1:-1:X<nt?1:-1}),L},[g,s,o]),E=G.useMemo(()=>y.filter(R=>o.has(R.id)).length,[y,o]),S=async R=>{if(!f){try{await m()}catch(L){console.error(L)}return}u(R)};return n?q.jsx("main",{className:"main",children:q.jsx("div",{className:"empty-state",children:q.jsx("h3",{children:"Loading..."})})}):g?q.jsxs("main",{className:"main",children:[q.jsx(vS,{showTimeframe:!0,showStatus:!0}),q.jsxs("div",{className:"content",children:[q.jsxs("div",{className:"view-header",children:[q.jsx($a,{to:"/",className:"back-btn",children:" Back"}),q.jsx("h2",{children:g.displayName}),q.jsxs("span",{className:"results-count",children:[y.length," questions  ",E," solved"]})]}),y.length===0?q.jsxs("div",{className:"empty-state",children:[q.jsx("h3",{children:"No questions match your filters"}),q.jsx("p",{children:"Try adjusting your filter settings"})]}):q.jsx("div",{className:"table-container",children:q.jsxs("table",{className:"questions-table",children:[q.jsx("thead",{children:q.jsxs("tr",{children:[q.jsx("th",{style:{width:50},children:"Status"}),q.jsx("th",{style:{width:60},children:"ID"}),q.jsx("th",{children:"Title"}),q.jsx("th",{style:{width:90},children:"Difficulty"}),q.jsx("th",{style:{width:90},children:"Acceptance"}),q.jsx("th",{style:{width:120},children:"Frequency"})]})}),q.jsx("tbody",{children:y.map(R=>{const L=o.has(R.id);return q.jsxs("tr",{className:L?"solved-row":"",children:[q.jsx("td",{children:q.jsx("input",{type:"checkbox",className:"solved-checkbox",checked:L,onChange:()=>S(R.id),title:f?"Mark as solved":"Sign in to track progress"})}),q.jsx("td",{children:R.id}),q.jsx("td",{children:q.jsx("a",{href:R.url,target:"_blank",rel:"noopener noreferrer",className:"question-link",children:R.title})}),q.jsx("td",{children:q.jsx("span",{className:`difficulty-badge ${R.difficulty.toLowerCase()}`,children:R.difficulty})}),q.jsxs("td",{children:[R.acceptance.toFixed(1),"%"]}),q.jsx("td",{children:q.jsxs("div",{className:"frequency-cell",children:[q.jsx("div",{className:"frequency-bar",children:q.jsx("div",{className:"frequency-fill",style:{width:`${R.frequency}%`}})}),q.jsxs("span",{className:"frequency-value",children:[R.frequency.toFixed(1),"%"]})]})})]},R.id)})})]})})]})]}):q.jsx("main",{className:"main",children:q.jsxs("div",{className:"empty-state",children:[q.jsx("h3",{children:"Company not found"}),q.jsx($a,{to:"/",className:"back-btn",children:" Back to Companies"})]})})}function XN(){return q.jsx(GN,{children:q.jsx(Ib,{children:q.jsxs("div",{className:"app",children:[q.jsx(QN,{}),q.jsxs(rb,{children:[q.jsx(rm,{path:"/",element:q.jsx(KN,{})}),q.jsx(rm,{path:"/company/:slug",element:q.jsx(YN,{})})]}),q.jsx("footer",{className:"footer",children:q.jsx("p",{children:"Data sourced from LeetCode Premium  Progress synced to cloud"})})]})})})}s1.createRoot(document.getElementById("root")).render(q.jsx(G.StrictMode,{children:q.jsx(XN,{})}));
